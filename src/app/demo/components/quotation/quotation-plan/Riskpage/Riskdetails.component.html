<div class="container">
    <div *ngIf="productId=='59'">
        <div class="mt-4">
            <div class="grid mb-3">
                <div class="lg:col-2">
                </div>
                <div class="col-12 lg:col-8 xl:col-8"
                    *ngIf="!((coversreuired=='B' || coversreuired=='BC') && Building1) || (coversreuired=='B' || coversreuired=='BC') && Building1">
                    <div class="memberDetailCard">
                        <div class="grid">
                            <div class="mb-2 col-12 lg:col-7 xl:col-7">
                                <b>Location Details</b>
                            </div>
                            <div class="mb-2 col-12 lg:col-5 xl:col-5">&nbsp;<p-button label="Add Location"
                                    icon="pi pi-plus" (click)="onAddLocationDetails()" />&nbsp;</div>
                        </div>
                        <ng-container>

                            <div class="grid mt-2">
                                <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                                    <p-table [value]="locationList" dataKey="id" editMode="row" [rows]="5"
                                        [paginator]="false" [tableStyle]="{'min-width': '50rem' }">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th [pSortableColumn]="column"
                                                    *ngFor="let column of buildingColumnHeader">
                                                    {{column}}
                                                </th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-product let-ri="rowIndex">
                                            <tr>
                                                <td>
                                                    <ng-container *ngIf="locationIndex==ri">
                                                        <input class="w-full p-button-outlined"
                                                            placeholder="Enter Location Name" styleClass="w-full"
                                                            pInputText type="text" [(ngModel)]="product.LocationName" />
                                                    </ng-container>
                                                    <ng-container *ngIf="locationIndex!=ri">
                                                        {{product.LocationName}}
                                                    </ng-container>
                                                    <div class="input-form-error" *ngIf="product.LocationNameError">
                                                        <div class="error-text text-danger">
                                                            Enter Valid LocationName
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <ng-container *ngIf="locationIndex==ri">
                                                        <input class="w-full p-button-outlined"
                                                            placeholder="Enter Address" styleClass="w-full" pInputText
                                                            type="text" [(ngModel)]="product.BuildingAddress" />
                                                    </ng-container>
                                                    <ng-container *ngIf="locationIndex!=ri">
                                                        {{product.BuildingAddress}}
                                                    </ng-container>
                                                    <div class="input-form-error" *ngIf="product.BuildingAddressError">
                                                        <div class="error-text text-danger">
                                                            Enter Valid Address
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="flex align-items-center justify-content-center gap-2">
                                                        <button pButton type="button" *ngIf="locationIndex!=ri"
                                                            icon="pi pi-pencil" (click)="locationIndex=ri"
                                                            styleClass="p-button-outlined">
                                                        </button>
                                                        <button pButton type="button" icon="pi pi-trash"
                                                            (click)="deleteLocation(ri)" styleClass="p-button-outlined">
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </div>

                            </div>
                            <!-- <div class="flex flex-warp justify-content-center mt-2" *ngIf="locationIndex!=null">
                                <p-button label="Save Locations" (click)="onSaveLocationDetails()" />
                            </div> -->
                        </ng-container>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="locationList.length!=0 && checkLocationDetailAlt()">
                <div class="grid mb-3">
                    <div class="col-12">
                        <p-tabView [(activeIndex)]="tabIndex">
                            <ng-container *ngFor="let item of locationList;let k=index">
                                <p-tabPanel [header]="item.LocationName" [scrollable]="true">
                                    <div class="col-12 pl-3 pr-2 pb-0">
                                        <div>
                                            <h4 class="m-0 p-0">Section Modification</h4>
                                        </div>
                                        <div class="grid mt-1">
                                            <!-- <div class="lg:col-2 md:col-2 col-2"></div> -->
                                            <div class="lg:col-12 md:col-12 col-12">
                                                <div class="grid" *ngIf="productId=='59'">
                                                    <div class="lg:col-4 md:col-4 col-12">
                                                        <div class="input-control-container">
                                                            <label class="input-form-label">Ownership Status</label><span class="text-danger">*</span>
                                                            <div class="input-form-radio-box mt-5">
                                                                <div class="radio-toolbar">
                                                                    <input [id]="'claims_Own'+k" type="radio"
                                                                        [name]="'rentOwnHome'+k"
                                                                        (change)="setBuildingOwnerYN()"
                                                                        [(ngModel)]="item.BuildingOwnerYn" value="Y">
                                                                    <label [for]="'claims_Own'+k" class="yes_alt"><img
                                                                            style="max-width: 30px;max-height: 10px;">LANDLORD</label>
                                                                    <input [id]="'claims_Rent'+k" type="radio"
                                                                        [name]="'rentOwnHome'+k"
                                                                        (change)="setBuildingOwnerYN()"
                                                                        [(ngModel)]="item.BuildingOwnerYn" value="N">
                                                                    <label [for]="'claims_Rent'+k" class="no"><img
                                                                            style="max-width: 30px;max-height: 10px;">TENANT</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="lg:col-8 md:col-8 col-12">
                                                        <div class="input-control-container">
                                                            <label class="input-form-label">Cover Required</label><span
                                                                class="text-danger">*</span>
                                                            <div class="input-form-radio-box mt-5">
                                                                <div class="radio-toolbar2" style="width: fit-content;">
                                                                    <input [id]="'Content'+k" type="radio"
                                                                        [name]="'Content'+k" value="C"
                                                                        [(ngModel)]="item.CoversRequired">
                                                                    <label [for]="'Content'+k" class="yes_alt"
                                                                        (click)="menuSelection('C','Domestic')"><img
                                                                            style="max-width: 30px;max-height: 10px;">&nbsp;CONTENTS</label>
                                                                    <ng-container *ngIf="item.BuildingOwnerYn=='Y'">
                                                                        <input [id]="'Building'+k" type="radio"
                                                                            [name]="'Content'+k" value="B"
                                                                            [(ngModel)]="item.CoversRequired">
                                                                        <label [for]="'Building'+k" class="no"
                                                                            (click)="menuSelection('B','Domestic')"><img
                                                                                style="max-width: 30px;max-height: 10px;">&nbsp;BUILDING</label>
                                                                        <input [id]="'Building_Contents'+k" type="radio"
                                                                            [name]="'Content'+k"
                                                                            [(ngModel)]="item.CoversRequired"
                                                                            value="BC">
                                                                        <label [for]="'Building_Contents'+k" class="no"
                                                                            (click)="menuSelection('BC','Domestic')"><img
                                                                                style="max-width: 30px;max-height: 10px;"
                                                                                src="./assets/images/houseContents.png">&nbsp;BUILDING
                                                                            & CONTENTS</label>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" *ngIf="productId=='19' || productId=='24'">
                                                    <div class="col-12 col-md-5 col-lg-5 offset-md-1 offset-lg-1">
                                                        <div class="input-control-container">
                                                            <label
                                                                class="input-form-label">Industry</label>&nbsp;<ng-container
                                                                *ngIf="categoryDesc">({{categoryDesc}})</ng-container><span
                                                                class="text-danger">*</span>
                                                            <ng-select class="custom" [items]="industryList"
                                                                [(ngModel)]="IndustryId" placeholder="Select Industry"
                                                                appendTo="body" [ngModelOptions]="{standalone: true}"
                                                                bindValue="Code" bindLabel="CodeDesc">
                                                            </ng-select>
                                                        </div>
                                                        <div class="input-form-error" *ngIf="industryError"
                                                            style="position: relative;">
                                                            <div class="error-text text-danger">
                                                                <span class="spancommon span_font_size"> Please Select
                                                                    Industry</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="grid" *ngIf="productId=='59'">
                                        <div class="lg:col-12 md:col-12 col-12">
                                            <div class="grid flex flex-nowrap">
                                                <div class="col-xl-2 col-sm-3 col-md-3 col-lg-3">
                                                    <div class="card domesticCardCss shadow-4 px-0 py-0">
                                                        <div class="list-group">
                                                            <div class="list-group--header-item"><strong
                                                                    class="ml-3">Cover</strong></div>
                                                            <ng-container
                                                                *ngFor="let list of domesticMenus;  index as i">
                                                                <div class="list-group-item"
                                                                    (click)="listProceed('Domestic',i)"
                                                                    [ngStyle]="{'background': list.menu == currentDomestic ? 'aliceblue' : 'white'}"
                                                                    [ngClass]="{ 'active': list == currentDomestic , 'list-completed' : list.filled}">
                                                                    <div class="grid mx-0">
                                                                        <div class="col-10">
                                                                            {{ list.menu }}
                                                                        </div>
                                                                        <div class="col-1">
                                                                            <i *ngIf="list.filled"
                                                                                class="pi pi-check float-right "></i>
                                                                        </div>
                                                                    </div>


                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="card">
                                                        <div
                                                            *ngIf="currentDomestic =='BuildingDetails' && (item.CoversRequired=='B' || item.CoversRequired=='BC')">
                                                            <div class="grid justify-content-start">
                                                                <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                    <b>Building Details</b>
                                                                </div>
                                                            </div>
                                                            <div class="w-100 overflow-auto">
                                                                <div class="text-right mb-3">
                                                                    <p-button label="Add New"
                                                                        styleClass="mr-3 p-button-outlined"
                                                                        (click)="addBuildingList(item)"></p-button>
                                                                </div>
                                                                <div>
                                                                    <p-table [value]="item.BuildingList"
                                                                        dataKey="LocationName" editMode="row" [rows]="5"
                                                                        [paginator]="false"
                                                                        [style]="{'max-width': '100%'}">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th [pSortableColumn]="column"
                                                                                    *ngFor="let column of columnHeaderBuilding">
                                                                                    {{column}}
                                                                                </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-Building
                                                                            let-ri="rowIndex">
                                                                            <tr>

                                                                                <td>
                                                                                    <!-- <ng-container
                                                                                        *ngIf="currentBuildingRowIndex==ri"> -->
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select Wall Type"
                                                                                        [options]="wallMaterialList"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        [(ngModel)]="Building.WallType" />

                                                                                    <!-- </ng-container>
                                                                                    <ng-container
                                                                                        *ngIf="currentBuildingRowIndex!=ri">
                                                                                        {{getwallTypeDescription(Building.WallType)}}
                                                                                    </ng-container> -->
                                                                                    <div class="input-form-error"
                                                                                        *ngIf="Building.WallTypeError"
                                                                                        style="width: max-content;">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Select WallType
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <!-- <ng-container
                                                                                        *ngIf="currentBuildingRowIndex==ri"> -->
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select Roof Type"
                                                                                        [options]="roofMaterialList"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        [(ngModel)]="Building.RoofType" />
                                                                                    <!-- </ng-container>
                                                                                    <ng-container
                                                                                        *ngIf="currentBuildingRowIndex!=ri">
                                                                                        {{getRoofTypeDescription(Building.RoofType)}}
                                                                                    </ng-container> -->
                                                                                    <div class="input-form-error"
                                                                                        *ngIf="Building.RoofTypeError"
                                                                                        style="width: max-content;">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Select RoofType
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <!-- <ng-container
                                                                                        *ngIf="currentBuildingRowIndex==ri"> -->
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select FirstLossPayee"
                                                                                        [options]="bankList"
                                                                                        (onChange)="onChangeFirstLoss(Building)"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        [(ngModel)]="Building.FirstLossPayee" />

                                                                                    <!-- </ng-container>
                                                                                    <ng-container
                                                                                        *ngIf="currentBuildingRowIndex!=ri">
                                                                                        {{getFirstLossDesc(Building)}}
                                                                                    </ng-container> -->
                                                                                    <div class="input-form-error"
                                                                                        *ngIf="Building.FirstLossPayeeError">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Select FirstLossPayee
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <!-- <ng-container
                                                                                        *ngIf="currentBuildingRowIndex==ri"> -->
                                                                                    <p-inputNumber type="number"
                                                                                        [(ngModel)]="Building.BuildingSumInsured"
                                                                                        inputId="integeronly" />

                                                                                    <!-- </ng-container>
                                                                                    <ng-container
                                                                                        *ngIf="currentBuildingRowIndex!=ri">
                                                                                        {{Building.BuildingSumInsured |
                                                                                        commaseparator}}
                                                                                    </ng-container> -->
                                                                                    <div class="input-form-error"
                                                                                        *ngIf="Building.SumInsuredError">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Enter Valid Amount
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <!-- <ng-container
                                                                                        *ngIf="currentBuildingRowIndex==ri"> -->
                                                                                    <input pInputText type="text"
                                                                                        [(ngModel)]="Building.BuildingDescription"
                                                                                        placeholder="Enter Description"
                                                                                        class="p-inputtext p-ml-2" />


                                                                                    <!-- </ng-container>
                                                                                    <ng-container
                                                                                        *ngIf="currentBuildingRowIndex!=ri">
                                                                                        {{Building.BuildingDescription
                                                                                        }}
                                                                                    </ng-container> -->
                                                                                    <div class="input-form-error"
                                                                                        *ngIf="Building.DescriptionError">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Enter Description
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                                <!-- <td>
                                                                            <ng-container
                                                                                *ngIf="currentBuildingRowIndex!=ri">
                                                                                <div
                                                                                    class="flex align-items-center justify-content-center gap-2">
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-pencil"
                                                                                        (click)="currentBuildingRowIndex=ri"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </ng-container>
                                                                        </td>
                                                                        <td>
                                                                            <ng-container>
                                                                                <div
                                                                                    class="flex align-items-center justify-content-center gap-2">
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="onDeleteBuilding(ri)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </ng-container>
                                                                        </td> -->
                                                                                <!-- <td>
                                                                                    <ng-container>
                                                                                        <div
                                                                                            class="flex align-items-center justify-content-center gap-2">
                                                                                            <button pButton
                                                                                                type="button"
                                                                                                icon="pi pi-trash"
                                                                                                (click)="onDeleteBuildingAlt(item,ri)"
                                                                                                styleClass="p-button-outlined">
                                                                                            </button>
                                                                                        </div>
                                                                                    </ng-container>
                                                                                </td> -->
                                                                            </tr>

                                                                        </ng-template>

                                                                    </p-table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            *ngIf="currentDomestic =='ContentRisk' && (item.CoversRequired=='C' || item.CoversRequired=='BC')">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">
                                                                <div><b>Content Risk</b></div>
                                                            </div>

                                                            <ng-container
                                                                *ngFor="let stes of fields1; let index = index; let last = last">
                                                                <div>
                                                                    <!-- <div>
                                                                        <div>
                                                                            <form [formGroup]="form"
                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                <formly-form [form]="form"
                                                                                    [fields]="stes.fieldGroup"
                                                                                    [model]="productItem"></formly-form>
                                                                            </form>
                                                                        </div>
                                                                    </div> -->
                                                                    <div class="text-right mb-3">
                                                                        <p-button label="Add New" styleClass="mr-3 p-button-outlined" (click)="addContentRisk()"></p-button>
                                                                    </div>
                                                                    <form [formGroup]="contentRiskForm" (ngSubmit)="onSubmit(productItem)">
                                                                        <div formArrayName="contentRisk">
                                                                            <div *ngFor="let user of ContentRiskArray.controls; let i = index" [formGroupName]="i">
                                                                                <div class="grid ">
                                                                                    <div class="col-10 lg:col-4 xl:col-4">
                                                                                        <label
                                                                                            for="Location">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            formControlName="Description"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            pInputText
                                                                                            type="text" />
                                                                                    </div>
                                                                                    <div class="col-10 lg:col-4 xl:col-4">
                                                                                        <label for="Address">Content Value</label>
                                                                                        <input class="w-full p-button-outlined" formControlName="SumInsured"
                                                                                            placeholder="Enter Content Value" styleClass="w-full"
                                                                                            pInputText type="commaSeparator" (keydown)="onKeyDown($event,user)"
                                                                                            (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                    </div>
                                                                                    <div class="col-2 lg:col-2 xl:col-2"><br>
                                                                                        <button pButton type="button" *ngIf="i!=0" icon="pi pi-trash" (click)="removeContentRisk(i)" styleClass="p-button-outlined">
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </ng-container>
                                                        </div>

                                                        <div *ngIf="currentDomestic =='AllRisk'">
                                                            <div class="flex justify-content-between flex-wrap">

                                                                <div class="flex items-center">
                                                                    <img src="./assets/images/All-risk.png" width="40"
                                                                        height="35">
                                                                    <b class="ml-3">All Risk</b>
                                                                </div>



                                                            </div>
                                                            <div>
                                                                <div>

                                                                    <ng-container *ngFor="let stes of fields2; let index = index; let last = last">
                                                                        <div>
                                                                            <div>
                                                                                <div>
                                                                                    <div class="row">
                                                                                        <div class="text-right">
                                                                                            <p-button label="Add New" styleClass="mr-3 p-button-outlined" (click)="addAllRisk()"></p-button>
                                                                                        </div>
                                                                                        <div>
                                                                                            <form [formGroup]="allRiskForm" (ngSubmit)="onSubmit(productItem)">
                                                                                                <div formArrayName="allRisk">
                                                                                                    <div *ngFor="let user of AllRiskArray.controls; let i = index" [formGroupName]="i">
                                                                                                        <div class="grid ">
                                                                                                            <div class="col-10 lg:col-4 xl:col-4">
                                                                                                                <label
                                                                                                                    for="Location">Description</label>
                                                                                                                <input
                                                                                                                    class="w-full p-button-outlined"
                                                                                                                    formControlName="AllriskDescription"
                                                                                                                    placeholder="Enter Description"
                                                                                                                    styleClass="w-full"
                                                                                                                    pInputText
                                                                                                                    type="text" />
                                                                                                            </div>
                                                                                                            <div class="col-10 lg:col-4 xl:col-4">
                                                                                                                <label for="Address">Sum Insured</label>
                                                                                                                <input class="w-full p-button-outlined" formControlName="AllriskSumInsured"
                                                                                                                    placeholder="Sum Insured" styleClass="w-full"
                                                                                                                    pInputText type="commaSeparator" (keydown)="onKeyDown($event,user)"
                                                                                                                    (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                                            </div>
                                                                                                            <div class="col-2 lg:col-2 xl:col-2"><br>
                                                                                                                <button pButton type="button" *ngIf="i!=0" icon="pi pi-trash" (click)="removeAllRisk(i)" styleClass="p-button-outlined">
                                                                                                                </button>
                                                                                                            </div>
                                                                                                        </div>

                                                                                                        <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                                                    </div>
                                                                                                </div>

                                                                                                <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                                                <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                                            </form>
                                                                                            <!-- <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                <formly-form [form]="form"  [fields]="fieldFidelityPhoenix" [model]="productItem"></formly-form>
                                                            </form> -->
                                                                                        </div>
                                                                                    </div>
                                                                                    <!-- <form [formGroup]="form"
                                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                                        <formly-form [form]="form"
                                                                                        [fields]="stes.fieldGroup"
                                                                                            [model]="productItem"></formly-form>
                                                                                    </form> -->
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="input-form-error"
                                                                    *ngIf="item.AllriskSumInsuredError">
                                                                    <div class="error-text text-danger text-center">
                                                                        Enter Valid Amount
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div *ngIf="currentDomestic =='OwnersLiability'">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <img src="./assets/images/personalliability.png"
                                                                    width="40" height="35">
                                                                <div><b>Owner's Liability</b></div>
                                                            </div>
                                                            <div class="">

                                                                <ng-container
                                                                    *ngFor="let stes of fields3; let index = index; let last = last">
                                                                    <div>
                                                                        <div>
                                                                            <div>
                                                                                <form [formGroup]="form"
                                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="stes.fieldGroup"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="input-form-error"
                                                                *ngIf="item.EmpLiabilitySiError">
                                                                <div class="error-text text-danger text-center">
                                                                    Enter Valid Amount
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="currentDomestic =='ElectronicEquipment'">
                                                            <div class="grid justify-content-start">
                                                                <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                    <b>Electronic Equipment</b>
                                                                </div>
                                                            </div>
                                                            <div class="w-100 overflow-auto">
                                                                <div class="text-right mb-3">
                                                                    <p-button label="Add New" styleClass="mr-3 p-button-outlined" (click)="addEERisk()"></p-button>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="">
                                                                <ng-container *ngFor="let stes of fields6; let index = index; let last = last">
                                                                    <!-- <div>
                                                                        <div>
                                                                            <form [formGroup]="form"
                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                <formly-form [form]="form"
                                                                                    [fields]="stes.fieldGroup"
                                                                                    [model]="productItem"></formly-form>
                                                                            </form>
                                                                        </div>
                                                                    </div> -->
                                                                     <form [formGroup]="EERiskForm" (ngSubmit)="onSubmit(productItem)">
                                                                        <div formArrayName="EERisk">
                                                                            <div *ngFor="let user of EERiskArray.controls; let i = index" [formGroupName]="i">
                                                                                <div class="grid ">
                                                                                    <div class="col-10 lg:col-3 xl:col-3">
                                                                                        <label for="Location">Content Type *</label>
                                                                                        <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select Content Type"
                                                                                        [options]="dropList"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        formControlName="ContentTypeId" />
                                                                                    </div>
                                                                                    <div class="col-10 lg:col-4 xl:col-4">
                                                                                        <label
                                                                                            for="Location">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            formControlName="ElectronicDescription"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full" maxlength="250"
                                                                                            pInputText
                                                                                            type="text" />
                                                                                    </div>
                                                                                    <div class="col-10 lg:col-3 xl:col-3">
                                                                                        <label for="Address">Sum Insured</label>
                                                                                        <input class="w-full p-button-outlined" formControlName="ElectronicEquipmentSI"
                                                                                            placeholder="Sum Insured" styleClass="w-full"
                                                                                            pInputText type="commaSeparator" (keydown)="onKeyDown($event,user)"
                                                                                            (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                    </div>
                                                                                    <div class="col-2 lg:col-2 xl:col-2"><br>
                                                                                        <button pButton type="button" *ngIf="i!=0" icon="pi pi-trash" (click)="removeEERisk(i)" styleClass="p-button-outlined">
                                                                                        </button>
                                                                                    </div>
                                                                                    <!-- <div class="col-10 lg:col-4 xl:col-4">
                                                                                        <label for="Address">Content Value</label>
                                                                                        <input class="w-full p-button-outlined" formControlName="SumInsured"
                                                                                            placeholder="Enter Content Value" styleClass="w-full"
                                                                                            pInputText type="commaSeparator" (keydown)="onKeyDown($event,user)"
                                                                                            (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                    </div>
                                                                                    <div class="col-2 lg:col-2 xl:col-2"><br>
                                                                                        <button pButton type="button" *ngIf="i!=0" icon="pi pi-trash" (click)="removeContentRisk(i)" styleClass="p-button-outlined">
                                                                                        </button>
                                                                                    </div> -->
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </ng-container>
                                                            </div>
                                                        </div>

                                                        <!-- <div *ngIf="currentDomestic =='PersonalAccident'">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <img src="./assets/images/personalAccident1.png"
                                                                    width="40" height="35">
                                                                <div><b>Personal Accident</b></div>
                                                            </div>
                                                            <div class="">
                                                                <ng-container
                                                                    *ngFor="let stes of fields4; let index = index; let last = last">
                                                                    <div>
                                                                        <div>
                                                                            <div>
                                                                                <form [formGroup]="form"
                                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="stes.fieldGroup"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="input-form-error"
                                                                *ngIf="item.ContentSuminsuredError">
                                                                <div class="error-text text-danger text-center">
                                                                    Enter Valid Amount
                                                                </div>
                                                            </div>
                                                        </div> -->
                                                        <div class="text-center mt-2">
                                                            <p-button class="mr-2" label="Previous" size="small"
                                                                *ngIf="getCurrentDomesticIndex() > 0"
                                                                (click)="previous('Domestic')"></p-button>
                                                            <p-button class="mr-2" label="Skip" size="small"
                                                                *ngIf="currentDomestic != 'BuildingDetails' && currentDomestic != 'ContentRisk' && currentDomestic != 'ElectronicEquipment'"
                                                                (click)="skip('Domestic')"></p-button>
                                                            <p-button class="mr-2" *ngIf="currentDomestic !='ElectronicEquipment'" label="Save & Proceed" size="small"
                                                                (click)="listProceed('Domestic')"></p-button>
                                                            <p-button label="View Premium" size="small"
                                                                (click)="onSubmitDomesticDetails('Submit')"></p-button>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="grid">
                                        <div [ngClass]="productId == '59' ? 'col-12 lg:col-2 xl:col-2 md:col-2' : 'col-12 lg:col-1 xl:col-1 md:col-1'"></div>
                                        <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                            <label class="input-form-label">First Loss Payee Available?</label><span
                                                class="text-danger">*</span>
                                            <p-selectButton [options]="firstLossOptions"
                                                (click)="onFirstLossPayeeYNChange()" [disabled]="(endorsementSection)"
                                                [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc"
                                                optionValue="Code"></p-selectButton>
                                        </div>
                                        <div class="col-12 lg:col-3 xl:col-3" *ngIf="DomesticServant">
                                            <div class="memberDetailCard" style="padding:10px !important;">
                                                <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Domestic Servant</b>
                                                    </div>
                                                </div>
                                                <div class="flex md:flex-row flex-col items-center md:space-x-3">

                                                    <ng-container
                                                        *ngFor="let stepss of fields7; let index = index; let last = last">
                                                        <div>
                                                            <div
                                                                style="display: flex !important;justify-content: space-between !important;">
                                                                <div class="mt-2 mr-3 ">
                                                                    <img src="./assets/images/domesticServant.jpg"
                                                                        width="50" height="40">
                                                                </div>
                                                                <div>
                                                                    <form [formGroup]="form"
                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                        <formly-form [form]="form"
                                                                            [fields]="stepss.fieldGroup"
                                                                            [model]="productItem"></formly-form>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="grid" *ngIf="firstLossSection">
                                        <div [ngClass]="productId == '59' ? 'col-12 lg:col-2 xl:col-2 md:col-2' : 'col-12 lg:col-1 xl:col-1 md:col-1'"></div>
                                        <div class="col-12 lg:col-5 xl:col-5 md:col-5">
                                            <div class="flex flex-warp justify-content-end mb-3" style="margin-right: 57px !important;">
                                                <p-button label="Add New" size="small"
                                                    (click)="addFirstLossPayee()"></p-button>
                                            </div>
                                            <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt"
                                                editMode="row" [rows]="10" [paginator]="false"
                                                [tableStyle]="{'min-width': '40rem'}">
                                                <ng-template pTemplate="header">
                                                    <tr>
                                                        <th [pSortableColumn]="column"
                                                            *ngFor="let column of firstLossColumns">
                                                            {{column}}
                                                        </th>
                                                    </tr>
                                                </ng-template>
                                                <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                    <tr>
                                                        <td>
                                                            <input class="w-full p-button-outlined"
                                                                placeholder="Enter Payee Name"
                                                                [(ngModel)]="payee.FirstLossPayeeDesc"
                                                                styleClass="w-full" pInputText type="text" />
                                                        </td>
                                                        <td>
                                                            <ng-container *ngIf="ri!=0">
                                                                <div
                                                                    class="flex align-items-center justify-content-center gap-2">
                                                                    <button pButton type="button" icon="pi pi-trash"
                                                                        (click)="onDeleteFistLoss(ri)"
                                                                        styleClass="p-button-outlined">
                                                                    </button>
                                                                </div>
                                                            </ng-container>
                                                        </td>
                                                    </tr>
                                                </ng-template>
                                            </p-table>
                                        </div>
                                    </div>
                                    <div class="col-12 pl-3 pr-2 pb-0" *ngIf="uwQuestionList.length!=0">
                                        <div class="grid justify-content-start">
                                            <div class="mb-1 ">
                                                <h3>{{'MOTORQUOTE.UWQuestion' | translate}}</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <ng-container *ngFor="let obj of uwQuestionList;">
                                        <div class="grid justify-content-start pl-3 pr-2 pb-0">
                                            <div class="mb-1 ">
                                                <h5>{{obj.SectionName}}</h5>
                                            </div>
                                        </div>
                                        <div class="grid">
                                            <ng-container *ngFor="let ques Of obj.UWQuestionsList">
                                                <div class="lg:col-4 md:col-4 col-12"
                                                    [hidden]="checkHideQUestion(ques)">
                                                    <label for="uwQuesDesc">{{ques.UwQuestionDesc}}</label><ng-container
                                                        *ngIf="ques.MandatoryYn=='Y'">
                                                        &nbsp;<span class="text-danger">*</span></ng-container>
                                                    <ng-container *ngIf="ques?.QuestionType=='01'">
                                                        <p-selectButton [options]="ques.Options"
                                                            [(ngModel)]="ques.Value" id="driverType2"
                                                            optionLabel="UwQuesOptionDesc"
                                                            optionValue="UwQuesOptionDesc"></p-selectButton>
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="ques?.QuestionType=='02' && ques?.DataType!='02'">
                                                        <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                            [disabled]="(endorsementSection) || checkDisableField()"
                                                            [(ngModel)]="ques.Value" />
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="ques?.QuestionType=='02' && ques?.DataType=='02'">
                                                        <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                            [disabled]="(endorsementSection) || checkDisableField()"
                                                            [(ngModel)]="ques.Value" />
                                                    </ng-container>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </ng-container>
                                </p-tabPanel>
                            </ng-container>
                        </p-tabView>
                    </div>
                </div>
            </ng-container>

            <div class="text-center mt-2">
                <p-button styleClass="p-button-outlined" label="Back" size="small"
                    [routerLink]="['/quotation/plan/quote-details']"
                    routerLinkActive="router-link-active"></p-button>&nbsp;
                <p-button label="Previous" *ngIf="locationList.length>1 && (tabIndex!=0)" (click)="onPreviousTab()"
                    class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                <p-button label="Next" size="small" *ngIf="locationList.length>1 && (tabIndex+1)!=locationList.length"
                    (click)="onSubmitDomesticDetails('Save')"></p-button>&nbsp;
                <p-button label="Proceed" size="small" (click)="onSubmitDomesticDetails('Submit')"></p-button>
                <!-- <button pButton pRipple label="Submit" class="p-button-success" (click)="onfinalsave()"></button> -->
            </div>
        </div>
    </div>
    <div
    *ngIf="productId=='66' || productId=='67' || productId=='68' || productId=='69' || productId=='70' || productId=='71' || productId=='72' || productId=='75' || productId=='73' || productId=='78' || productId=='77' || productId=='49' || productId=='14' || productId=='32' || productId=='39'
    || productId=='76' || productId=='48' || productId=='86' || productId=='93'|| productId=='92' || productId=='85'
    || this.productId=='74' || productId=='25' || productId=='16' || productId=='26' || productId=='27'
    || productId=='80' || productId=='79' || productId=='84' || productId=='81' || productId=='82' || productId=='83' || productId=='87' || productId=='88'|| productId=='89'  || productId=='90' || productId=='91' || (productId=='57' && (insuranceId=='100046' || insuranceId=='100047' || insuranceId=='100048' || insuranceId=='100049' || insuranceId=='100050') )">
    <div class="mt-4">
        <div class="grid mb-3">
            <div class="lg:col-2">
            </div>
            <div class="col-12 lg:col-8 xl:col-8"
                *ngIf="!((coversreuired=='B' || coversreuired=='BC') && Building1) || (coversreuired=='B' || coversreuired=='BC') && Building1">
                <div class="memberDetailCard">
                    <div class="grid">
                        <div class="mb-2 col-12 lg:col-7 xl:col-7">
                            <b>Location Details</b>
                        </div>
                        <div class="mb-2 col-12 lg:col-5 xl:col-5">&nbsp;<p-button label="Add Location"
                                icon="pi pi-plus" *ngIf="!endorsementSection" (click)="onAddLocationDetails()" />&nbsp;
                        </div>
                    </div>
                    <ng-container>
                        <div class="grid mt-2">
                            <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                                <p-table [value]="locationList" dataKey="id" editMode="row" [rows]="5"
                                    [paginator]="false" [tableStyle]="{'min-width': '50rem' }">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th [pSortableColumn]="column" *ngFor="let column of buildingColumnHeader">
                                                {{column}}
                                            </th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-product let-ri="rowIndex">
                                        <tr>
                                            <td>
                                                <ng-container *ngIf="locationIndex==ri">
                                                    <input class="w-full p-button-outlined"
                                                        [disabled]="endorsementSection"
                                                        placeholder="Enter Location Name" styleClass="w-full" pInputText
                                                        type="text" [(ngModel)]="product.LocationName" />
                                                </ng-container>
                                                <ng-container *ngIf="locationIndex!=ri">
                                                    {{product.LocationName}}
                                                </ng-container>
                                                <div class="input-form-error" *ngIf="product.LocationNameError">
                                                    <div class="error-text text-danger">
                                                        Enter Valid LocationName
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <ng-container *ngIf="locationIndex==ri">
                                                    <input class="w-full p-button-outlined"
                                                        [disabled]="endorsementSection" placeholder="Enter Address"
                                                        styleClass="w-full" pInputText type="text"
                                                        [(ngModel)]="product.BuildingAddress" />
                                                </ng-container>
                                                <ng-container *ngIf="locationIndex!=ri">
                                                    {{product.BuildingAddress}}
                                                </ng-container>
                                                <div class="input-form-error" *ngIf="product.BuildingAddressError">
                                                    <div class="error-text text-danger">
                                                        Enter Valid Address
                                                    </div>
                                                </div>
                                            </td>
                                            <td *ngIf="!endorsementSection">
                                                <div class="flex align-items-center justify-content-center gap-2">
                                                    <button pButton type="button" *ngIf="locationIndex!=ri"
                                                        icon="pi pi-pencil" (click)="locationIndex=ri"
                                                        styleClass="p-button-outlined">
                                                    </button>
                                                    <button pButton type="button" icon="pi pi-trash"
                                                        (click)="deleteLocation(ri)" styleClass="p-button-outlined">
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </div>

                        </div>
                        <!-- <div class="flex flex-warp justify-content-center mt-2" *ngIf="locationIndex!=null">
                                <p-button label="Save Locations" (click)="onSaveLocationDetails()" />
                            </div> -->
                    </ng-container>
                </div>
            </div>
        </div>
         <ng-container *ngIf="locationList.length!=0 && checkLocationDetailAlt()">
                <div class="grid mb-3">
                    <div [ngClass]="productId == '92' || productId == '85' 
                        ? 'col-12 md:col-12 lg:col-12 xl:col-12 p-5' 
                        : 'col-11 md:col-11 lg:col-11 xl:col-11 mx-auto p-5 m-5'"
                        >
                        <div style="border-radius: 25px !important;">
                            <p-tabView [(activeIndex)]="tabIndex" (onChange)="onTabChange2($event)">
                                <ng-container *ngFor="let item of locationList;let k=index">
                                    <p-tabPanel [header]="item.LocationName">
                                        <div class="grid" *ngIf="productId=='19' || productId=='24' || productId=='71' || productId=='70' || productId=='74' || productId=='69' || productId=='66' || productId=='72' || productId=='75' || productId=='49' || productId=='73'  || productId=='68' || productId=='25' 
                                            || productId=='14' || productId=='32' || productId=='39' || productId=='16' || productId=='26' || productId=='27' || productId=='48' || productId=='77' ||  productId=='80' ||  productId=='79' || productId=='81'|| productId=='82' || productId =='83'
                                            ">
                                            <div class="col-12 md:col-1 lg:col-1 xl:col-1"></div>
                                            <div class="col-12 md:col-5 lg:col-5 xl:col-5">
                                                <div class="input-control-container">
                                                    <label class="input-form-label">Industry</label>&nbsp;<ng-container
                                                        *ngIf="categoryDesc">({{categoryDesc}})</ng-container><span
                                                        class="text-danger">*</span>
                                                    <ng-select class="custom" [items]="industryTypeList"
                                                        #IndustryID="ngModel" [(ngModel)]="IndustryId"
                                                        [disabled]="endorsementSection" placeholder="Select Industry"
                                                        [appendTo]="body" [ngModelOptions]="{standalone: true}"
                                                        bindValue="Code" bindLabel="CodeDesc">
                                                    </ng-select>
                                                </div>
                                                <div class="input-form-error"
                                                    *ngIf="industryError  && !IndustryId || (IndustryID.control.touched && !IndustryId)"
                                                    style="position: relative;">
                                                    <div class="error-text text-danger">
                                                        <span class="spancommon span_font_size"> Please Select
                                                            Industry</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <ng-container *ngIf="productId!='93'">
                                            <div class="grid" *ngIf="ClaimsPreparationPhoenix || LiabilityPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-5 xl:col-5" *ngIf="ClaimsPreparationPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Claims Preparation</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldClaimPreparation"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 lg:col-5 xl:col-5" *ngIf="LiabilityPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Liability</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldLiability"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="UmbrellaPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10" *ngIf="UmbrellaPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-start">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Umbrella Liability</b>
                                                            </div>
                                                        </div>
                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="UmbrellaPhoenixTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                    <tr>
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <td>
                                                                            <div class="row">
                                                                                <div class="col-md-6">
                                                                                    <ng-container
                                                                                        *ngIf="row.type=='commaSeparator'">
                                                                                        <p-inputNumber
                                                                                            [formControl]="form.controls[row?.key]"
                                                                                            [formlyAttributes]="row"
                                                                                            inputId="integeronly"
                                                                                            placeholder="Sum Insured"
                                                                                            (keydown)="onKeyDown($event,row)"
                                                                                            (keyup)="CommaFormattedCorp(UmbrellaPhoenixTable,'HouseOwner')">
                                                                                        </p-inputNumber>
                                                                                        <div class="text-danger"
                                                                                            *ngIf="form.errors==true">
                                                                                            This field
                                                                                            is
                                                                                            Required</div>
                                                                                    </ng-container>
                                                                                </div>
                                                                            </div>
                                                                            <ng-container
                                                                                *ngIf="row.type!='commaSeparator'">
                                                                                <ng-select class="custom"
                                                                                    [items]="row.props.options"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    placeholder="Select" appendTo="body"
                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                    bindValue="Code"
                                                                                    bindLabel="CodeDesc">
                                                                                </ng-select>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </form>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 lg:col-5 xl:col-5" *ngIf="ClaimsPreparationPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Claims Preparation</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldClaimPreparation"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="OfficeContentsPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Office Contents</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldEE"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>

                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-5 xl:col-5" *ngIf="AdditionalClaimsPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Additional Claims</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldAdditionalClaims"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 lg:col-5 xl:col-5" *ngIf="LiabilityLossPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Liability Loss</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldLiabilityLoss"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="AccidentalDamagePhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10" *ngIf="AccidentalDamagePhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Accidental Damage</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldAccidentalDamage"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="PersonalLiabiltyPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Personal Liability</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldPersonalLiability"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="AccountsRecievablePhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10"
                                                    *ngIf="AccountsRecievablePhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Accounts Receivable</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldAccountsRecievable"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="TheftPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10" *ngIf="TheftPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Theft</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldTheft"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="GlassPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10" *ngIf="GlassPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Glass</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldGlass"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="StateBenefitsPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10" *ngIf="StateBenefitsPhoenix">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Stated Benefits</b>
                                                            </div>
                                                        </div>
                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="StateBenefitsPhoenixTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                    <tr>
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <td>

                                                                            <ng-container
                                                                                *ngIf="row.type=='commaSeparator'">
                                                                                <p-inputNumber
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    class="w-full" styleClass="w-full"
                                                                                    [formlyAttributes]="row"
                                                                                    inputId="integeronly"
                                                                                    placeholder="Sum Insured"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedCorp(StateBenefitsPhoenixTable,'HouseOwner')">
                                                                                </p-inputNumber>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="row.type!='commaSeparator'">
                                                                                <ng-select class="custom"
                                                                                    [items]="row.props.options"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    placeholder="Select Temporary Total Disability"
                                                                                    appendTo="body"
                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                    bindValue="Code"
                                                                                    bindLabel="CodeDesc">
                                                                                </ng-select>
                                                                            </ng-container>

                                                                        </td>

                                                                        <!-- <td>
                                                                        <div
                                                                            *ngIf="row.props?.label !='Power Surge' && row.props?.label!='Subsidence and Landslip (Full Value Cover)'&& row.props?.label!='No Claim Bonus'">
                                                                            <textarea class="p-inputtext p-ml-2 w-100 p-3"
                                                                                rows="1" placeholder="Description"
                                                                                [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                cols="50"></textarea>
                                                                        </div>
                                                                    </td> -->
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </form>
                                                        <!-- <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <div>
                                                            <div
                                                                style="display: flex !important;justify-content: space-between !important;">
                                                                <div class="mt-4 mr-3 ml-3">
                                                                    <img src="./assets/images/content.png" width="40"
                                                                        height="35">
    
                                                                </div>
                                                                <div>
    
                                                                    <form [formGroup]="form"
                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                        <formly-form [form]="form"
                                                                            [fields]="fieldStateBenefits"
                                                                            [model]="productItem"></formly-form>
                                                                    </form>
                                                                </div>
                                                            </div>
    
                                                        </div>
    
                                                    </div> -->
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="ElectronicEquipmentPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Electronic Equipment</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <!-- <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png" width="40"
                                                                            height="35">
                                                                        
                                                                    </div> -->
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldEE"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>

                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="MoneyPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Money</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldMoney"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="AllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Business All Risk</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldEE"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>

                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="PersonalAllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Personal All Risk</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>

                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldsBAR"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>

                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Construction All Risk</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsCAR"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldsCARPrimary"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <div class="">

                                                                    <div style="width: 100%;">
                                                                        <div>
                                                                            <div>
                                                                                <div class="col-12">
                                                                                    <div>
                                                                                        <form [formGroup]="form">
                                                                                            <p-table
                                                                                                [value]="fieldsCARAdditional"
                                                                                                class="p-datatable-gridlines">
                                                                                                <ng-template
                                                                                                    pTemplate="header">
                                                                                                    <tr>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                                <ng-template
                                                                                                    pTemplate="body"
                                                                                                    let-row>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            <label
                                                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{row[0]?.props?.label}}</label>
                                                                                                            <label
                                                                                                                *ngIf="row[0]?.fieldGroup">{{row[0]?.fieldGroup[0]?.props?.label}}</label>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                                pInputText
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [type]="row[0]?.type"
                                                                                                                (keyup)="CommaFormattedDynamic($event,'CARAdditional')"
                                                                                                                class="w-full"
                                                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                                                [required]="row[0]?.props?.required"
                                                                                                                styleClass="col-5 p-0  w-full" />
                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{row[1]?.props?.label}}</label>

                                                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1]?.fieldGroup">{{row[1]?.fieldGroup[0]?.props?.label}}</label>
                                                                                                        </td>

                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                                                pInputText
                                                                                                                styleClass=" w-full"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [type]="row[1]?.type"
                                                                                                                (keyup)="CommaFormattedDynamic($event,'CARAdditional')"
                                                                                                                class=" w-full"
                                                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                                                [required]="row[1]?.props?.required" />





                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                            </p-table>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="grid mx-3">

                                                            <div class="col-1 mr-4 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="ExtensList"
                                                                    class="custom-select"
                                                                    (click)="change('CARextensions')"
                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>

                                                        </div>
                                                        <div class="grid mx-3" *ngIf="showCARExtensions">

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsCARExtensions"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        [type]="row[0]?.type"
                                                                                        class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        (keyup)="CommaFormattedDynamic($event,'CARExtensions')"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskUptoTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Construction All Risk - SI up to 1 Billion</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsCARupto"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskUptoTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsCARPrimaryupto"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Value </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Value </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label
                                                                                        }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        [maxlength]="row[0]?.props.maxLength"
                                                                                        (keypress)="isNumberKey($event)"
                                                                                        (input)="checkLimitValue($event,row[0]?.key,'max')"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div *ngIf="showMonthsError && row[0]?.key=='CARuptoMonths' "
                                                                                        class="text-red-500 text-sm mt-1">
                                                                                        Only Upto 12 Months allowed
                                                                                    </div>
                                                                                    <p-dropdown
                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                        appendTo="body" class=" w-full"
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        [options]="row[0]?.props?.options"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        [filter]="true"
                                                                                        styleClass="col-5 p-0 w-full">
                                                                                    </p-dropdown>
                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                        class="flex gap-4">
                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                            class="flex align-items-center">
                                                                                            <p-radioButton
                                                                                                [name]="row[0]?.key"
                                                                                                [value]="option.value"
                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                [inputId]="option.value">
                                                                                            </p-radioButton>
                                                                                            <label [for]="option.value"
                                                                                                class="ml-2">
                                                                                                {{ option.label
                                                                                                }}
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <textarea
                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full">
                                                                                        </textarea>
                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                    <div
                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                        <p-calendar class="w-full"
                                                                                            styleClass="w-full"
                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                            [formlyAttributes]="row[0]"
                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                            appendTo="body"
                                                                                            [iconDisplay]="'input'"
                                                                                            [showIcon]="true"
                                                                                            dateFormat="dd/mm/yy"
                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                        </p-calendar>
                                                                                    </div>



                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label
                                                                                        }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [maxlength]="row[1]?.props.maxLength"
                                                                                        (keyup)="CommaFormattedDynamic($event,'CAR')"
                                                                                        (keypress)="isNumberKey($event)"
                                                                                        (input)="checkLimitValue($event,row[1]?.key,'max')"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />
                                                                                    <div *ngIf="showMaxLimitError && row[1]?.key=='CARuptoSumInsured' "
                                                                                        class="text-red-500 text-sm mt-1">
                                                                                        Upto 1 billion only allowed
                                                                                    </div>

                                                                                    <p-dropdown
                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                        appendTo="body"
                                                                                        styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [options]="row[1]?.props?.options"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required"
                                                                                        [filter]="true">
                                                                                    </p-dropdown>
                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                        class="flex gap-4">
                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                            class="flex align-items-center">
                                                                                            <p-radioButton
                                                                                                [name]="row[1]?.key"
                                                                                                [value]="option.value"
                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                [inputId]="option.value">
                                                                                            </p-radioButton>
                                                                                            <label [for]="option.value"
                                                                                                class="ml-2">
                                                                                                {{ option.label
                                                                                                }}
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <textarea
                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full">
                                                                                            </textarea>
                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                    <div
                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                        <p-calendar class="w-full"
                                                                                            styleClass="w-full"
                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                            [formlyAttributes]="row[1]"
                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                            appendTo="body"
                                                                                            [iconDisplay]="'input'"
                                                                                            [showIcon]="true"
                                                                                            dateFormat="dd/mm/yy"
                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                        </p-calendar>
                                                                                    </div>


                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskAboveTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Construction All Risk - SI Above 1 Billion</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsCARupto"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        (input)="checkLimitValue($event,row[1]?.key,'min')"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="grid" *ngIf="ConstructionAllRiskAboveTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsCARPrimaryupto"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Value </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Value </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label
                                                                                        }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        [maxlength]="row[0]?.props.maxLength"
                                                                                        (keypress)="isNumberKey($event)"
                                                                                        (input)="checkLimitValue($event,row[0]?.key,'max')"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div *ngIf="showMonthsError && row[0]?.key=='CARuptoMonths' "
                                                                                        class="text-red-500 text-sm mt-1">
                                                                                        Only Upto 36 Months allowed
                                                                                    </div>
                                                                                    <p-dropdown
                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                        appendTo="body" class=" w-full"
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        [options]="row[0]?.props?.options"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        [filter]="true"
                                                                                        styleClass="col-5 p-0 w-full">
                                                                                    </p-dropdown>
                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                        class="flex gap-4">
                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                            class="flex align-items-center">
                                                                                            <p-radioButton
                                                                                                [name]="row[0]?.key"
                                                                                                [value]="option.value"
                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                [inputId]="option.value">
                                                                                            </p-radioButton>
                                                                                            <label [for]="option.value"
                                                                                                class="ml-2">
                                                                                                {{ option.label
                                                                                                }}
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <textarea
                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full">
                                                                                        </textarea>
                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                    <div
                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                        <p-calendar class="w-full"
                                                                                            styleClass="w-full"
                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                            [formlyAttributes]="row[0]"
                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                            appendTo="body"
                                                                                            [iconDisplay]="'input'"
                                                                                            [showIcon]="true"
                                                                                            dateFormat="dd/mm/yy"
                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                        </p-calendar>
                                                                                    </div>



                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label
                                                                                        }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [maxlength]="row[1]?.props.maxLength"
                                                                                        (keyup)="CommaFormattedDynamic($event,'CAR')"
                                                                                        (keypress)="isNumberKey($event)"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        (input)="checkLimitValue($event,row[1]?.key,'min')"
                                                                                        [required]="row[1]?.props?.required" />

                                                                                    <div *ngIf="showMaxLimitedError && row[1]?.key=='CARuptoSumInsured' "
                                                                                        class="text-red-500 text-sm mt-1">
                                                                                        Above 1 billion only allowed
                                                                                    </div>
                                                                                    <p-dropdown
                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                        appendTo="body"
                                                                                        styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [options]="row[1]?.props?.options"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required"
                                                                                        [filter]="true">
                                                                                    </p-dropdown>
                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                        class="flex gap-4">
                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                            class="flex align-items-center">
                                                                                            <p-radioButton
                                                                                                [name]="row[1]?.key"
                                                                                                [value]="option.value"
                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                [inputId]="option.value">
                                                                                            </p-radioButton>
                                                                                            <label [for]="option.value"
                                                                                                class="ml-2">
                                                                                                {{ option.label
                                                                                                }}
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <textarea
                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full">
                                                                                            </textarea>
                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                    <div
                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                        <p-calendar class="w-full"
                                                                                            styleClass="w-full"
                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                            [formlyAttributes]="row[1]"
                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                            appendTo="body"
                                                                                            [iconDisplay]="'input'"
                                                                                            [showIcon]="true"
                                                                                            dateFormat="dd/mm/yy"
                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                        </p-calendar>
                                                                                    </div>


                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="FarmCareTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Distributor Info</b>
                                                            </div>
                                                        </div>
                                                        <div style="width: 100%;">
                                                            <div>
                                                                <div>
                                                                    <div class="col-12">
                                                                        <div>

                                                                            <form [formGroup]="form">
                                                                                <p-table [value]="fieldsFarmCare"
                                                                                    class="p-datatable-gridlines">
                                                                                    <ng-template pTemplate="header">
                                                                                        <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                    </ng-template>
                                                                                    <ng-template pTemplate="body"
                                                                                        let-row>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <label
                                                                                                    *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                    row[0]?.props?.label
                                                                                                    }}</label>
                                                                                                <label
                                                                                                    *ngIf="row[0]?.fieldGroup">{{
                                                                                                    row[0]?.fieldGroup[0]?.props?.label
                                                                                                    }}</label>
                                                                                            </td>
                                                                                            <td>
                                                                                                <ng-container
                                                                                                    *ngIf="row[0]?.type ==='group'">
                                                                                                    <input
                                                                                                    
                                                                                                    pInputText
                                                                                                    styleClass=" w-full"
                                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                                    type="number"
                                                                                                    class=" w-full"
                                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                                    [required]="row[0]?.props?.required" />
                                                                                                    <!-- <p-inputGroup>
                                                                                                        <input
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            type="text" class="w-full" styleClass="col-5 p-0  w-full"
                                                                                                            placeholder="Enter Valid Code"
                                                                                                            required="true" />
                                                                                                    </p-inputGroup> -->
                                                                                                </ng-container>
                                                                                                <input
                                                                                                    *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input' || row[0]?.type === 'input'"
                                                                                                    pInputText
                                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                                    type="text"
                                                                                                    class="w-full" [disabled]="row[0]?.props?.disabled"
                                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                                    [required]="row[0]?.props?.required"
                                                                                                    styleClass="col-5 p-0  w-full" />
                                                                                                <p-dropdown
                                                                                                    *ngIf="row[0]?.type === 'ngselect'"
                                                                                                    appendTo="body"
                                                                                                    class=" w-full" (onChange)="onDropdownChange(row[0]?.key)"
                                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                                    [options]="row[0]?.props?.options"
                                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                                    [required]="row[0]?.props?.required"
                                                                                                    [filter]="true"
                                                                                                    styleClass="col-5 p-0 w-full">
                                                                                                </p-dropdown>
                                                                                                <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                    class="flex gap-4">
                                                                                                    <div *ngFor="let option of row[0]?.props?.options"
                                                                                                        class="flex align-items-center">
                                                                                                        <p-radioButton
                                                                                                            [name]="row[0]?.key"
                                                                                                            [value]="option.value"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [inputId]="option.value">
                                                                                                        </p-radioButton>
                                                                                                        <label
                                                                                                            [for]="option.value"
                                                                                                            class="ml-2">
                                                                                                            {{
                                                                                                            option.label
                                                                                                            }}
                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <textarea
                                                                                                    *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                    pInputText
                                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                                    type="text"
                                                                                                    class="w-full"
                                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                                    [required]="row[0]?.props?.required"
                                                                                                    styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                <!-- Date Picker (p-calendar) -->
                                                                                                <div
                                                                                                    *ngIf="row[0]?.type === 'datepicker'">
                                                                                                    <p-calendar
                                                                                                        class="w-full"
                                                                                                        styleClass="w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [formlyAttributes]="row[0]"
                                                                                                        [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                        [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                        appendTo="body"
                                                                                                        [iconDisplay]="'input'"
                                                                                                        [showIcon]="true"
                                                                                                        dateFormat="dd/mm/yy"
                                                                                                        [placeholder]="row[0]?.props?.placeholder">
                                                                                                    </p-calendar>
                                                                                                </div>



                                                                                                <div
                                                                                                    *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                    <small
                                                                                                        class="error-text">This
                                                                                                        field is
                                                                                                        required.</small>
                                                                                                </div>
                                                                                            </td>


                                                                                            <td>
                                                                                                <!-- If row[1] is a normal field, display its label -->
                                                                                                <label
                                                                                                    *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                    row[1]?.props?.label
                                                                                                    }}</label>

                                                                                                <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                <label
                                                                                                    *ngIf="row[1]?.fieldGroup">{{
                                                                                                    row[1]?.fieldGroup[0]?.props?.label
                                                                                                    }}</label>
                                                                                            </td>

                                                                                            <td>

                                                                                                <input
                                                                                                    *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                    pInputText
                                                                                                    styleClass=" w-full"
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    [type]="row[1]?.type"
                                                                                                    class=" w-full"
                                                                                                    (input)="checkLimitValue($event,row[1]?.key,'min')"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required" />


                                                                                                <p-dropdown
                                                                                                    *ngIf="row[1]?.type === 'ngselect'"
                                                                                                    appendTo="body"
                                                                                                    styleClass=" w-full"
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    [options]="row[1]?.props?.options"
                                                                                                    class=" w-full"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required"
                                                                                                    [filter]="true">
                                                                                                </p-dropdown>
                                                                                                <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                    class="flex gap-4">
                                                                                                    <div *ngFor="let option of row[1]?.props?.options"
                                                                                                        class="flex align-items-center">
                                                                                                        <p-radioButton
                                                                                                            [name]="row[1]?.key"
                                                                                                            [value]="option.value"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [inputId]="option.value">
                                                                                                        </p-radioButton>
                                                                                                        <label
                                                                                                            [for]="option.value"
                                                                                                            class="ml-2">
                                                                                                            {{
                                                                                                            option.label
                                                                                                            }}
                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <textarea
                                                                                                    *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                    pInputText
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    type="text"
                                                                                                    class="w-full"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required"
                                                                                                    styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                <!-- Date Picker (p-calendar) -->
                                                                                                <div
                                                                                                    *ngIf="row[1]?.type === 'datepicker'">
                                                                                                    <p-calendar
                                                                                                        class="w-full"
                                                                                                        styleClass="w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [formlyAttributes]="row[1]"
                                                                                                        [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                        [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                        appendTo="body"
                                                                                                        [iconDisplay]="'input'"
                                                                                                        [showIcon]="true"
                                                                                                        dateFormat="dd/mm/yy"
                                                                                                        [placeholder]="row[1]?.props?.placeholder">
                                                                                                    </p-calendar>
                                                                                                </div>


                                                                                                <div
                                                                                                    *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                    <small
                                                                                                        class="error-text">This
                                                                                                        field is
                                                                                                        required.</small>
                                                                                                </div>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </ng-template>
                                                                                </p-table>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="FarmCareTanzaniya">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Farm Details</b>
                                                            </div>
                                                        </div>
                                                        <div style="width: 100%;">
                                                            <div>
                                                                <div>
                                                                    <div class="col-12">
                                                                        <div>
                                                                            <form [formGroup]="form">
                                                                                <p-table [value]="fieldsFarmCarePrimary"
                                                                                    class="p-datatable-gridlines">
                                                                                    <ng-template pTemplate="header">
                                                                                        <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                    </ng-template>
                                                                                    <ng-template pTemplate="body"
                                                                                        let-row>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ng-container *ngIf="row[0].props.label!='Sum Insured' || (row[0].props.label=='Sum Insured' && (form.controls['YaraPackageYN'].value=='Y' || form.controls['YaraPackageYN'].value=='N'))">
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label *ngIf="row[0] && !row[0]?.fieldGroup">{{row[0]?.props?.label}}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label *ngIf="row[0]?.fieldGroup">{{row[0]?.fieldGroup[0]?.props?.label}}</label>
                                                                                                </ng-container>
                                                                                                
                                                                                            </td>
                                                                                            <td>
                                                                                                <ng-container *ngIf="row[0].props.label!='Sum Insured' || (row[0].props.label=='Sum Insured' && (form.controls['YaraPackageYN'].value=='Y' || form.controls['YaraPackageYN'].value=='N'))">
                                                                                                    <fieldset class="p-0 field_set" *ngIf="row[0]?.type === 'commaSeparator'" [disabled]="checkFarmSIDisabled(row[0]?.key)">
                                                                                                            <input *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input' || row[0]?.type === 'input'"
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            type="text" 
                                                                                                            class="w-full" (input)="checkLimitValue($event,row[0]?.key,'min')"
                                                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                                                            [required]="row[0]?.props?.required"
                                                                                                            styleClass="col-5 p-0  w-full" />
                                                                                                    </fieldset>
                                                                                                    <input *ngIf="row[0]?.type === 'number-input' || row[0]?.type === 'input'"
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            type="text" 
                                                                                                            class="w-full" 
                                                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                                                            [required]="row[0]?.props?.required"
                                                                                                            styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                    *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                    pInputText
                                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                                    type="text"
                                                                                                    class="w-full"
                                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                                    [required]="row[0]?.props?.required"
                                                                                                    styleClass="col-5 p-0  w-full">
                                                                                                    </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>
                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </ng-container>
                                                                                            </td>
                                                                                            <td>
                                                                                                <!-- If row[1] is a normal field, display its label -->
                                                                                                <label *ngIf="row[1] && !row[1]?.fieldGroup">{{row[1]?.props?.label}}</label>

                                                                                                <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                <label *ngIf="row[1]?.fieldGroup">{{row[1]?.fieldGroup[0]?.props?.label}}</label>
                                                                                            </td>

                                                                                            <td>

                                                                                                <input
                                                                                                    *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                    pInputText
                                                                                                    styleClass=" w-full"
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    [type]="row[1]?.type"
                                                                                                    class=" w-full" (keyup)="onCheckNoOfCalc($event,row[1]?.key)"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required" />


                                                                                                <p-dropdown
                                                                                                    *ngIf="row[1]?.type === 'ngselect'"
                                                                                                    appendTo="body"
                                                                                                    styleClass=" w-full"
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    [options]="row[1]?.props?.options"
                                                                                                    class=" w-full"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required"
                                                                                                    [filter]="true">
                                                                                                </p-dropdown>
                                                                                                <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                    class="flex gap-4">
                                                                                                    <div *ngFor="let option of row[1]?.props?.options"
                                                                                                        class="flex align-items-center">
                                                                                                        <p-radioButton
                                                                                                            [name]="row[1]?.key"
                                                                                                            [value]="option.value" (onClick)="onChangeYaraYN('change')"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [inputId]="option.value">
                                                                                                        </p-radioButton>
                                                                                                        <label
                                                                                                            [for]="option.value"
                                                                                                            class="ml-2">
                                                                                                            {{
                                                                                                            option.label
                                                                                                            }}
                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <textarea
                                                                                                    *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                    pInputText
                                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                                    type="text"
                                                                                                    class="w-full"
                                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                                    [required]="row[1]?.props?.required"
                                                                                                    styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                <!-- Date Picker (p-calendar) -->
                                                                                                <div
                                                                                                    *ngIf="row[1]?.type === 'datepicker'">
                                                                                                    <p-calendar
                                                                                                        class="w-full"
                                                                                                        styleClass="w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [formlyAttributes]="row[1]"
                                                                                                        [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                        [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                        appendTo="body"
                                                                                                        [iconDisplay]="'input'"
                                                                                                        [showIcon]="true"
                                                                                                        dateFormat="dd/mm/yy"
                                                                                                        [placeholder]="row[1]?.props?.placeholder">
                                                                                                    </p-calendar>
                                                                                                </div>
                                                                                                <div
                                                                                                    *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                    <small
                                                                                                        class="error-text">This
                                                                                                        field is
                                                                                                        required.</small>
                                                                                                </div>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </ng-template>
                                                                                </p-table>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="EngineeringAllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ml-2">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Erection All Risk</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsEAR"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                        <th>Cover Type</th>
                                                                                        <th>Sum Insured </th>
                                                                                        <th>Cover Type</th>
                                                                                        <th>Sum Insured </th>
                                                                                    </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="grid" *ngIf="EngineeringAllRiskPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldsEARPrimary"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <div class="">

                                                                    <div style="width: 100%;">
                                                                        <div>
                                                                            <div>
                                                                                <div class="col-12">
                                                                                    <div>
                                                                                        <form [formGroup]="form">
                                                                                            <p-table
                                                                                                [value]="fieldsEARAdditional"
                                                                                                class="p-datatable-gridlines">
                                                                                                <ng-template
                                                                                                    pTemplate="header">
                                                                                                    <tr>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                                <ng-template
                                                                                                    pTemplate="body"
                                                                                                    let-row>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            <label
                                                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                                row[0]?.props?.label
                                                                                                                }}</label>
                                                                                                            <label
                                                                                                                *ngIf="row[0]?.fieldGroup">{{
                                                                                                                row[0]?.fieldGroup[0]?.props?.label
                                                                                                                }}</label>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                                pInputText
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                type="text"
                                                                                                                class="w-full"
                                                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                                                [required]="row[0]?.props?.required"
                                                                                                                styleClass="col-5 p-0  w-full" />
                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>


                                                                                                        <td>
                                                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                                row[1]?.props?.label
                                                                                                                }}</label>

                                                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1]?.fieldGroup">{{
                                                                                                                row[1]?.fieldGroup[0]?.props?.label
                                                                                                                }}</label>
                                                                                                        </td>

                                                                                                        <td>

                                                                                                            <input
                                                                                                                *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                                                pInputText
                                                                                                                styleClass=" w-full"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [type]="row[1]?.type"
                                                                                                                class=" w-full"
                                                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                                                [required]="row[1]?.props?.required" />





                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                            </p-table>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="grid mx-3">

                                                            <div class="col-1 mr-4 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="ExtensList"
                                                                    class="custom-select"
                                                                    (click)="change('EARextensions')"
                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>

                                                        </div>
                                                        <div class="grid mx-3" *ngIf="showEARExtensions">

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsEARExtensions"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="PublicLiabilityPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Public Liability</b>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <form [formGroup]="form">
                                                                <p-table [value]="groupedFields"
                                                                    class="p-datatable-gridlines">
                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity Limit</th>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity Limit</th>
                                                                        </tr>
                                                                    </ng-template>
                                                                    <ng-template pTemplate="body" let-row>
                                                                        <tr>
                                                                            <td>
                                                                                <!-- Displaying the label for each field -->
                                                                                <label
                                                                                    *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                    row[0]?.props?.label }}</label>
                                                                                <label *ngIf="row[0]?.fieldGroup">{{
                                                                                    row[0]?.fieldGroup[0]?.props?.label
                                                                                    }}</label>
                                                                            </td>

                                                                            <td>
                                                                                <!-- Displaying the input or dropdown field based on the type -->
                                                                                <input
                                                                                    *ngIf="row[0]?.type === 'commaSeparator'"
                                                                                    pInputText [type]="row[0]?.type"
                                                                                    class="w-full"
                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                    [required]="row[0]?.props?.required"
                                                                                    styleClass="col-5 p-0 w-full" />

                                                                                <p-dropdown
                                                                                    *ngIf="row[0]?.type === 'ngselect'"
                                                                                    appendTo="body" class="w-full"
                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                    [options]="row[0]?.props?.options"
                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                    [required]="row[0]?.props?.required"
                                                                                    [filter]="true"
                                                                                    styleClass="col-5 p-0 w-full">
                                                                                </p-dropdown>

                                                                                <div
                                                                                    *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                    <small class="error-text">This field
                                                                                        is
                                                                                        required.</small>
                                                                                </div>
                                                                            </td>


                                                                            <td>
                                                                                <!-- If row[1] is a normal field, display its label -->
                                                                                <label
                                                                                    *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                    row[1]?.props?.label }}</label>

                                                                                <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                <label *ngIf="row[1]?.fieldGroup">{{
                                                                                    row[1]?.fieldGroup[0]?.props?.label
                                                                                    }}</label>
                                                                            </td>

                                                                            <td>

                                                                                <input
                                                                                    *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                    pInputText type="text"
                                                                                    class="w-full"
                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                    styleClass="col-5 p-0 w-full"
                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                    [required]="row[1]?.props?.required" />


                                                                                <p-dropdown
                                                                                    *ngIf="row[1]?.type === 'ngselect'"
                                                                                    appendTo="body"
                                                                                    styleClass="col-5 p-0  w-full"
                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                    [options]="row[1]?.props?.options"
                                                                                    class="w-full"
                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                    [required]="row[1]?.props?.required"
                                                                                    [filter]="true">
                                                                                </p-dropdown>



                                                                                <div
                                                                                    *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                    <small class="error-text">This field
                                                                                        is
                                                                                        required.</small>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </form>
                                                            <div class="col-12 sm:col-12 md:col-12 pb-0 ">
                                                                <!-- <button pButton type="button" (click)="addRowph()">Add New Row</button> -->
                                                                <!-- <form [formGroup]="form">  
                                                                <p-table [value]="IndemityRevenue" class="p-datatable-gridlines">
                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity </th>
                                                                            <th>Revenue</th>
                                                                        </tr>
                                                                    </ng-template>
                                                
                                                                    <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                        <tr>
                                                                            <td>
                                                                                <label>{{ row.props?.label }}</label>
                                                                            </td>
                                                
                                                                            <td>
                                                                                <p-dropdown *ngIf="row?.type === 'ngselect'" appendTo="body"
                                                                                    [formControl]="form.controls[row?.key]" [options]="row?.props?.options"
                                                                                    [placeholder]="row?.props?.placeholder" [required]="row?.props?.required"
                                                                                    [disabled]="row?.props?.disabled" [filter]="true" styleClass="col-5 p-0">
                                                                                </p-dropdown>
                                                                            </td>
                                                
                                                                            <td>
                                                                                <input pInputText [type]="row?.type" [(ngModel)]="form.controls[row[i]?.key]"
                                                                                    placeholder="Enter Sum Insured" class="p-inputtext p-ml-2" />
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                               
                                                            </form> -->
                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form"
                                                                        [fields]="IndemityRevenue"
                                                                        [model]="productItem"></formly-form>
                                                                </form>

                                                            </div>
                                                            <div class="col-12 pb-0">
                                                                <div class="grid">
                                                                    <div class="col-1 flex align-items-center">
                                                                        <h5 style="color:#5064a6" class="mb-0">
                                                                            Extensions</h5>
                                                                    </div>
                                                                    <div class="col">
                                                                        <p-selectButton [options]="ExtensList"
                                                                            class="custom-select"
                                                                            (click)="change('extensions')"
                                                                            [(ngModel)]="EValue" id="dmlYN"
                                                                            optionLabel="CodeDesc"
                                                                            optionValue="Code"></p-selectButton>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-12" *ngIf="showExtensions==true">
                                                                <div>
                                                                    <form [formGroup]="form">
                                                                        <p-table [value]="ExtensFields"
                                                                            class="p-datatable-gridlines">
                                                                            <ng-template pTemplate="header">
                                                                                <tr>
                                                                                    <th>Cover Type</th>
                                                                                    <th>Indemity </th>
                                                                                    <th>Cover Type</th>
                                                                                    <th>Indemity </th>
                                                                                </tr>
                                                                            </ng-template>
                                                                            <ng-template pTemplate="body" let-row>
                                                                                <tr>
                                                                                    <td>
                                                                                        <label
                                                                                            *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                            row[0]?.props?.label
                                                                                            }}</label>
                                                                                        <label
                                                                                            *ngIf="row[0]?.fieldGroup">{{
                                                                                            row[0]?.fieldGroup[0]?.props?.label
                                                                                            }}</label>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input
                                                                                            *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                            pInputText
                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                            type="text" class="w-full"
                                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                                            [required]="row[0]?.props?.required"
                                                                                            styleClass="col-5 p-0  w-full" />
                                                                                        <p-dropdown
                                                                                            *ngIf="row[0]?.type === 'ngselect'"
                                                                                            appendTo="body"
                                                                                            class=" w-full"
                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                            [options]="row[0]?.props?.options"
                                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                                            [required]="row[0]?.props?.required"
                                                                                            [filter]="true"
                                                                                            styleClass="col-5 p-0 w-full">
                                                                                        </p-dropdown>




                                                                                        <div
                                                                                            *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                            <small
                                                                                                class="error-text">This
                                                                                                field
                                                                                                is required.</small>
                                                                                        </div>
                                                                                    </td>


                                                                                    <td>
                                                                                        <!-- If row[1] is a normal field, display its label -->
                                                                                        <label
                                                                                            *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                            row[1]?.props?.label
                                                                                            }}</label>

                                                                                        <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                        <label
                                                                                            *ngIf="row[1]?.fieldGroup">{{
                                                                                            row[1]?.fieldGroup[0]?.props?.label
                                                                                            }}</label>
                                                                                    </td>

                                                                                    <td>

                                                                                        <input
                                                                                            *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                            pInputText
                                                                                            styleClass=" w-full"
                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                            [type]="row[1]?.type"
                                                                                            class=" w-full"
                                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                                            [required]="row[1]?.props?.required" />


                                                                                        <p-dropdown
                                                                                            *ngIf="row[1]?.type === 'ngselect'"
                                                                                            appendTo="body"
                                                                                            styleClass=" w-full"
                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                            [options]="row[1]?.props?.options"
                                                                                            class=" w-full"
                                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                                            [required]="row[1]?.props?.required"
                                                                                            [filter]="true">
                                                                                        </p-dropdown>



                                                                                        <div
                                                                                            *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                            <small
                                                                                                class="error-text">This
                                                                                                field
                                                                                                is required.</small>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-template>
                                                                        </p-table>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="GroupPersonalPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid ">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Group Personal Accident</b>
                                                            </div>
                                                            <div class="text-right">
                                                                <p-button label="Add New" *ngIf="!showAddForm"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="showAddForm = !showAddForm"></p-button>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div>
                                                                <div>

                                                                    <div>

                                                                        <p-table #dtEmployeeExist
                                                                            [value]="filteredGPAList"
                                                                            [tableStyle]="{'min-width':'50rem'}"
                                                                            [rows]="5">

                                                                            <ng-template pTemplate="header">
                                                                                <tr>
                                                                                    <th [pSortableColumn]="column"
                                                                                        *ngFor="let column of GPAcolumns">
                                                                                        {{column}} <p-sortIcon
                                                                                            [field]="column"></p-sortIcon>
                                                                                    </th>
                                                                                </tr>
                                                                            </ng-template>
                                                                            <ng-template pTemplate="body" let-GPAList
                                                                                let-rowIndex="rowIndex">
                                                                                <tr>
                                                                                    <td>{{
                                                                                        getCodeDesc(GPAList?.occupation,
                                                                                        'occupation') }}</td>
                                                                                    <td>{{GPAList?.NumberofEmployees}}
                                                                                    </td>
                                                                                    <td>{{GPAList?.AnnualRemuneration}}
                                                                                    </td>
                                                                                    <td>{{GPAList?.TemporaryDisablement}}
                                                                                    </td>
                                                                                    <td>{{
                                                                                        getCodeDesc(GPAList?.Coverage,
                                                                                        'phonixWeeks') }}</td>
                                                                                    <td>{{GPAList?.MedicalExpenses}}
                                                                                    </td>
                                                                                    <td>
                                                                                        <span class="p-buttonset">
                                                                                            <button pButton pRipple
                                                                                                icon="pi pi-pencil"
                                                                                                class="p-button-outlined"
                                                                                                (click)="editGPA(GPAList,rowIndex)"></button>
                                                                                            <button pButton pRipple
                                                                                                icon="pi pi-trash"
                                                                                                class="p-button-outlined"
                                                                                                (click)="deleteGPA(rowIndex)"></button>
                                                                                        </span>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-template>
                                                                        </p-table>
                                                                    </div>

                                                                    <div *ngIf="showAddForm">
                                                                        <form [formGroup]="form" (ngSubmit)="submit()">
                                                                            <formly-form [model]="productItem"
                                                                                [fields]="GroupPersonalForm"
                                                                                [options]="options"
                                                                                [form]="form"></formly-form>
                                                                        </form>

                                                                    </div>
                                                                    <div class="text-center">
                                                                        <p-button
                                                                            [label]="isEditing ? 'Update' : 'Submit'"
                                                                            *ngIf="showAddForm"
                                                                            (click)="isEditing ? updateGPA() : AddGPA()"
                                                                            styleClass="mr-3">
                                                                        </p-button>
                                                                    </div>

                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="GoodsTransitPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10 md:col-1">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Goods in Transit</b>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldGoodsTransit"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                        <div class="grid mt-2 px-3">
                                                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                                                <div class="grid">
                                                                                    <div
                                                                                        class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                                        <h5 style="color:#5064a6"
                                                                                            class="mb-0">
                                                                                            Extension</h5>
                                                                                    </div>
                                                                                    <div class="col">
                                                                                        <p-selectButton
                                                                                            [options]="ExtensList"
                                                                                            class="custom-select"
                                                                                            (click)="change('extensions')"
                                                                                            [(ngModel)]="EValue"
                                                                                            id="dmlYN"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code"></p-selectButton>

                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="grid mt-2" *ngIf="showExtensions">
                                                                            <div
                                                                                class="col-12 sm:col-12 md:col-12 pb-0">
                                                                                <h3 class="mr-3 mb-0 px-2">Extension
                                                                                    Details
                                                                                </h3>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-3" *ngIf="showExtensions">
                                                                            <!-- <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div> -->
                                                                            <div
                                                                                class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="GoodsTransitextentionsField"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="HouseHoldersPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>House Holders</b>
                                                            </div>
                                                        </div>
                                                        <div class="">

                                                            <div>
                                                                <div>
                                                                    <div class="mt-4 mr-3 ml-3">
                                                                        <img src="./assets/images/content.png"
                                                                            width="40" height="35">

                                                                    </div>
                                                                    <div class="text-right">
                                                                        <p-button label="Add Contents"
                                                                            styleClass="mr-3 p-button-outlined"
                                                                            (click)="addHHContents()"></p-button>
                                                                    </div>
                                                                    <div>
                                                                       <form [formGroup]="houseHolderContentForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="HHContents">
                                                                        <div *ngFor="let user of HHContentsArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Content Type</label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                        placeholder="Select Content Type"
                                                                                        [options]="constructionTypes"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        formControlName="HHContentType" />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Sum Insured</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="HHSumInsured"
                                                                                        placeholder="Enter Sum Insured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')"
                                                                                         />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Description</label>
                                                                                  <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="HHDescription"
                                                                                        placeholder="Enter Description"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="text"
                                                                                         />
                                                                                </div>
                                                                                 
                                                                                <div class="col-2 lg:col-2 xl:col-2" *ngIf="i !=0">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeHHContents(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>

                                                                            <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                    </div>

                                                                    <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                    <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                       </form>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="fieldHouseHolders"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="HouseOwnerPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>House Owners</b>
                                                            </div>
                                                        </div>
                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="HouseownerPhoenixTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <th>Description</th>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                    <tr>
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <td>
                                                                            <div
                                                                                *ngIf="row.props?.label !='No Claim Bonus'">
                                                                                <ng-container
                                                                                    *ngIf="row.type=='commaSeparator'">
                                                                                    <p-inputNumber
                                                                                        [formControl]="form.controls[row?.key]"
                                                                                        class="w-full"
                                                                                        styleClass="w-full"
                                                                                        [formlyAttributes]="row"
                                                                                        inputId="integeronly"
                                                                                        placeholder="Sum Insured"
                                                                                        (keydown)="onKeyDown($event,row)"
                                                                                        (keyup)="CommaFormattedCorp(HouseownerPhoenixTable,'HouseOwner')">
                                                                                    </p-inputNumber>
                                                                                    <div class="text-danger"
                                                                                        *ngIf="form.errors==true">This
                                                                                        field is
                                                                                        Required</div>
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="row.type!='commaSeparator'">
                                                                                    <input pInputText type="text"
                                                                                        [formControl]="form.controls[row?.key]"
                                                                                        placeholder="Enter Sum Insured"
                                                                                        class="p-inputtext p-ml-2" />
                                                                                </ng-container>

                                                                            </div>
                                                                            <div
                                                                                *ngIf="row.props?.label =='No Claim Bonus'">
                                                                                <ng-select class="custom"
                                                                                    [items]="row.props.options"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    placeholder="Select No Claim Bonus"
                                                                                    [appendTo]="body"
                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                    bindValue="Code"
                                                                                    bindLabel="CodeDesc">
                                                                                </ng-select>
                                                                            </div>
                                                                        </td>

                                                                        <td>
                                                                            <div
                                                                                *ngIf="row.props?.label !='Power Surge' && row.props?.label!='Subsidence and Landslip (Full Value Cover)'&& row.props?.label!='No Claim Bonus'">
                                                                                <textarea
                                                                                    class="p-inputtext p-ml-2 w-100 p-3"
                                                                                    rows="1" placeholder="Description"
                                                                                    [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                    cols="50"></textarea>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="DetoriationPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Detoriation Of Stock</b>
                                                            </div>
                                                        </div>
                                                        <div class="">
                                                            <div style="width: 100%;">
                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form" [fields]="fieldEE"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                                <div class="text-center">
                                                                    <div class="error-text text-danger"
                                                                        *ngIf="deteriorationOfStockDescError">Please
                                                                        Enter Valid
                                                                        Description</div><br>
                                                                    <div class="error-text text-danger"
                                                                        *ngIf="deteriorationOfStockError">Please Enter
                                                                        Valid
                                                                        SumInsured</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <ng-container *ngIf="FirePhoenix">
                                                <div class="grid mt-3">
                                                    <div class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="primaryfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid">

                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 ">


                                                        <form [formGroup]="form">
                                                            <p-table [value]="groupedFields"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Value</th>
                                                                        <th>Coverage</th>
                                                                        <th>Value</th>
                                                                    </tr>
                                                                </ng-template>
                                                                <ng-template pTemplate="body" let-row>
                                                                    <tr>
                                                                        <td>
                                                                            <label
                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                row[0]?.props?.label }}</label>
                                                                            <label *ngIf="row[0]?.fieldGroup">{{
                                                                                row[0]?.fieldGroup[0]?.props?.label
                                                                                }}</label>
                                                                        </td>
                                                                        <td>
                                                                            <input
                                                                                *ngIf="row[0]?.type === 'input' || row[0]?.type === 'number-input'"
                                                                                pInputText
                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                class="w-full"
                                                                                (keydown)="onKeyDown($event,row)"
                                                                                (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                [required]="row[0]?.props?.required"
                                                                                styleClass="col-5 p-0 w-full" />
                                                                            <p-dropdown
                                                                                *ngIf="row[0]?.type === 'select'"
                                                                                appendTo="body" class="w-full"
                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                [options]="row[0]?.props?.options"
                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                [required]="row[0]?.props?.required"
                                                                                [filter]="true"
                                                                                styleClass="col-5 p-0 w-full">
                                                                            </p-dropdown>




                                                                            <div
                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                <small class="error-text">This field is
                                                                                    required.</small>
                                                                            </div>
                                                                        </td>


                                                                        <td>
                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                            <label
                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                row[1]?.props?.label }}</label>

                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                            <label *ngIf="row[1]?.fieldGroup">{{
                                                                                row[1]?.fieldGroup[0]?.props?.label
                                                                                }}</label>
                                                                        </td>

                                                                        <td>

                                                                            <input *ngIf="row[1]?.type === 'input'"
                                                                                pInputText
                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                class="w-full"
                                                                                (keydown)="onKeyDown($event,row)"
                                                                                (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                [required]="row[1]?.props?.required" />


                                                                            <p-dropdown
                                                                                *ngIf="row[1]?.type === 'select'"
                                                                                appendTo="body" styleClass="w-full"
                                                                                class="w-full"
                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                [options]="row[1]?.props?.options"
                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                [required]="row[1]?.props?.required"
                                                                                [filter]="true">
                                                                            </p-dropdown>



                                                                            <div
                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                <small class="error-text">This field is
                                                                                    required.</small>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>
                                                        </form>




                                                    </div>
                                                </div>
                                                <div class="grid mt-2 px-3">
                                                    <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                        <div class="grid">
                                                            <div
                                                                class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Business
                                                                    Interruption
                                                                </h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="BIList" class="custom-select"
                                                                    (click)="change('isConfirmed')"
                                                                    [(ngModel)]="BIValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="grid mt-3" *ngIf="showInterruptions">
                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="interruptionfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid mt-2 px-3" *ngIf="showExtensionToggle">
                                                    <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                        <div class="grid">
                                                            <div
                                                                class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="BIList" class="custom-select"
                                                                    (click)="change('extensions')" [(ngModel)]="EValue"
                                                                    id="dmlYN" optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="grid mt-2" *ngIf="showExtensions">
                                                    <div class="col-12 sm:col-12 md:col-12 pb-0">
                                                        <h3 class="mr-3 mb-0 px-2">Extension Details</h3>
                                                    </div>
                                                </div>
                                                <div class="grid mt-3" *ngIf="showExtensions">
                                                    <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                                    <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="extensionfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid" *ngIf="showExtensions">

                                                    <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                                    <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <p-table [value]="extensionTablefields"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Cover Type</th>
                                                                        <th>Option</th>
                                                                        <th>Sum Insured</th>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row>
                                                                    <tr>
                                                                        <!-- Coverage Column -->
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <!-- Value Column (Dropdown) -->
                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row?.type && row.key!='PreventionofAccess'">
                                                                                <p-dropdown
                                                                                    *ngIf="row?.type === 'ngselect'"
                                                                                    appendTo="body" class="w-full"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    [options]="row?.props?.options"
                                                                                    [placeholder]="row?.props?.placeholder"
                                                                                    [required]="row?.props?.required"
                                                                                    [filter]="true"
                                                                                    styleClass="col-5 p-0 w-full">
                                                                                </p-dropdown>
                                                                            </ng-container>
                                                                        </td>

                                                                        <!-- Sum Insured Column (Textbox) -->
                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row.key!='PreventionofAccess'">
                                                                                <input pInputText
                                                                                    [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                    class="w-full"
                                                                                    (keydown)="onKeyDown($event,row?.fieldGroup[0])"
                                                                                    (keyup)="CommaFormattedDynamic($event,row?.fieldGroup[0]?.key)"
                                                                                    [required]="row?.fieldGroup[0]?.props?.required" />
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="row.key=='PreventionofAccess'">
                                                                                <input pInputText
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    class="w-full"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedDynamic($event,row)"
                                                                                    [required]="row?.props?.required" />
                                                                            </ng-container>


                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>
                                                        </form>


                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngIf="BuildingCombinedPhoenix">
                                                <div class="grid mt-3">
                                                    <div class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="primaryfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid">

                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 ">


                                                        <form [formGroup]="form">
                                                            <p-table [value]="groupedFields"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured</th>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured</th>
                                                                    </tr>
                                                                </ng-template>
                                                                <ng-template pTemplate="body" let-row>
                                                                    <tr>
                                                                        <td>
                                                                            <label
                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                row[0]?.props?.label }}</label>
                                                                            <label *ngIf="row[0]?.fieldGroup">{{
                                                                                row[0]?.fieldGroup[0]?.props?.label
                                                                                }}</label>
                                                                        </td>
                                                                        <td>
                                                                            <fieldset
                                                                                [disabled]="checkDisable(row[0]?.key)"
                                                                                class="field_set">
                                                                                <input
                                                                                    *ngIf="row[0]?.type === 'input' || row[0]?.type === 'number-input'"
                                                                                    pInputText
                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                    class="w-full"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                    [required]="row[0]?.props?.required"
                                                                                    styleClass="col-5 p-0 w-full" />
                                                                            </fieldset>
                                                                            <p-dropdown
                                                                                *ngIf="row[0]?.type === 'select'"
                                                                                appendTo="body"
                                                                                [readonly]="checkDisable(row[0]?.key)"
                                                                                class="w-full"
                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                [options]="row[0]?.props?.options"
                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                [required]="row[0]?.props?.required"
                                                                                [filter]="true"
                                                                                styleClass="col-5 p-0 w-full">
                                                                            </p-dropdown>

                                                                            <div
                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                <small class="error-text">This field is
                                                                                    required.</small>
                                                                            </div>
                                                                        </td>


                                                                        <td>
                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                            <label
                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                row[1]?.props?.label }}</label>

                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                            <label *ngIf="row[1]?.fieldGroup">{{
                                                                                row[1]?.fieldGroup[0]?.props?.label
                                                                                }}</label>
                                                                        </td>

                                                                        <td>
                                                                            <fieldset
                                                                                [disabled]="checkDisable(row[1]?.key)"
                                                                                class="field_set">
                                                                                <input *ngIf="row[1]?.type === 'input'"
                                                                                    pInputText
                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                    class="w-full"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                    [required]="row[1]?.props?.required"
                                                                                    [disabled]="checkDisable(row[1]?.key)" />
                                                                            </fieldset>
                                                                            <p-dropdown
                                                                                *ngIf="row[1]?.type === 'select'"
                                                                                [readonly]="checkDisable(row[1]?.key)"
                                                                                appendTo="body" styleClass="w-full"
                                                                                class="w-full"
                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                [options]="row[1]?.props?.options"
                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                [required]="row[1]?.props?.required"
                                                                                [filter]="true">
                                                                            </p-dropdown>


                                                                            <div
                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                <small class="error-text">This field is
                                                                                    required.</small>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>
                                                        </form>




                                                    </div>
                                                </div>
                                                <div class="grid mt-2 px-3">
                                                    <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                        <div class="grid">
                                                            <div
                                                                class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Business
                                                                    Interruption
                                                                </h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="BIList" class="custom-select"
                                                                    [disabled]="endorsementSection"
                                                                    (click)="change('isConfirmed')"
                                                                    [(ngModel)]="BIValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="grid mt-3" *ngIf="showInterruptions">
                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="interruptionfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid mt-2 px-3" *ngIf="showExtensionToggle">
                                                    <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                        <div class="grid">
                                                            <div
                                                                class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="BIList" class="custom-select"
                                                                    [disabled]="endorsementSection"
                                                                    (click)="change('extensions')" [(ngModel)]="EValue"
                                                                    id="dmlYN" optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="grid mt-2" *ngIf="showExtensions">
                                                    <div class="col-12 sm:col-12 md:col-12 pb-0">
                                                        <h3 class="mr-3 mb-0 px-2">Extension Details</h3>
                                                    </div>
                                                </div>
                                                <div class="grid mt-3" *ngIf="showExtensions">
                                                    <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                                    <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <formly-form [form]="form" [fields]="extensionfields"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="grid" *ngIf="showExtensions">

                                                    <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                                    <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                        <form [formGroup]="form">
                                                            <p-table [value]="extensionTablefields"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Cover Type</th>
                                                                        <th>Option</th>
                                                                        <th>Sum Insured</th>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row>
                                                                    <tr>
                                                                        <!-- Coverage Column -->
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <!-- Value Column (Dropdown) -->
                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row?.type && row.key!='PreventionofAccess'">
                                                                                <p-dropdown
                                                                                    *ngIf="row?.type === 'ngselect'"
                                                                                    [readonly]="checkDisable(row?.key)"
                                                                                    appendTo="body" class="w-full"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    [options]="row?.props?.options"
                                                                                    [placeholder]="row?.props?.placeholder"
                                                                                    [required]="row?.props?.required"
                                                                                    [filter]="true"
                                                                                    styleClass="col-5 p-0 w-full">
                                                                                </p-dropdown>
                                                                            </ng-container>
                                                                        </td>

                                                                        <!-- Sum Insured Column (Textbox) -->
                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row.key!='PreventionofAccess'">
                                                                                <input pInputText
                                                                                    [readonly]="checkDisable(row?.fieldGroup[0]?.key)"
                                                                                    [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                    class="w-full"
                                                                                    (keydown)="onKeyDown($event,row?.fieldGroup[0])"
                                                                                    (keyup)="CommaFormattedDynamic($event,row?.fieldGroup[0]?.key)"
                                                                                    [required]="row?.fieldGroup[0]?.props?.required" />
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="row.key=='PreventionofAccess'">
                                                                                <input pInputText
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    class="w-full"
                                                                                    [readonly]="checkDisable(row?.key)"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedDynamic($event,row)"
                                                                                    [required]="row?.props?.required" />
                                                                            </ng-container>


                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>
                                                        </form>


                                                    </div>
                                                </div>
                                            </ng-container>
                                            <div class="grid" *ngIf="EmployeePhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Employer's Liabilitys</b>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="text-right" *ngIf="!endorsementSection">
                                                                <p-button label="Add Employers"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addEmployers()"></p-button>
                                                            </div>
                                                            <div>
                                                                 <form [formGroup]="employersLiabilityForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="EmployersLiability">
                                                                        <div *ngFor="let user of EmployersArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Occupation Type</label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                        placeholder="Select Occupation Type"
                                                                                        [options]="constructionTypes"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        formControlName="OccuationType" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">No Of Employees</label>
                                                                                  <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="NoOfEmployees"
                                                                                        placeholder="Enter No Of Employees"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="number"
                                                                                         />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Sum Insured</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="SumInsured"
                                                                                        placeholder="Enter Sum Insured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')"
                                                                                         />
                                                                                </div>
                                                                                  

                                                                                <div class="col-2 lg:col-2 xl:col-2">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeEmployersLiability(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>

                                                                            <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                    </div>

                                                                    <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                    <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                </form>
                                                            </div>
                                                        </div>
                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="FidelityPhoenix">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Fidelity</b>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="text-right">

                                                                <p-button label="Add Fidelity"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addFidelity()"></p-button>
                                                            </div>
                                                            <div>
                                                                <form [formGroup]="fidelityForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="fidelitys">
                                                                        <div *ngFor="let user of FidelityArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-4 xl:col-4">
                                                                                    <label for="Address">Additional
                                                                                        Claims
                                                                                        Preparation Costs</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="AdditionalClaimsPreparationCosts"
                                                                                        placeholder="SumInsured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-4 xl:col-4">
                                                                                    <label for="Location">Limit Of
                                                                                        Indemnity</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="LimitOfIndemnity"
                                                                                        placeholder="SumInsuresd"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" />
                                                                                </div>

                                                                                <div class="col-2 lg:col-2 xl:col-2">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeFidelity(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>

                                                                            <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                    </div>

                                                                    <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                    <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                </form>
                                                                <!-- <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                <formly-form [form]="form"  [fields]="fieldFidelityPhoenix" [model]="productItem"></formly-form>
                                                            </form> -->
                                                            </div>
                                                        </div>

                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="MachineryBreakDownPhoenix" class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-10 xl:col-10">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Machinery Breakdown</b>
                                                            </div>
                                                        </div>
                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="MachineryBreakDownPhoenixTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                    <tr>
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row.type=='commaSeparator'">
                                                                                <p-inputNumber
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    class="w-full" styleClass="w-full"
                                                                                    [formlyAttributes]="row"
                                                                                    inputId="integeronly"
                                                                                    placeholder="Sum Insured"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedCorp(MachineryBreakDownPhoenixTable,'HouseOwner')">
                                                                                </p-inputNumber>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="row.type!='commaSeparator'">
                                                                                <ng-select class="custom"
                                                                                    [items]="row.props.options"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    placeholder="Select" appendTo="body"
                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                    bindValue="Code"
                                                                                    bindLabel="CodeDesc">
                                                                                </ng-select>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </form>

                                                        <div class="input-form-error"
                                                            *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='93'">
                                            <div class="grid">
                                                <div class="lg:col-12 md:col-12 col-12">
                                                    <div class="grid">
                                                        <div class="col-2">
                                                            <div class="card domesticCardCss shadow-4 px-0 py-0">
                                                                <div class="list-group">
                                                                    <div class="list-group--header-item"><strong
                                                                            class="ml-3">Cover</strong></div>
                                                                    <ng-container
                                                                        *ngFor="let list of personalPPMenus;  index as i">
                                                                        <div class="list-group-item"
                                                                            (click)="listProceed('PersonalPackagePlus',i)"
                                                                            [ngStyle]="{'background': list.menu == currentPP ? 'aliceblue' : 'white'}"
                                                                            [ngClass]="{ 'active': list == currentPP , 'list-completed' : list.filled}">
                                                                            <div class="grid mx-0">
                                                                                <div class="col-10">
                                                                                    {{ list.menu }}
                                                                                </div>
                                                                                <div class="col-1">
                                                                                    <i *ngIf="list.filled"
                                                                                        class="pi pi-check float-right "></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col">
                                                            <div class="memberDetailCard">
                                                                <div class="grid"
                                                                    *ngIf="currentPP =='Electronic equipment'">
                                                                    <div class="col-12 lg:col-1 xl:col-1 md:col-1">
                                                                    </div>
                                                                    <div class="col-12 lg:col-10 xl:col-10">
                                                                        <div>
                                                                            <div class="grid justify-content-end">
                                                                                <div
                                                                                    class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                    <b>Electronic Equipment</b>
                                                                                </div>
                                                                            </div>
                                                                            <div class="">

                                                                                <div style="width: 100%;">
                                                                                    <div>
                                                                                        <!-- <div class="mt-4 mr-3 ml-3">
                                                                                                <img src="./assets/images/content.png" width="40"
                                                                                                    height="35">
                                                                                                
                                                                                            </div> -->
                                                                                        <div>

                                                                                            <form [formGroup]="form"
                                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                                <formly-form
                                                                                                    [form]="form"
                                                                                                    [fields]="fieldEE"
                                                                                                    [model]="productItem"></formly-form>
                                                                                            </form>

                                                                                        </div>
                                                                                    </div>

                                                                                </div>

                                                                            </div>
                                                                            <div class="input-form-error"
                                                                                *ngIf="item.ContentSuminsuredError">
                                                                                <div
                                                                                    class="error-text text-danger text-center">
                                                                                    Enter Valid Amount
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="grid" *ngIf="currentPP =='House holders'">
                                                                    <div class="col-12 lg:col-1 xl:col-1 md:col-1">
                                                                    </div>
                                                                    <div class="col-12 lg:col-10 xl:col-10">
                                                                        <div>
                                                                            <div class="grid justify-content-end">
                                                                                <div
                                                                                    class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                    <b>House Holders</b>
                                                                                </div>
                                                                            </div>
                                                                            <div class="">

                                                                                <div>
                                                                                    <div>
                                                                                        <div class="mt-4 mr-3 ml-3">
                                                                                            <img src="./assets/images/content.png"
                                                                                                width="40" height="35">

                                                                                        </div>
                                                                                        <div class="text-right">
                                                                                            <p-button
                                                                                                label="Add Contents"
                                                                                                styleClass="mr-3 p-button-outlined"
                                                                                                (click)="addHHContents()"></p-button>
                                                                                        </div>
                                                                                        <div>
                                                                                           <form [formGroup]="houseHolderContentForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="HHContents">
                                                                        <div *ngFor="let user of HHContentsArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Content Type</label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                        placeholder="Select Content Type"
                                                                                        [options]="constructionTypes"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        formControlName="HHContentType" />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Sum Insured</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="HHSumInsured"
                                                                                        placeholder="Enter Sum Insured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')"
                                                                                         />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Description</label>
                                                                                  <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="HHDescription"
                                                                                        placeholder="Enter Description"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="text"
                                                                                         />
                                                                                </div>
                                                                                 
                                                                                <div class="col-2 lg:col-2 xl:col-2" *ngIf="i !=0">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeHHContents(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>

                                                                            <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                    </div>

                                                                    <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                    <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                       </form>
                                                                                            <form [formGroup]="form"
                                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                                <formly-form
                                                                                                    [form]="form"
                                                                                                    [fields]="fieldHouseHolders"
                                                                                                    [model]="productItem"></formly-form>
                                                                                            </form>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>

                                                                            </div>
                                                                            <div class="input-form-error"
                                                                                *ngIf="item.ContentSuminsuredError">
                                                                                <div
                                                                                    class="error-text text-danger text-center">
                                                                                    Enter Valid Amount
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="grid" *ngIf="currentPP =='Houseowners'">
                                                                    <div class="col-12 lg:col-1 xl:col-1 md:col-1">
                                                                    </div>
                                                                    <div class="col-12 lg:col-10 xl:col-10">
                                                                        <div>
                                                                            <div class="grid">
                                                                                <div
                                                                                    class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                    <b>House Owners</b>
                                                                                </div>
                                                                            </div>
                                                                            <form [formGroup]="form"
                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                <p-table
                                                                                    [value]="HouseownerPhoenixTable"
                                                                                    class="p-datatable-gridlines">
                                                                                    <ng-template pTemplate="header">
                                                                                        <tr>
                                                                                            <th>Coverage</th>
                                                                                            <th>Sum Insured </th>
                                                                                            <th>Description</th>
                                                                                        </tr>
                                                                                    </ng-template>

                                                                                    <ng-template pTemplate="body"
                                                                                        let-row let-i="rowIndex">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <label>{{
                                                                                                    row.props?.label
                                                                                                    }}</label>
                                                                                            </td>

                                                                                            <td>
                                                                                                <div
                                                                                                    *ngIf="row.props?.label !='No Claim Bonus'">
                                                                                                    <ng-container
                                                                                                        *ngIf="row.type=='commaSeparator'">
                                                                                                        <p-inputNumber
                                                                                                            [formControl]="form.controls[row?.key]"
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formlyAttributes]="row"
                                                                                                            inputId="integeronly"
                                                                                                            placeholder="Sum Insured"
                                                                                                            (keydown)="onKeyDown($event,row)"
                                                                                                            (keyup)="CommaFormattedCorp(HouseownerPhoenixTable,'HouseOwner')">
                                                                                                        </p-inputNumber>
                                                                                                        <div class="text-danger"
                                                                                                            *ngIf="form.errors==true">
                                                                                                            This field
                                                                                                            is
                                                                                                            Required
                                                                                                        </div>
                                                                                                    </ng-container>
                                                                                                    <ng-container
                                                                                                        *ngIf="row.type!='commaSeparator'">
                                                                                                        <input
                                                                                                            pInputText
                                                                                                            type="text"
                                                                                                            [formControl]="form.controls[row?.key]"
                                                                                                            placeholder="Enter Sum Insured"
                                                                                                            class="p-inputtext p-ml-2" />
                                                                                                    </ng-container>

                                                                                                </div>
                                                                                                <div
                                                                                                    *ngIf="row.props?.label =='No Claim Bonus'">
                                                                                                    <ng-select
                                                                                                        class="custom"
                                                                                                        [items]="row.props.options"
                                                                                                        [formControl]="form.controls[row?.key]"
                                                                                                        placeholder="Select No Claim Bonus"
                                                                                                        [appendTo]="body"
                                                                                                        [ngModelOptions]="{standalone: true}"
                                                                                                        bindValue="Code"
                                                                                                        bindLabel="CodeDesc">
                                                                                                    </ng-select>
                                                                                                </div>
                                                                                            </td>

                                                                                            <td>
                                                                                                <div
                                                                                                    *ngIf="row.props?.label !='Power Surge' && row.props?.label!='Subsidence and Landslip (Full Value Cover)'&& row.props?.label!='No Claim Bonus'">
                                                                                                    <textarea
                                                                                                        class="p-inputtext p-ml-2 w-100 p-3"
                                                                                                        rows="1"
                                                                                                        placeholder="Description"
                                                                                                        [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                                        cols="50"></textarea>
                                                                                                </div>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </ng-template>
                                                                                </p-table>

                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="grid"
                                                                    *ngIf="currentPP =='Personal All Risk'">
                                                                    <div class="col-12 lg:col-1 xl:col-1 md:col-1">
                                                                    </div>
                                                                    <div class="col-12 lg:col-10 xl:col-10">
                                                                        <div>
                                                                            <div class="grid justify-content-end">
                                                                                <div
                                                                                    class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                    <b>Personal All Risk</b>
                                                                                </div>
                                                                            </div>
                                                                            <div class="">

                                                                                <div style="width: 100%;">
                                                                                    <div>
                                                                                        <div>

                                                                                            <form [formGroup]="form"
                                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                                <formly-form
                                                                                                    [form]="form"
                                                                                                    [fields]="fieldsBAR"
                                                                                                    [model]="productItem"></formly-form>
                                                                                            </form>

                                                                                        </div>
                                                                                    </div>

                                                                                </div>

                                                                            </div>
                                                                            <div class="input-form-error"
                                                                                *ngIf="item.ContentSuminsuredError">
                                                                                <div
                                                                                    class="error-text text-danger text-center">
                                                                                    Enter Valid Amount
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="text-center mt-2">
                                                                    <p-button class="mr-2" label="Previous" size="small"
                                                                        *ngIf="getCurrentPersonalPackageIndex() > 0"
                                                                        (click)="previous('PersonalPP')"></p-button>
                                                                    <p-button class="mr-2" label="Skip" size="small"
                                                                        
                                                                        (click)="skip('PersonalPackagePlus')"></p-button>
                                                                    <p-button class="mr-2" label="Save & Proceed"
                                                                        size="small" *ngIf="currentPP != 'Personal All Risk'"
                                                                        (click)="listProceed('PersonalPackagePlus')"></p-button>
                                                                    <p-button label="View Premium" size="small"
                                                                        (click)="onSubmitAltDetails('Submit')"></p-button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='92'">
                                             <div class="flex justify-content-between">
                                        <div>
                                            <h4 class="m-0 p-0">Commercial Package Plus</h4>
                                        </div>
                                        <div>
                                            <h4 class="m-0 p-0">Currency -- {{selectedCurrency}}</h4>
                                        </div>
                                    </div>
                                    <div class="col-12 pl-3 pr-2 pb-0 ">


                                         <div class="grid" >
                                                    <div class="col-3 col-md-7 col-lg-7 offset-md-1 offset-lg-1">
                                                        <div class="input-control-container">
                                                            <label
                                                                class="input-form-label">Industry</label>&nbsp;<ng-container
                                                                *ngIf="categoryDesc">({{categoryDesc}})</ng-container><span
                                                                class="text-danger">*</span>
                                                            <ng-select class="custom" [items]="industryTypeList"
                                                                [(ngModel)]="IndustryId" placeholder="Select Industry"
                                                                appendTo="body" [ngModelOptions]="{standalone: true}"
                                                                bindValue="Code" bindLabel="CodeDesc">
                                                            </ng-select>
                                                        </div>
                                                        <div class="input-form-error" *ngIf="industryError"
                                                            style="position: relative;">
                                                            <div class="error-text text-danger">
                                                                <span class="spancommon span_font_size"> Please Select
                                                                    Industry</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        <div class="text-center" *ngIf="IndustryError1 || IndustryError2 ">
                                            <div class="input-form-error">
                                                <div class="error-text text-danger">
                                                    <span *ngIf="IndustryError1">Please select Industry Type</span><br>
                                                    <span *ngIf="!IndustryError1 && IndustryError2">Please select
                                                        Industry</span>
                                                </div>
                                            </div>
                                        </div>
                                        <p-divider />
                                        <div class="h1 mt-3">

                                            <div class="grid">
                                                <div class="lg:col-12 md:col-12 col-12">
                                                    <div class="grid">
                                                        <div class="col-3">

                                                            <div class="card domesticCardCss shadow-4 px-0 py-0">
                                                                <div class="list-group height-css">
                                                                    <div class="list-group--header-item"><strong
                                                                            class="ml-3">Cover</strong></div>
                                                                    <ng-container
                                                                        *ngFor="let list of commercialpackageplusMenus;  index as i">
                                                                        <div class="list-group-item"
                                                                            (click)="listProceed('CommercialPackagePlus',i)"
                                                                            [ngStyle]="{'background': list.menu == currentCommercial ? 'aliceblue' : 'white'}"
                                                                            [ngClass]="{ 'active': list == currentCommercial , 'list-completed' : list.filled}">
                                                                            <div class="grid mx-0">
                                                                                <div class="col-10">
                                                                                    {{ list.menu }}
                                                                                </div>
                                                                                <div class="col-1">
                                                                                    <i *ngIf="list.filled"
                                                                                        class="pi pi-check float-right "></i>
                                                                                </div>
                                                                            </div>


                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-9">
                                                            <div class="card">
                                                                <div>
                                                                 <ng-container
                                                                    *ngIf="currentCommercial =='Accidental Damage'">
                                                                    <div class="grid justify-content-start">
                                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                            <b>Accidental Damage</b>
                                                                        </div>
                                                                    
                                                                    </div>
                                                                    <div
                                                                        class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                        <div
                                                                            style="display: flex !important;justify-content: space-between !important;">
                                                                            <!-- <ng-container
                                                            *ngFor="let stepss of fields10; let index = index; let last = last"> -->
                                                                            <div class="grid">
                                                                           <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldAccidentalDamage"
                                                                        [model]="productItem"></formly-form>
                                                                       </form>
                                                                               
                                                                            </div>
                                                                            <div class="text-center"
                                                                                *ngIf="BuildingSIError">
                                                                                <div class="input-form-error">
                                                                                    <div class="error-text text-danger">
                                                                                        Please select Details for
                                                                                        Building SumInsured Type
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="currentCommercial =='Accounts Recievable'">
                                                                    <div class="grid justify-content-start">
                                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                            <b>Accounts Recievable</b>
                                                                        </div>
                                                                    
                                                                    </div>
                                                                    <div
                                                                        class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                        <div
                                                                            style="display: flex !important;justify-content: space-between !important;">
                                                                            <!-- <ng-container
                                                            *ngFor="let stepss of fields10; let index = index; let last = last"> -->
                                                                            <div class="grid">
                                                                           <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldAccountsRecievable"
                                                                        [model]="productItem"></formly-form>
                                                                       </form>
                                                                               
                                                                            </div>
                                                                            <div class="text-center"
                                                                                *ngIf="BuildingSIError">
                                                                                <div class="input-form-error">
                                                                                    <div class="error-text text-danger">
                                                                                        Please select Details for
                                                                                        Building SumInsured Type
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="currentCommercial =='Business All Risk'">
                                                                    <div class="grid justify-content-start">
                                                                        <div class="col-12 lg:col-10 xl:col-10">
                                                                            <b>Business All Risk</b>
                                                                        </div>
                                                                    </div>
                                                                    <div class="">
                                                                      <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form" [fields]="fieldBusinessAllRisk"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>

                                                                      </div>
                                                                         
                                                                      
                                                                    </div>
                                                                    <div class="text-center" *ngIf="BurglarySIError">
                                                                        <div class="input-form-error">
                                                                            <div class="error-text text-danger">
                                                                                {{CorpErrorMessage}}
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="currentCommercial == 'BuildingCombined'">
                                                                  <div class="grid justify-content-start">
                                                                        <div class="col-12 lg:col-10 xl:col-10">
                                                                            <b>Building Combined</b>
                                                                        </div>
                                                                    </div>
                                                                    <div class="grid mt-3">
                                            <div class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="Buildingprimaryfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                                                </div>
                                                                <div class="grid">

                                            <div class="col-12 sm:col-12 md:col-12 pb-0 ">


                                                <form [formGroup]="form">
                                                    <p-table [value]="groupedBuildingFields" class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured</th>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured</th>
                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="body" let-row>
                                                            <tr>
                                                                <td>
                                                                    <label *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                        row[0]?.props?.label }}</label>
                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                        row[0]?.fieldGroup[0]?.props?.label }}</label>
                                                                </td>
                                                                <td>
                                                                    <fieldset [disabled]="checkDisable(row[0]?.key)"
                                                                        class="field_set">
                                                                        <input
                                                                            *ngIf="row[0]?.type === 'input' || row[0]?.type === 'number-input'"
                                                                            pInputText
                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                            class="w-full"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                            [required]="row[0]?.props?.required"
                                                                            styleClass="col-5 p-0 w-full" />
                                                                    </fieldset>
                                                                    <p-dropdown *ngIf="row[0]?.type === 'select'"
                                                                        appendTo="body"
                                                                        [readonly]="checkDisable(row[0]?.key)"
                                                                        class="w-full"
                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                        [options]="row[0]?.props?.options"
                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                        [required]="row[0]?.props?.required"
                                                                        [filter]="true" styleClass="col-5 p-0 w-full">
                                                                    </p-dropdown>

                                                                    <div
                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                        <small class="error-text">This field is
                                                                            required.</small>
                                                                    </div>
                                                                </td>


                                                                <td>
                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                    <label *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                        row[1]?.props?.label }}</label>

                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                        row[1]?.fieldGroup[0]?.props?.label }}</label>
                                                                </td>

                                                                <td>
                                                                    <fieldset [disabled]="checkDisable(row[1]?.key)"
                                                                        class="field_set">
                                                                        <input *ngIf="row[1]?.type === 'input'"
                                                                            pInputText
                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                            class="w-full"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                            [required]="row[1]?.props?.required"
                                                                            [disabled]="checkDisable(row[1]?.key)" />
                                                                    </fieldset>
                                                                    <p-dropdown *ngIf="row[1]?.type === 'select'"
                                                                        [readonly]="checkDisable(row[1]?.key)"
                                                                        appendTo="body" styleClass="w-full"
                                                                        class="w-full"
                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                        [options]="row[1]?.props?.options"
                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                        [required]="row[1]?.props?.required"
                                                                        [filter]="true">
                                                                    </p-dropdown>


                                                                    <div
                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                        <small class="error-text">This field is
                                                                            required.</small>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </form>




                                            </div>
                                                                </div>
                                                                <div class="grid mt-2 px-3">
                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                <div class="grid">
                                                    <div class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                        <h5 style="color:#5064a6" class="mb-0">Business Interruption
                                                        </h5>
                                                    </div>
                                                    <div class="col">
                                                        <p-selectButton [options]="BIList" class="custom-select"
                                                            [disabled]="endorsementSection"
                                                            (click)="change('isConfirmed')" [(ngModel)]="BIValue"
                                                            id="dmlYN" optionLabel="CodeDesc"
                                                            optionValue="Code"></p-selectButton>

                                                    </div>
                                                </div>
                                            </div>
                                                                </div>
                                                                <div class="grid mt-3" *ngIf="showInterruptions">
                                            <div class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="Buildinginterruptionfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                                                </div>
                                                                <div class="grid mt-2 px-3" *ngIf="showExtensionToggle">
                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                <div class="grid">
                                                    <div class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                        <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                    </div>
                                                    <div class="col">
                                                        <p-selectButton [options]="BIList" class="custom-select"
                                                            [disabled]="endorsementSection"
                                                            (click)="change('extensions')" [(ngModel)]="EValue"
                                                            id="dmlYN" optionLabel="CodeDesc"
                                                            optionValue="Code"></p-selectButton>

                                                    </div>
                                                </div>
                                            </div>
                                                                </div>
                                                                <div class="grid mt-2" *ngIf="showExtensions">
                                            <div class="col-12 sm:col-12 md:col-12 pb-0">
                                                <h3 class="mr-3 mb-0 px-2">Extension Details</h3>
                                            </div>
                                                                </div>
                                                                <div class="grid mt-3" *ngIf="showExtensions">
                                            <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                            <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="Buildingextensionfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                                                </div>
                                                                <div class="grid" *ngIf="showExtensions">

                                            <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                            <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <p-table [value]="BuildingextensionTablefields"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Cover Type</th>
                                                                <th>Option</th>
                                                                <th>Sum Insured</th>
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row>
                                                            <tr>
                                                                <!-- Coverage Column -->
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <!-- Value Column (Dropdown) -->
                                                                <td>
                                                                    <ng-container
                                                                        *ngIf="row?.type && row.key!='PreventionofAccess'">
                                                                        <p-dropdown *ngIf="row?.type === 'ngselect'"
                                                                            [readonly]="checkDisable(row?.key)"
                                                                            appendTo="body" class="w-full"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            [options]="row?.props?.options"
                                                                            [placeholder]="row?.props?.placeholder"
                                                                            [required]="row?.props?.required"
                                                                            [filter]="true"
                                                                            styleClass="col-5 p-0 w-full">
                                                                        </p-dropdown>
                                                                    </ng-container>
                                                                </td>

                                                                <!-- Sum Insured Column (Textbox) -->
                                                                <td>
                                                                    <ng-container *ngIf="row.key!='PreventionofAccess'">
                                                                        <input pInputText
                                                                            [readonly]="checkDisable(row?.fieldGroup[0]?.key)"
                                                                            [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                            class="w-full"
                                                                            (keydown)="onKeyDown($event,row?.fieldGroup[0])"
                                                                            (keyup)="CommaFormattedDynamic($event,row?.fieldGroup[0]?.key)"
                                                                            [required]="row?.fieldGroup[0]?.props?.required" />
                                                                    </ng-container>
                                                                    <ng-container *ngIf="row.key=='PreventionofAccess'">
                                                                        <input pInputText
                                                                            [formControl]="form.controls[row?.key]"
                                                                            class="w-full"
                                                                            [readonly]="checkDisable(row?.key)"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedDynamic($event,row)"
                                                                            [required]="row?.props?.required" />
                                                                    </ng-container>


                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </form>


                                            </div>
                                                                </div>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="currentCommercial =='Deterioration'">
                                                                    <div class="">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                <b>Detoriation Of Stock</b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="">
                                                                            <div style="width: 100%;">
                                                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form" [fields]="fieldDD"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                        
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                   
                                                                </ng-container>
                                                               <ng-container
                                                                    *ngIf="currentCommercial =='Electronic Equipment'">
                                                                    <div class="">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                                <b>Electronic Equipment</b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="">
                                                                            <div style="width: 100%;">
                                                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form" [fields]="fieldElectronic"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                        
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                   
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="currentCommercial =='Employers Liability'">
                                                                      <div class="grid justify-content-end">
                                                                        <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                            <b>Employer's Liabilitys</b>
                                                                        </div>
                                                                    </div>
                                                                   <div class="row">
                                                            <div class="text-right" *ngIf="!endorsementSection">
                                                                <p-button label="Add Employers"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addEmployers()"></p-button>
                                                            </div>
                                                            <div>
                                                                 <form [formGroup]="employersLiabilityForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="EmployersLiability">
                                                                        <div *ngFor="let user of EmployersArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Occupation Type</label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                        placeholder="Select Occupation Type"
                                                                                        [options]="constructionTypes"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [filter]="true"
                                                                                        filterBy="CodeDesc"
                                                                                        formControlName="OccuationType" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">No Of Employees</label>
                                                                                  <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="NoOfEmployees"
                                                                                        placeholder="Enter No Of Employees"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="number"
                                                                                         />
                                                                                </div>
                                                                                  <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Sum Insured</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="SumInsured"
                                                                                        placeholder="Enter Sum Insured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')"
                                                                                         />
                                                                                </div>
                                                                                  

                                                                                <div class="col-2 lg:col-2 xl:col-2">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeEmployersLiability(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>

                                                                            <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                    </div>

                                                                    <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                                    <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                </form>
                                                            </div>
                                                        </div>
                                                                    
                                                                   
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="currentCommercial =='Fidelity'">
                                                                    <div class="flex justify-content-between">
                                                                      <div class="">
                                                                        <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                            <b>Fidelity</b>
                                                                        </div>
                                                                      </div>
                                                                      <div class="row">
                                                                        <div class="text-right">

                                                                            <p-button label="Add Fidelity"
                                                                                styleClass="mr-3 p-button-outlined"
                                                                                (click)="addFidelity()"></p-button>
                                                                        </div>
                                                                       
                                                                      </div>
                                                                    </div>
                                                                    <div>
                                                                         <div>
                                                                        <form [formGroup]="fidelityForm"
                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                        <div formArrayName="fidelitys">
                                                                        <div *ngFor="let user of FidelityArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="w-full">
                                                                                 <div class="grid ">
                                                                                <div class="col-10 lg:col-4 xl:col-4">
                                                                                    <label for="Address">Additional Claims
                                                                                        Preparation Costs</label>
                                                                                    <input class="w-full p-button-outlined"
                                                                                        formControlName="AdditionalClaimsPreparationCosts"
                                                                                        placeholder="SumInsured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                </div>
                                                                        <div class="col-10 lg:col-4 xl:col-4">
                                                                            <label for="Location">Limit Of
                                                                                Indemnity</label>
                                                                            <input class="w-full p-button-outlined"
                                                                                formControlName="LimitOfIndemnity"
                                                                                placeholder="SumInsuresd"
                                                                                styleClass="w-full" pInputText
                                                                                type="commaSeparator"
                                                                                (keydown)="onKeyDown($event,user)"
                                                                                (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" />
                                                                        </div>

                                                                        <div class="col-2 lg:col-2 xl:col-2">
                                                                            <br>
                                                                            <button pButton type="button"
                                                                                icon="pi pi-trash"
                                                                                (click)="removeFidelity(i)"
                                                                                styleClass="p-button-outlined">
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                            </div>

                                                                    <!-- <button mat-icon-button color="warn" (click)="removeUser(i)">
                                                                      <mat-icon>delete</mat-icon>
                                                                    </button> -->

                                                                        </div>
                                                                        </div>

                                                            <!-- <button mat-raised-button color="primary" (click)="addUser()">Add User</button> -->
                                                            <!-- <button mat-raised-button color="accent" (click)="saveForm()">Save</button> -->
                                                                        </form>
                                                        <!-- <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                <formly-form [form]="form"  [fields]="fieldFidelityPhoenix" [model]="productItem"></formly-form>
                                                            </form> -->
                                                                        </div>
                                                                    </div>
                                                                   
                                                                </ng-container>
                                                              
                                                        
                                                                   
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Machinery Breakdown'">
                                                                        <div class="grid justify-content-between">
                                                                            <div class="mb-1 ">
                                                                                <b>Machinery Breakdown</b>
                                                                            </div>
                                                                            <div class="mb-2">
                                                                                <!-- <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('MB',item)"></p-button>&nbsp; -->
                                                                            </div>
                                                                        </div>
                                                                        <ng-container *ngIf="item.MachineryList">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.MachineryList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div
                                                                                        class="col-12 lg:col-5 md:col-5">
                                                                                        <label
                                                                                            for="BuildingType">Machinery
                                                                                            Name</label>
                                                                                        <p-dropdown class="w-full"
                                                                                            styleClass="w-full"
                                                                                            placeholder="Select Machinery"
                                                                                            [filter]="true"
                                                                                            filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.ContentId"
                                                                                            [options]="machineryContentList"
                                                                                            appendTo="body"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-4 md:col-4"
                                                                                        *ngIf="entry.ContentId=='8'">
                                                                                        <label
                                                                                            for="SumInsured">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            maxlength="200"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.ContentDesc"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'MB')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <!-- <div class="col-12 lg:col-2 md:col-2">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'MB')"
                                                                            styleClass="p-button-outlined"></button>
                                                                </div> -->
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Electronic Equipment'">
                                                                        <div class="grid justify-content-between">
                                                                            <div class="mb-1 ">
                                                                                <b>Electronic Equipment</b>
                                                                            </div>
                                                                            <div class="mb-2">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('EE',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <ng-container *ngIf="item.ElecEquipList">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.ElecEquipList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label
                                                                                            for="BuildingType">Equipment
                                                                                            Name</label>
                                                                                        <p-dropdown class="w-full"
                                                                                            styleClass="w-full"
                                                                                            placeholder="Select Equipment"
                                                                                            [filter]="true"
                                                                                            filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.ContentId"
                                                                                            [options]="equipmentList"
                                                                                            appendTo="body"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label
                                                                                            for="SumInsured">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            maxlength="200"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.ContentDesc"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'EE')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                        <button pButton type="button"
                                                                                            icon="pi pi-trash"
                                                                                            *ngIf="i!=0"
                                                                                            (click)="deleteRow(item,i,'EE')"
                                                                                            styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Accidental Damge'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Accidental Damge</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <!-- <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Liability',item)"></p-button>&nbsp; -->
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <ng-container
                                                                                *ngFor="let stepss of fields17; let index = index; let last = last">
                                                                                <div>
                                                                                    <div
                                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                                        <div class="mt-4 mr-3">
                                                                                            <!-- <img src="./assets/images/personalliability.png"
                                                                                width="50" height="40"> -->
                                                                                        </div>
                                                                                        <div>
                                                                                            <form [formGroup]="form"
                                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                                <formly-form
                                                                                                    [form]="form"
                                                                                                    [fields]="stepss.fieldGroup"
                                                                                                    [model]="productItem"></formly-form>
                                                                                            </form>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </div>
                                                                        <div class="grid">
                                                                            <div
                                                                                class="col-12 md:col-12 lg:col-12 xl:col-12">
                                                                                <b>* Any accidental damage to insured
                                                                                    properties / items/contents against
                                                                                    one of incidents.</b>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Fidelity'">
                                                                        <div class="grid justify-content-end">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Fidelity</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('Fidelity',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                                            <!-- <ng-container
                                                            *ngFor="let stepss of fields13; let index = index; let last = last"> -->
                                                                            <div>
                                                                                <div
                                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                                    <div class="mt-4 mr-3">
                                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                                    </div>
                                                                                    <div>
                                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                                        <ng-container
                                                                                            *ngIf="item.FidelityList">
                                                                                            <ng-container
                                                                                                *ngFor="let entry of item.FidelityList;let i=index">
                                                                                                <div class="grid ">
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="NatureOfLoss">Occupation
                                                                                                        </label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.OccupationId"
                                                                                                            [options]="fidelityOccupationList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                                        <label
                                                                                                            for="SumInsured">Employees
                                                                                                        </label>
                                                                                                        <input
                                                                                                            class="w-full p-button-outlined"
                                                                                                            placeholder="Enter Count"
                                                                                                            styleClass="w-full"
                                                                                                            [(ngModel)]="entry.Count"
                                                                                                            pInputText
                                                                                                            type="text" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="NatureOfLoss">Sum
                                                                                                            Insured</label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                                            [options]="fidelityContentList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                                        <button pButton
                                                                                                            type="button"
                                                                                                            icon="pi pi-trash"
                                                                                                            *ngIf="i!=0"
                                                                                                            (click)="deleteRow(item,i,'Fidelity')"
                                                                                                            styleClass="p-button-outlined"></button>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Public Liability'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Public Liability</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('Liability',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <!-- <ng-container *ngFor="let stepss of fields3; let index = index; let last = last"> -->
                                                                            <div>
                                                                                <div
                                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                                    <div class="mt-4 ml-3 mr-3">
                                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                        width="40" height="35"> -->
                                                                                    </div>
                                                                                    <div>
                                                                                        <ng-container
                                                                                            *ngIf="item.LiabilityList">
                                                                                            <ng-container
                                                                                                *ngFor="let entry of item.LiabilityList;let i=index">
                                                                                                <div class="grid ">
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="BuildingType">Liability
                                                                                                            Type</label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.CategoryId"
                                                                                                            (onChange)="onChangeLiability(entry)"
                                                                                                            [options]="publicLiabilityList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-6 md:col-6">
                                                                                                        <label
                                                                                                            for="SumInsured">Sum
                                                                                                            Insured(Any
                                                                                                            One Accident
                                                                                                            / Any One
                                                                                                            Period of
                                                                                                            Insurance)</label>
                                                                                                        <input
                                                                                                            class="w-full p-button-outlined"
                                                                                                            (keydown)="onSIValueChange($event)"
                                                                                                            (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                                            placeholder="Enter SumInsured"
                                                                                                            styleClass="w-full"
                                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                                            pInputText
                                                                                                            type="text" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                                        <button pButton
                                                                                                            type="button"
                                                                                                            icon="pi pi-trash"
                                                                                                            *ngIf="i!=0"
                                                                                                            (click)="deleteRow(item,i,'Liability')"
                                                                                                            styleClass="p-button-outlined"></button>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Fire'">
                                                                          <div class="grid mt-3">
                                            <div class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="primaryfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="grid">

                                            <div class="col-12 sm:col-12 md:col-12 pb-0 ">


                                                <form [formGroup]="form">
                                                    <p-table [value]="groupedFields" class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Value</th>
                                                                <th>Coverage</th>
                                                                <th>Value</th>
                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="body" let-row>
                                                            <tr>
                                                                <td>
                                                                    <label *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                        row[0]?.props?.label }}</label>
                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                        row[0]?.fieldGroup[0]?.props?.label }}</label>
                                                                </td>
                                                                <td>
                                                                    <input
                                                                        *ngIf="row[0]?.type === 'input' || row[0]?.type === 'number-input'"
                                                                        pInputText
                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                        class="w-full" (keydown)="onKeyDown($event,row)"
                                                                        (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                        [required]="row[0]?.props?.required"
                                                                        styleClass="col-5 p-0 w-full" />
                                                                    <p-dropdown *ngIf="row[0]?.type === 'select'"
                                                                        appendTo="body" class="w-full"
                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                        [options]="row[0]?.props?.options"
                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                        [required]="row[0]?.props?.required"
                                                                        [filter]="true" styleClass="col-5 p-0 w-full">
                                                                    </p-dropdown>




                                                                    <div
                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                        <small class="error-text">This field is
                                                                            required.</small>
                                                                    </div>
                                                                </td>


                                                                <td>
                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                    <label *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                        row[1]?.props?.label }}</label>

                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                        row[1]?.fieldGroup[0]?.props?.label }}</label>
                                                                </td>

                                                                <td>

                                                                    <input *ngIf="row[1]?.type === 'input'" pInputText
                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                        class="w-full" (keydown)="onKeyDown($event,row)"
                                                                        (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                        [required]="row[1]?.props?.required" />


                                                                    <p-dropdown *ngIf="row[1]?.type === 'select'"
                                                                        appendTo="body" styleClass="w-full"
                                                                        class="w-full"
                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                        [options]="row[1]?.props?.options"
                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                        [required]="row[1]?.props?.required"
                                                                        [filter]="true">
                                                                    </p-dropdown>



                                                                    <div
                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                        <small class="error-text">This field is
                                                                            required.</small>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </form>




                                            </div>
                                        </div>
                                        <div class="grid mt-2 px-3">
                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                <div class="grid">
                                                    <div class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                        <h5 style="color:#5064a6" class="mb-0">Business Interruption
                                                        </h5>
                                                    </div>
                                                    <div class="col">
                                                        <p-selectButton [options]="BIList" class="custom-select"
                                                            (click)="change('isConfirmed')" [(ngModel)]="BIValue"
                                                            id="dmlYN" optionLabel="CodeDesc"
                                                            optionValue="Code"></p-selectButton>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid mt-3" *ngIf="showInterruptions">
                                            <div class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="interruptionfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="grid mt-2 px-3" *ngIf="showExtensionToggle">
                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                <div class="grid">
                                                    <div class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                        <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                    </div>
                                                    <div class="col">
                                                        <p-selectButton [options]="BIList" class="custom-select"
                                                            (click)="change('extensions')" [(ngModel)]="EValue"
                                                            id="dmlYN" optionLabel="CodeDesc"
                                                            optionValue="Code"></p-selectButton>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid mt-2" *ngIf="showExtensions">
                                            <div class="col-12 sm:col-12 md:col-12 pb-0">
                                                <h3 class="mr-3 mb-0 px-2">Extension Details</h3>
                                            </div>
                                        </div>
                                        <div class="grid mt-3" *ngIf="showExtensions">
                                            <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                            <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <formly-form [form]="form" [fields]="extensionfields"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="grid" *ngIf="showExtensions">

                                            <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div>
                                            <div class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                <form [formGroup]="form">
                                                    <p-table [value]="extensionTablefields"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Cover Type</th>
                                                                <th>Option</th>
                                                                <th>Sum Insured</th>
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row>
                                                            <tr>
                                                                <!-- Coverage Column -->
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <!-- Value Column (Dropdown) -->
                                                                <td>
                                                                    <ng-container
                                                                        *ngIf="row?.type && row.key!='PreventionofAccess'">
                                                                        <p-dropdown *ngIf="row?.type === 'ngselect'"
                                                                            appendTo="body" class="w-full"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            [options]="row?.props?.options"
                                                                            [placeholder]="row?.props?.placeholder"
                                                                            [required]="row?.props?.required"
                                                                            [filter]="true"
                                                                            styleClass="col-5 p-0 w-full">
                                                                        </p-dropdown>
                                                                    </ng-container>
                                                                </td>

                                                                <!-- Sum Insured Column (Textbox) -->
                                                                <td>
                                                                    <ng-container *ngIf="row.key!='PreventionofAccess'">
                                                                        <input pInputText
                                                                            [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                            class="w-full"
                                                                            (keydown)="onKeyDown($event,row?.fieldGroup[0])"
                                                                            (keyup)="CommaFormattedDynamic($event,row?.fieldGroup[0]?.key)"
                                                                            [required]="row?.fieldGroup[0]?.props?.required" />
                                                                    </ng-container>
                                                                    <ng-container *ngIf="row.key=='PreventionofAccess'">
                                                                        <input pInputText
                                                                            [formControl]="form.controls[row?.key]"
                                                                            class="w-full"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedDynamic($event,row)"
                                                                            [required]="row?.props?.required" />
                                                                    </ng-container>


                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </form>


                                            </div>
                                        </div>

                                                                    </ng-container>
                                                                     <ng-container
                                                                        *ngIf="currentCommercial =='Goods In Transit'">
                                                                         <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Goods in Transit</b>
                                                    </div>
                                                </div>
                                                <div class="flex md:flex-row flex-col items-center md:space-x-3">

                                                    <div>
                                                        <div
                                                            style="display: flex !important;justify-content: space-between !important;">
                                                            <div class="mt-4 mr-3 ml-3">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">

                                                            </div>
                                                            <div>
                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldGoodsTransit"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                                <div class="grid mt-2 px-3">
                                                                    <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                                        <div class="grid">
                                                                            <div
                                                                                class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                                <h5 style="color:#5064a6" class="mb-0">
                                                                                    Extension</h5>
                                                                            </div>
                                                                            <div class="col">
                                                                                <p-selectButton [options]="ExtensList"
                                                                                    class="custom-select"
                                                                                    (click)="change('extensions')"
                                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                                    optionLabel="CodeDesc"
                                                                                    optionValue="Code"></p-selectButton>

                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                                <div class="grid mt-2" *ngIf="showExtensions">
                                                                    <div class="col-12 sm:col-12 md:col-12 pb-0">
                                                                        <h3 class="mr-3 mb-0 px-2">Extension Details
                                                                        </h3>
                                                                    </div>
                                                                </div>
                                                                <div class="grid mt-3" *ngIf="showExtensions">
                                                                    <!-- <div class="col-2 sm:col-2 md:col-2 pb-0 px-4"></div> -->
                                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                                        <form [formGroup]="form">
                                                                            <formly-form [form]="form"
                                                                                [fields]="GoodsTransitextentionsField"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Group Personal Accident'">
                                                                     <div class="grid ">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Group Personal Accident</b>
                                                    </div>
                                                    <div class="text-right">
                                                        <p-button label="Add New" *ngIf="!showAddForm"
                                                            styleClass="mr-3 p-button-outlined"
                                                            (click)="showAddForm = !showAddForm"></p-button>
                                                    </div>
                                                </div>
                                                <div class="">

                                                    <div>
                                                        <div>

                                                            <div>

                                                                <p-table #dtEmployeeExist [value]="filteredGPAList"
                                                                    [tableStyle]="{'min-width':'50rem'}" [rows]="5">

                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th [pSortableColumn]="column"
                                                                                *ngFor="let column of GPAcolumns">
                                                                                {{column}} <p-sortIcon
                                                                                    [field]="column"></p-sortIcon></th>
                                                                        </tr>
                                                                    </ng-template>
                                                                    <ng-template pTemplate="body" let-GPAList
                                                                        let-rowIndex="rowIndex">
                                                                        <tr>
                                                                            <td>{{ getCodeDesc(GPAList?.occupation,
                                                                                'occupation') }}</td>
                                                                            <td>{{GPAList?.NumberofEmployees}}</td>
                                                                            <td>{{GPAList?.AnnualRemuneration}}</td>
                                                                            <td>{{GPAList?.TemporaryDisablement}}</td>
                                                                            <td>{{ getCodeDesc(GPAList?.Coverage,
                                                                                'phonixWeeks') }}</td>
                                                                            <td>{{GPAList?.MedicalExpenses}}</td>
                                                                            <td>
                                                                                <span class="p-buttonset">
                                                                                    <button pButton pRipple
                                                                                        icon="pi pi-pencil"
                                                                                        class="p-button-outlined"
                                                                                        (click)="editGPA(GPAList,rowIndex)"></button>
                                                                                    <button pButton pRipple
                                                                                        icon="pi pi-trash"
                                                                                        class="p-button-outlined"
                                                                                        (click)="deleteGPA(rowIndex)"></button>
                                                                                </span>
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </div>

                                                            <div *ngIf="showAddForm">
                                                                <form [formGroup]="form" (ngSubmit)="submit()">
                                                                    <formly-form [model]="productItem"
                                                                        [fields]="GroupPersonalForm" [options]="options"
                                                                        [form]="form"></formly-form>
                                                                </form>

                                                            </div>
                                                            <div class="text-center">
                                                                <p-button [label]="isEditing ? 'Update' : 'Submit'"
                                                                    *ngIf="showAddForm"
                                                                    (click)="isEditing ? updateGPA() : AddGPA()"
                                                                    styleClass="mr-3">
                                                                </p-button>
                                                            </div>

                                                        </div>

                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                     <ng-container
                                                                        *ngIf="currentCommercial =='HouseHolders'">
                                                                          <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>House Holders</b>
                                                    </div>
                                                </div>
                                                <div class="">

                                                    <div>
                                                        <div>
                                                            <div class="mt-4 mr-3 ml-3">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">

                                                            </div>
                                                            <div class="text-right">
                                                                <p-button label="Add Contents"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addContent()"></p-button>
                                                            </div>
                                                            <div>
                                                                <form [formGroup]="form" (ngSubmit)="submit()">
                                                                    <formly-form [model]="model"
                                                                        [fields]="fieldHouseHolderContents"
                                                                        [options]="options" [form]="form"></formly-form>
                                                                </form>
                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldHouseHolders"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                     <ng-container
                                                                        *ngIf="currentCommercial =='HouseOwner'">
                                                                       <div class="grid">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>House Owners</b>
                                                    </div>
                                                </div>
                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                    <p-table [value]="HouseownerPhoenixTable"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured </th>
                                                                <th>Description</th>
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <td>
                                                                    <div *ngIf="row.props?.label !='No Claim Bonus'">
                                                                        <ng-container
                                                                            *ngIf="row.type=='commaSeparator'">
                                                                            <p-inputNumber
                                                                                [formControl]="form.controls[row?.key]"
                                                                                class="w-full" styleClass="w-full"
                                                                                [formlyAttributes]="row"
                                                                                inputId="integeronly"
                                                                                placeholder="Sum Insured"
                                                                                (keydown)="onKeyDown($event,row)"
                                                                                (keyup)="CommaFormattedCorp(HouseownerPhoenixTable,'HouseOwner')">
                                                                            </p-inputNumber>
                                                                            <div class="text-danger"
                                                                                *ngIf="form.errors==true">This field is
                                                                                Required</div>
                                                                        </ng-container>
                                                                        <ng-container
                                                                            *ngIf="row.type!='commaSeparator'">
                                                                            <input pInputText type="text"
                                                                                [formControl]="form.controls[row?.key]"
                                                                                placeholder="Enter Sum Insured"
                                                                                class="p-inputtext p-ml-2" />
                                                                        </ng-container>

                                                                    </div>
                                                                    <div *ngIf="row.props?.label =='No Claim Bonus'">
                                                                        <ng-select class="custom"
                                                                            [items]="row.props.options"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            placeholder="Select No Claim Bonus"
                                                                            [appendTo]="body"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            bindValue="Code" bindLabel="CodeDesc">
                                                                        </ng-select>
                                                                    </div>
                                                                </td>

                                                                <td>
                                                                    <div
                                                                        *ngIf="row.props?.label !='Power Surge' && row.props?.label!='Subsidence and Landslip (Full Value Cover)'&& row.props?.label!='No Claim Bonus'">
                                                                        <textarea class="p-inputtext p-ml-2 w-100 p-3"
                                                                            rows="1" placeholder="Description"
                                                                            [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                            cols="50"></textarea>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>

                                                </form>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Glass'">
                                                                      <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Glass</b>
                                                    </div>
                                                </div>
                                                <div class="flex md:flex-row flex-col items-center md:space-x-3">

                                                    <div>
                                                        <div
                                                            style="display: flex !important;justify-content: space-between !important;">
                                                            <div class="mt-4 mr-3 ml-3">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">

                                                            </div>
                                                            <div>
                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form" [fields]="fieldGlass"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                     <ng-container
                                                                        *ngIf="currentCommercial =='Machinery Breakdown'">
                                                                      <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Machinery Breakdown</b>
                                                    </div>
                                                </div>
                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                    <p-table [value]="MachineryBreakDownPhoenixTable"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured </th>
                                                                <!-- <th>Description</th> -->
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <td>
                                                                    <ng-container *ngIf="row.type=='commaSeparator'">
                                                                        <p-inputNumber
                                                                            [formControl]="form.controls[row?.key]"
                                                                            class="w-full" styleClass="w-full"
                                                                            [formlyAttributes]="row"
                                                                            inputId="integeronly"
                                                                            placeholder="Sum Insured"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedCorp(MachineryBreakDownPhoenixTable,'HouseOwner')">
                                                                        </p-inputNumber>
                                                                        <div class="text-danger"
                                                                            *ngIf="form.errors==true">This field is
                                                                            Required</div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="row.type!='commaSeparator'">
                                                                        <ng-select class="custom"
                                                                            [items]="row.props.options"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            placeholder="Select" appendTo="body"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            bindValue="Code" bindLabel="CodeDesc">
                                                                        </ng-select>
                                                                        <div class="text-danger"
                                                                            *ngIf="form.errors==true">This field is
                                                                            Required</div>
                                                                    </ng-container>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>

                                                </form>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Money'">
                                                                       <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Money</b>
                                                    </div>
                                                </div>
                                                <div class="flex md:flex-row flex-col items-center md:space-x-3">

                                                    <div>
                                                        <div
                                                            style="display: flex !important;justify-content: space-between !important;">
                                                            <div class="mt-4 mr-3 ml-3">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">

                                                            </div>
                                                            <div>

                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form" [fields]="fieldMoney"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Office contents'">
                                                                         <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Office Contents</b>
                                                    </div>
                                                </div>
                                                <div class="">

                                                    <div style="width: 100%;">
                                                        <div>
                                                            <div>

                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form" [fields]="fieldOfficeContents"
                                                                        [model]="productItem"></formly-form>
                                                                </form>

                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Public Liability'">
                                                                         <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Public Liability</b>
                                                    </div>
                                                </div>
                                                <div>
                                                    <form [formGroup]="form">
                                                        <p-table [value]="publicgroupedFields" class="p-datatable-gridlines">
                                                            <ng-template pTemplate="header">
                                                                <tr>
                                                                    <th>Cover Type</th>
                                                                    <th>Indemity Limit</th>
                                                                    <th>Cover Type</th>
                                                                    <th>Indemity Limit</th>
                                                                </tr>
                                                            </ng-template>
                                                            <ng-template pTemplate="body" let-row>
                                                                <tr>
                                                                    <td>
                                                                        <!-- Displaying the label for each field -->
                                                                        <label *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                            row[0]?.props?.label }}</label>
                                                                        <label *ngIf="row[0]?.fieldGroup">{{
                                                                            row[0]?.fieldGroup[0]?.props?.label
                                                                            }}</label>
                                                                    </td>

                                                                    <td>
                                                                        <!-- Displaying the input or dropdown field based on the type -->
                                                                        <input *ngIf="row[0]?.type === 'commaSeparator'"
                                                                            pInputText [type]="row[0]?.type"
                                                                            class="w-full"
                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                            [required]="row[0]?.props?.required"
                                                                            styleClass="col-5 p-0 w-full" />

                                                                        <p-dropdown *ngIf="row[0]?.type === 'ngselect'"
                                                                            appendTo="body" class="w-full"
                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                            [options]="row[0]?.props?.options"
                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                            [required]="row[0]?.props?.required"
                                                                            [filter]="true"
                                                                            styleClass="col-5 p-0 w-full">
                                                                        </p-dropdown>

                                                                        <div
                                                                            *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                            <small class="error-text">This field is
                                                                                required.</small>
                                                                        </div>
                                                                    </td>


                                                                    <td>
                                                                        <!-- If row[1] is a normal field, display its label -->
                                                                        <label *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                            row[1]?.props?.label }}</label>

                                                                        <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                        <label *ngIf="row[1]?.fieldGroup">{{
                                                                            row[1]?.fieldGroup[0]?.props?.label
                                                                            }}</label>
                                                                    </td>

                                                                    <td>

                                                                        <input *ngIf="row[1]?.type === 'commaSeparator'"
                                                                            pInputText type="text" class="w-full"
                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                            styleClass="col-5 p-0 w-full"
                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                            [required]="row[1]?.props?.required" />


                                                                        <p-dropdown *ngIf="row[1]?.type === 'ngselect'"
                                                                            appendTo="body"
                                                                            styleClass="col-5 p-0  w-full"
                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                            [options]="row[1]?.props?.options"
                                                                            class="w-full"
                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                            [required]="row[1]?.props?.required"
                                                                            [filter]="true">
                                                                        </p-dropdown>



                                                                        <div
                                                                            *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                            <small class="error-text">This field is
                                                                                required.</small>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </ng-template>
                                                        </p-table>
                                                    </form>
                                                    <div class="col-12 sm:col-12 md:col-12 pb-0 ">
                                                        <!-- <button pButton type="button" (click)="addRowph()">Add New Row</button> -->
                                                        <!-- <form [formGroup]="form">  
                                                                <p-table [value]="IndemityRevenue" class="p-datatable-gridlines">
                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity </th>
                                                                            <th>Revenue</th>
                                                                        </tr>
                                                                    </ng-template>
                                                
                                                                    <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                        <tr>
                                                                            <td>
                                                                                <label>{{ row.props?.label }}</label>
                                                                            </td>
                                                
                                                                            <td>
                                                                                <p-dropdown *ngIf="row?.type === 'ngselect'" appendTo="body"
                                                                                    [formControl]="form.controls[row?.key]" [options]="row?.props?.options"
                                                                                    [placeholder]="row?.props?.placeholder" [required]="row?.props?.required"
                                                                                    [disabled]="row?.props?.disabled" [filter]="true" styleClass="col-5 p-0">
                                                                                </p-dropdown>
                                                                            </td>
                                                
                                                                            <td>
                                                                                <input pInputText [type]="row?.type" [(ngModel)]="form.controls[row[i]?.key]"
                                                                                    placeholder="Enter Sum Insured" class="p-inputtext p-ml-2" />
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                               
                                                            </form> -->
                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <formly-form [form]="form" [fields]="IndemityRevenue"
                                                                [model]="productItem"></formly-form>
                                                        </form>

                                                    </div>
                                                    <div class="col-12 pb-0">
                                                        <div class="grid">
                                                            <div class="col-1 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="ExtensList"
                                                                    class="custom-select" (click)="change('extensions')"
                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-12" *ngIf="showExtensions==true">
                                                        <div>
                                                            <form [formGroup]="form">
                                                                <p-table [value]="ExtensFields"
                                                                    class="p-datatable-gridlines">
                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity </th>
                                                                            <th>Cover Type</th>
                                                                            <th>Indemity </th>
                                                                        </tr>
                                                                    </ng-template>
                                                                    <ng-template pTemplate="body" let-row>
                                                                        <tr>
                                                                            <td>
                                                                                <label
                                                                                    *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                    row[0]?.props?.label }}</label>
                                                                                <label *ngIf="row[0]?.fieldGroup">{{
                                                                                    row[0]?.fieldGroup[0]?.props?.label
                                                                                    }}</label>
                                                                            </td>
                                                                            <td>
                                                                                <input
                                                                                    *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                    pInputText
                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                    type="text" class="w-full"
                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                    [required]="row[0]?.props?.required"
                                                                                    styleClass="col-5 p-0  w-full" />
                                                                                <p-dropdown
                                                                                    *ngIf="row[0]?.type === 'ngselect'"
                                                                                    appendTo="body" class=" w-full"
                                                                                    [formControl]="form.controls[row[0]?.key]"
                                                                                    [options]="row[0]?.props?.options"
                                                                                    [placeholder]="row[0]?.props?.placeholder"
                                                                                    [required]="row[0]?.props?.required"
                                                                                    [filter]="true"
                                                                                    styleClass="col-5 p-0 w-full">
                                                                                </p-dropdown>




                                                                                <div
                                                                                    *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                    <small class="error-text">This field
                                                                                        is required.</small>
                                                                                </div>
                                                                            </td>


                                                                            <td>
                                                                                <!-- If row[1] is a normal field, display its label -->
                                                                                <label
                                                                                    *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                    row[1]?.props?.label }}</label>

                                                                                <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                <label *ngIf="row[1]?.fieldGroup">{{
                                                                                    row[1]?.fieldGroup[0]?.props?.label
                                                                                    }}</label>
                                                                            </td>

                                                                            <td>

                                                                                <input
                                                                                    *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                    pInputText styleClass=" w-full"
                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                    [type]="row[1]?.type"
                                                                                    class=" w-full"
                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                    [required]="row[1]?.props?.required" />


                                                                                <p-dropdown
                                                                                    *ngIf="row[1]?.type === 'ngselect'"
                                                                                    appendTo="body" styleClass=" w-full"
                                                                                    [formControl]="form.controls[row[1]?.key]"
                                                                                    [options]="row[1]?.props?.options"
                                                                                    class=" w-full"
                                                                                    [placeholder]="row[1]?.props?.placeholder"
                                                                                    [required]="row[1]?.props?.required"
                                                                                    [filter]="true">
                                                                                </p-dropdown>



                                                                                <div
                                                                                    *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                    <small class="error-text">This field
                                                                                        is required.</small>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Stated Benefits'">
                                                                        <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Stated Benefits</b>
                                                    </div>
                                                </div>
                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                    <p-table [value]="StateBenefitsPhoenixTable"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured </th>
                                                                <!-- <th>Description</th> -->
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <td>

                                                                    <ng-container *ngIf="row.type=='commaSeparator'">
                                                                        <p-inputNumber
                                                                            [formControl]="form.controls[row?.key]"
                                                                            class="w-full" styleClass="w-full"
                                                                            [formlyAttributes]="row"
                                                                            inputId="integeronly"
                                                                            placeholder="Sum Insured"
                                                                            (keydown)="onKeyDown($event,row)"
                                                                            (keyup)="CommaFormattedCorp(StateBenefitsPhoenixTable,'HouseOwner')">
                                                                        </p-inputNumber>
                                                                        <div class="text-danger"
                                                                            *ngIf="form.errors==true">This field is
                                                                            Required</div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="row.type!='commaSeparator'">
                                                                        <ng-select class="custom"
                                                                            [items]="row.props.options"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            placeholder="Select Temporary Total Disability"
                                                                            appendTo="body"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            bindValue="Code" bindLabel="CodeDesc">
                                                                        </ng-select>
                                                                    </ng-container>

                                                                </td>

                                                                <!-- <td>
                                                                        <div
                                                                            *ngIf="row.props?.label !='Power Surge' && row.props?.label!='Subsidence and Landslip (Full Value Cover)'&& row.props?.label!='No Claim Bonus'">
                                                                            <textarea class="p-inputtext p-ml-2 w-100 p-3"
                                                                                rows="1" placeholder="Description"
                                                                                [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                cols="50"></textarea>
                                                                        </div>
                                                                    </td> -->
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>

                                                </form>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Theft'">

                                                                          <div class="grid justify-content-end">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Theft</b>
                                                    </div>
                                                </div>
                                                <div class="flex md:flex-row flex-col items-center md:space-x-3">

                                                    <div>
                                                        <div
                                                            style="display: flex !important;justify-content: space-between !important;">
                                                            <div class="mt-4 mr-3 ml-3">
                                                                <img src="./assets/images/content.png" width="40"
                                                                    height="35">

                                                            </div>
                                                            <div>

                                                                <form [formGroup]="form"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <formly-form [form]="form" [fields]="fieldTheft"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Umberlla Liability'">
                                                                          <div class="grid justify-content-start">
                                                    <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                        <b>Umbrella Liability</b>
                                                    </div>
                                                </div>
                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                    <p-table [value]="UmbrellaPhoenixTable"
                                                        class="p-datatable-gridlines">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th>Coverage</th>
                                                                <th>Sum Insured </th>
                                                                <!-- <th>Description</th> -->
                                                            </tr>
                                                        </ng-template>

                                                        <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <label>{{ row.props?.label }}</label>
                                                                </td>

                                                                <td>
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <ng-container
                                                                                *ngIf="row.type=='commaSeparator'">
                                                                                <p-inputNumber
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    [formlyAttributes]="row"
                                                                                    inputId="integeronly"
                                                                                    placeholder="Sum Insured"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedCorp(UmbrellaPhoenixTable,'HouseOwner')">
                                                                                </p-inputNumber>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                        </div>
                                                                    </div>
                                                                    <ng-container *ngIf="row.type!='commaSeparator'">
                                                                        <ng-select class="custom"
                                                                            [items]="row.props.options"
                                                                            [formControl]="form.controls[row?.key]"
                                                                            placeholder="Select" appendTo="body"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            bindValue="Code" bindLabel="CodeDesc">
                                                                        </ng-select>
                                                                        <div class="text-danger"
                                                                            *ngIf="form.errors==true">This field is
                                                                            Required</div>
                                                                    </ng-container>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>

                                                </form>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="text-center mt-2">
                                                                    <p-button class="mr-2" label="Previous" size="small"
                                                                        (click)="previous('PackagePlus')"
                                                                        *ngIf="getCurrentPackagePlusIndex() > 0"></p-button>
                                                                    <p-button class="mr-2" label="Skip" size="small"
                                                                        *ngIf=" packageplusMenus.length > 1 && getCurrentPackagePlusIndex() != packageplusMenus.length-1 "
                                                                        (click)="skip('PackagePlus')"></p-button>
                                                                    <p-button class="mr-2" label="Save & Proceed"
                                                                        size="small"
                                                                        (click)="listProceed('CommercialPackagePlus')"></p-button>
                                                                    <p-button label="View Premium" size="small"
                                                                        (click)="onSubmitAltDetails('Submit')"></p-button>

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    <ng-container *ngIf="locationList.length!=0 && SectionSelectYn=='FAO'">
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                                <label class="input-form-label">First Loss Payee Available?</label><span
                                                    class="text-danger">*</span>
                                                <p-selectButton [options]="firstLossOptions"
                                                    (click)="onFirstLossPayeeYNChange()"
                                                    [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc"
                                                    optionValue="Code"></p-selectButton>
                                            </div>
                                        </div>
                                        <div class="grid" *ngIf="firstLossSection">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-5 xl:col-5 md:col-5">
                                                <div class="flex flex-warp justify-content-end">
                                                    <p-button label="Add New" size="small"
                                                        (click)="addFirstLossPayee()"></p-button>
                                                </div>
                                                <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt"
                                                    editMode="row" [rows]="10" [paginator]="false"
                                                    [tableStyle]="{'min-width': '40rem'}">
                                                    <ng-template pTemplate="header">
                                                        <tr>
                                                            <th [pSortableColumn]="column"
                                                                *ngFor="let column of firstLossColumns">
                                                                {{column}}
                                                            </th>
                                                        </tr>
                                                    </ng-template>
                                                    <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                        <tr>
                                                            <td>
                                                                <input class="w-full p-button-outlined"
                                                                    placeholder="Enter Payee Name"
                                                                    [(ngModel)]="payee.FirstLossPayeeDesc"
                                                                    styleClass="w-full" pInputText type="text" />
                                                            </td>
                                                            <td>
                                                                <ng-container *ngIf="ri!=0">
                                                                    <div
                                                                        class="flex align-items-center justify-content-center gap-2">
                                                                        <button pButton type="button" icon="pi pi-trash"
                                                                            (click)="onDeleteFistLoss(ri)"
                                                                            styleClass="p-button-outlined">
                                                                        </button>
                                                                    </div>
                                                                </ng-container>
                                                            </td>
                                                        </tr>
                                                    </ng-template>
                                                </p-table>
                                            </div>
                                        </div>

                                    </ng-container>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='85'">
                                             <div class="flex justify-content-between">
                                        <div>
                                            <h4 class="m-0 p-0">Engineering Package Plus</h4>
                                        </div>
                                        <div>
                                            <h4 class="m-0 p-0">Currency -- {{selectedCurrency}}</h4>
                                        </div>
                                    </div>
                                    <div class="col-12 pl-3 pr-2 pb-0 ">


                                         <div class="grid" >
                                                    <div class="col-3 col-md-7 col-lg-7 offset-md-1 offset-lg-1">
                                                        <div class="input-control-container">
                                                            <label
                                                                class="input-form-label">Industry</label>&nbsp;<ng-container
                                                                *ngIf="categoryDesc">({{categoryDesc}})</ng-container><span
                                                                class="text-danger">*</span>
                                                            <ng-select class="custom" [items]="industryTypeList"
                                                                [(ngModel)]="IndustryId" placeholder="Select Industry"
                                                                appendTo="body" [ngModelOptions]="{standalone: true}"
                                                                bindValue="Code" bindLabel="CodeDesc">
                                                            </ng-select>
                                                        </div>
                                                        <div class="input-form-error" *ngIf="industryError"
                                                            style="position: relative;">
                                                            <div class="error-text text-danger">
                                                                <span class="spancommon span_font_size"> Please Select
                                                                    Industry</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        <div class="text-center" *ngIf="IndustryError1 || IndustryError2 ">
                                            <div class="input-form-error">
                                                <div class="error-text text-danger">
                                                    <span *ngIf="IndustryError1">Please select Industry Type</span><br>
                                                    <span *ngIf="!IndustryError1 && IndustryError2">Please select
                                                        Industry</span>
                                                </div>
                                            </div>
                                        </div>
                                        <p-divider />
                                        <div class="h1 mt-3">

                                            <div class="grid">
                                                <div class="lg:col-12 md:col-12 col-12">
                                                    <div class="grid">
                                                        <div class="col-3">

                                                            <div class="card domesticCardCss shadow-4 px-0 py-0">
                                                                <div class="list-group height-css">
                                                                    <div class="list-group--header-item"><strong
                                                                            class="ml-3">Cover</strong></div>
                                                                    <ng-container
                                                                        *ngFor="let list of engineeringpackageplusMenus;  index as i">
                                                                        <div class="list-group-item"
                                                                            (click)="listProceed('EngineeringPackagePlus',i)"
                                                                            [ngStyle]="{'background': list.menu == currentEngineering ? 'aliceblue' : 'white'}"
                                                                            [ngClass]="{ 'active': list == currentEngineering , 'list-completed' : list.filled}">
                                                                            <div class="grid mx-0">
                                                                                <div class="col-10">
                                                                                    {{ list.menu }}
                                                                                </div>
                                                                                <div class="col-1">
                                                                                    <i *ngIf="list.filled"
                                                                                        class="pi pi-check float-right "></i>
                                                                                </div>
                                                                            </div>


                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-9">
                                                            <div class="card">
                                                                <div>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering =='Electronic Equipment'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Electronic Equipment</b>
                                                                            </div>

                                                                        </div>
                                                                        <div>
                                                                            <div>                                  
                                                                                <div class="grid">
                                                                                    <form [formGroup]="form" style="width: 100%;"
                                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                                        <formly-form [form]="form"
                                                                                            [fields]="fieldElectronic"
                                                                                            [model]="productItem"></formly-form>
                                                                                    </form>

                                                                                </div>
                                                                                <div class="text-center"
                                                                                    *ngIf="BuildingSIError">
                                                                                    <div class="input-form-error">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Please select Details for
                                                                                            Building SumInsured Type
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering =='Machinery Breakdown'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Machinery Breakdown</b>
                                                                            </div>

                                                                        </div>
                                                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="MachineryBreakDownPhoenixTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-row let-i="rowIndex">
                                                                    <tr>
                                                                        <td>
                                                                            <label>{{ row.props?.label }}</label>
                                                                        </td>

                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="row.type=='commaSeparator'">
                                                                                <p-inputNumber
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    class="w-full" styleClass="w-full"
                                                                                    [formlyAttributes]="row"
                                                                                    inputId="integeronly"
                                                                                    placeholder="Sum Insured"
                                                                                    (keydown)="onKeyDown($event,row)"
                                                                                    (keyup)="CommaFormattedCorp(MachineryBreakDownPhoenixTable,'HouseOwner')">
                                                                                </p-inputNumber>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="row.type!='commaSeparator'">
                                                                                <ng-select class="custom"
                                                                                    [items]="row.props.options"
                                                                                    [formControl]="form.controls[row?.key]"
                                                                                    placeholder="Select" appendTo="body"
                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                    bindValue="Code"
                                                                                    bindLabel="CodeDesc">
                                                                                </ng-select>
                                                                                <div class="text-danger"
                                                                                    *ngIf="form.errors==true">This field
                                                                                    is
                                                                                    Required</div>
                                                                            </ng-container>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </form>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering =='Plant All Risk'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="col-12 lg:col-10 xl:col-10">
                                                                                <b>Plant All Risk</b>
                                                                            </div>
                                                                        </div>
                                                                                            <!-- engineerInfo  -->
                                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsEngineer"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input' || row[0]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            view="year" dateFormat="yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                            </div>
                                                                        <div >
                                                                            <div class="p-3">
                                                                                <form [formGroup]="form"
                                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="fieldPlant"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>

                                                                            </div>


                                                                        </div>
                                                                        <div class="text-center"
                                                                            *ngIf="BurglarySIError">
                                                                            <div class="input-form-error">
                                                                                <div class="error-text text-danger">
                                                                                    {{CorpErrorMessage}}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering == 'Third Party Liability'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="col-12 lg:col-10 xl:col-10">
                                                                                <b>Third Party Liability</b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-3">
                                                                            <div
                                                                                class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="fieldTPL"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                      
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering =='Deterioration of stock'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Deterioration of stock</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                            </div>
                                                                        </div>
                                                                        <div class="">
                                                                            <div style="width: 100%;">
                                                                                <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form" [fields]="fieldDD"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                        
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                     <ng-container
                                                                        *ngIf="currentEngineering =='Construction All Risk' || currentEngineering =='Erection All Risk' " >
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                                                <b  *ngIf="currentEngineering =='Construction All Risk'">Construction All Risk</b><br>
                                                                                <b  *ngIf="currentEngineering =='Erection All Risk'">Erection All Risk</b><br>
                                                                            </div>
                                                                              
                                                                        </div>
                                                                             <!-- engineerInfo  -->
                                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsCAR"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                            </div>
                                                                         <div *ngIf="currentEngineering =='Construction All Risk'">
                                                                            <div class="" >
                                               
                                               
                                                    <div >
                                                        <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldsCARPrimary"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <div class="">

                                                                    <div style="width: 100%;">
                                                                        <div>
                                                                            <div>
                                                                                <div class="col-12">
                                                                                    <div>
                                                                                        <form [formGroup]="form">
                                                                                            <p-table
                                                                                                [value]="fieldsCARAdditional"
                                                                                                class="p-datatable-gridlines">
                                                                                                <ng-template
                                                                                                    pTemplate="header">
                                                                                                    <tr>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                                <ng-template
                                                                                                    pTemplate="body"
                                                                                                    let-row>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            <label
                                                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{row[0]?.props?.label}}</label>
                                                                                                            <label
                                                                                                                *ngIf="row[0]?.fieldGroup">{{row[0]?.fieldGroup[0]?.props?.label}}</label>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                                pInputText
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [type]="row[0]?.type"
                                                                                                                (keyup)="CommaFormattedDynamic($event,'CARAdditional')"
                                                                                                                class="w-full"
                                                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                                                [required]="row[0]?.props?.required"
                                                                                                                styleClass="col-5 p-0  w-full" />
                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{row[1]?.props?.label}}</label>

                                                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1]?.fieldGroup">{{row[1]?.fieldGroup[0]?.props?.label}}</label>
                                                                                                        </td>

                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                                                pInputText
                                                                                                                styleClass=" w-full"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [type]="row[1]?.type"
                                                                                                                (keyup)="CommaFormattedDynamic($event,'CARAdditional')"
                                                                                                                class=" w-full"
                                                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                                                [required]="row[1]?.props?.required" />





                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                            </p-table>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="grid mx-3">

                                                            <div class="col-1 mr-4 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="ExtensList"
                                                                    class="custom-select"
                                                                    (click)="change('CARextensions')"
                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>

                                                        </div>
                                                        <div class="grid mx-3" *ngIf="showCARExtensions">

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsCARExtensions"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        [type]="row[0]?.type"
                                                                                        class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        (keyup)="CommaFormattedDynamic($event,'CARExtensions')"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                               
                                                                            </div>
                                                                        </div>
                                                                        <div *ngIf="currentEngineering =='Erection All Risk'">
                                                                                     <div class="grid">

                                                            <div class="col-12 lg:col-10 xl:col-12 mx-5">
                                                                <form [formGroup]="form">
                                                                    <formly-form [form]="form"
                                                                        [fields]="fieldsEARPrimary"
                                                                        [model]="productItem"></formly-form>
                                                                </form>
                                                            </div>

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <div class="">

                                                                    <div style="width: 100%;">
                                                                        <div>
                                                                            <div>
                                                                                <div class="col-12">
                                                                                    <div>
                                                                                        <form [formGroup]="form">
                                                                                            <p-table
                                                                                                [value]="fieldsEARAdditional"
                                                                                                class="p-datatable-gridlines">
                                                                                                <ng-template
                                                                                                    pTemplate="header">
                                                                                                    <tr>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                        <th>Cover Type
                                                                                                        </th>
                                                                                                        <th>Sum Insured
                                                                                                        </th>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                                <ng-template
                                                                                                    pTemplate="body"
                                                                                                    let-row>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            <label
                                                                                                                *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                                row[0]?.props?.label
                                                                                                                }}</label>
                                                                                                            <label
                                                                                                                *ngIf="row[0]?.fieldGroup">{{
                                                                                                                row[0]?.fieldGroup[0]?.props?.label
                                                                                                                }}</label>
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input
                                                                                                                *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                                pInputText
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                type="text"
                                                                                                                class="w-full"
                                                                                                                [placeholder]="row[0]?.props?.placeholder"
                                                                                                                [required]="row[0]?.props?.required"
                                                                                                                styleClass="col-5 p-0  w-full" />
                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>


                                                                                                        <td>
                                                                                                            <!-- If row[1] is a normal field, display its label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                                row[1]?.props?.label
                                                                                                                }}</label>

                                                                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                            <label
                                                                                                                *ngIf="row[1]?.fieldGroup">{{
                                                                                                                row[1]?.fieldGroup[0]?.props?.label
                                                                                                                }}</label>
                                                                                                        </td>

                                                                                                        <td>

                                                                                                            <input
                                                                                                                *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                                                pInputText
                                                                                                                styleClass=" w-full"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [type]="row[1]?.type"
                                                                                                                class=" w-full"
                                                                                                                [placeholder]="row[1]?.props?.placeholder"
                                                                                                                [required]="row[1]?.props?.required" />





                                                                                                            <div
                                                                                                                *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                                <small
                                                                                                                    class="error-text">This
                                                                                                                    field
                                                                                                                    is
                                                                                                                    required.</small>
                                                                                                            </div>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </ng-template>
                                                                                            </p-table>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                                       </div>
                                                        <div class="grid mx-3">

                                                            <div class="col-1 mr-4 flex align-items-center">
                                                                <h5 style="color:#5064a6" class="mb-0">Extensions</h5>
                                                            </div>
                                                            <div class="col">
                                                                <p-selectButton [options]="ExtensList"
                                                                    class="custom-select"
                                                                    (click)="change('EARextensions')"
                                                                    [(ngModel)]="EValue" id="dmlYN"
                                                                    optionLabel="CodeDesc"
                                                                    optionValue="Code"></p-selectButton>

                                                            </div>

                                                        </div>
                                                        <div class="grid mx-3" *ngIf="showEARExtensions">

                                                            <div class="col-12 lg:col-10 xl:col-12">
                                                                <form [formGroup]="form">
                                                                    <p-table [value]="fieldsEARExtensions"
                                                                        class="p-datatable-gridlines">
                                                                        <ng-template pTemplate="header">
                                                                            <tr>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                                <th>Cover Type</th>
                                                                                <th>Sum Insured </th>
                                                                            </tr>
                                                                        </ng-template>
                                                                        <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                                    </p-table>
                                                                </form>
                                                            </div>
                                                        </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentEngineering =='Erection All Risk1'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                                                <b>Erection All Risk</b><br>
                                                                            </div>
                                                                              
                                                                        </div>
                                                                        <div class="">

                                                            <div style="width: 100%;">
                                                                <div>
                                                                    <div>
                                                                        <div class="col-12">
                                                                            <div>
                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="fieldsEAR"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <!-- <tr>
                                                                                        <th>Cover Type</th>
                                                                                        <th>Sum Insured </th>
                                                                                        <th>Cover Type</th>
                                                                                        <th>Sum Insured </th>
                                                                                    </tr> -->
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input
                                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        class=" w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>
                                                                                                    <!-- For Radio Button List (Horizontal Layout) -->
                                                                                                    <div *ngIf="row[0]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[0]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[0]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[0]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[0]?.type === 'primeTextArea' || row[0]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                        </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[0]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            [formlyAttributes]="row[0]"
                                                                                                            [maxDate]="row[0]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[0]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[0]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>



                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>

                                                                                                    <input
                                                                                                        *ngIf="row[1]?.type === 'commaSeparator' || row[1]?.type === 'input'"
                                                                                                        pInputText
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [type]="row[1]?.type"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required" />


                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'ngselect'"
                                                                                                        appendTo="body"
                                                                                                        styleClass=" w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        class=" w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>
                                                                                                    <div *ngIf="row[1]?.type === 'radioList'"
                                                                                                        class="flex gap-4">
                                                                                                        <div *ngFor="let option of row[1]?.props?.options"
                                                                                                            class="flex align-items-center">
                                                                                                            <p-radioButton
                                                                                                                [name]="row[1]?.key"
                                                                                                                [value]="option.value"
                                                                                                                [formControl]="form.controls[row[1]?.key]"
                                                                                                                [inputId]="option.value">
                                                                                                            </p-radioButton>
                                                                                                            <label
                                                                                                                [for]="option.value"
                                                                                                                class="ml-2">
                                                                                                                {{
                                                                                                                option.label
                                                                                                                }}
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <textarea
                                                                                                        *ngIf="row[1]?.type === 'primeTextArea' || row[1]?.type === 'number-input'"
                                                                                                        pInputText
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        type="text"
                                                                                                        class="w-full"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        styleClass="col-5 p-0  w-full">
                                                                                                            </textarea>
                                                                                                    <!-- Date Picker (p-calendar) -->
                                                                                                    <div
                                                                                                        *ngIf="row[1]?.type === 'datepicker'">
                                                                                                        <p-calendar
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            [formlyAttributes]="row[1]"
                                                                                                            [maxDate]="row[1]?.props?.datepickerOptions?.max"
                                                                                                            [minDate]="row[1]?.props?.datepickerOptions?.min"
                                                                                                            appendTo="body"
                                                                                                            [iconDisplay]="'input'"
                                                                                                            [showIcon]="true"
                                                                                                            dateFormat="dd/mm/yy"
                                                                                                            [placeholder]="row[1]?.props?.placeholder">
                                                                                                        </p-calendar>
                                                                                                    </div>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>

                                                                        </div>
                                                              
                                                                    </ng-container>
                                                                  

                                                                </div>
                                                                <div class="text-center mt-2">
                                                                    <p-button class="mr-2" label="Previous" size="small"
                                                                        (click)="previous('PackagePlus')"
                                                                        *ngIf="getCurrentPackagePlusIndex() > 0"></p-button>
                                                                    <p-button class="mr-2" label="Skip" size="small"
                                                                        *ngIf=" packageplusMenus?.length > 1 && getCurrentPackagePlusIndex() != packageplusMenus.length-1 "
                                                                        (click)="skip('PackagePlus')"></p-button>
                                                                    <p-button class="mr-2" label="Save & Proceed"
                                                                        size="small"
                                                                        (click)="listProceed('PackagePlus')"></p-button>
                                                                    <p-button label="View Premium" size="small"
                                                                        (click)="onSubmitAltDetails('Submit')"></p-button>

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    <ng-container *ngIf="locationList.length!=0 && SectionSelectYn=='FAO'">
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                                <label class="input-form-label">First Loss Payee Available?</label><span
                                                    class="text-danger">*</span>
                                                <p-selectButton [options]="firstLossOptions"
                                                    (click)="onFirstLossPayeeYNChange()"
                                                    [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc"
                                                    optionValue="Code"></p-selectButton>
                                            </div>
                                        </div>
                                        <div class="grid" *ngIf="firstLossSection">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-5 xl:col-5 md:col-5">
                                                <div class="flex flex-warp justify-content-end">
                                                    <p-button label="Add New" size="small"
                                                        (click)="addFirstLossPayee()"></p-button>
                                                </div>
                                                <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt"
                                                    editMode="row" [rows]="10" [paginator]="false"
                                                    [tableStyle]="{'min-width': '40rem'}">
                                                    <ng-template pTemplate="header">
                                                        <tr>
                                                            <th [pSortableColumn]="column"
                                                                *ngFor="let column of firstLossColumns">
                                                                {{column}}
                                                            </th>
                                                        </tr>
                                                    </ng-template>
                                                    <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                        <tr>
                                                            <td>
                                                                <input class="w-full p-button-outlined"
                                                                    placeholder="Enter Payee Name"
                                                                    [(ngModel)]="payee.FirstLossPayeeDesc"
                                                                    styleClass="w-full" pInputText type="text" />
                                                            </td>
                                                            <td>
                                                                <ng-container *ngIf="ri!=0">
                                                                    <div
                                                                        class="flex align-items-center justify-content-center gap-2">
                                                                        <button pButton type="button" icon="pi pi-trash"
                                                                            (click)="onDeleteFistLoss(ri)"
                                                                            styleClass="p-button-outlined">
                                                                        </button>
                                                                    </div>
                                                                </ng-container>
                                                            </td>
                                                        </tr>
                                                    </ng-template>
                                                </p-table>
                                            </div>
                                        </div>

                                    </ng-container>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='87'">
                                                <div class="grid">
                                                    <div class="col-10 mx-auto coverCard">
                                                        <div class="px-5">
                                                            <b>Profeesional Indemity</b>
                                                        </div>
                                                         <div class="px-5 mx-1 my-3">
                                                        <form [formGroup]="form"
                                                            (ngSubmit)="onSubmit(productItem)">
                                                            <formly-form [form]="form"
                                                                [fields]="fieldsProfessionalIndeminity"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                        </div>
                                                         <div class="grid px-5">
                                                            <div class="col">
                                                                <p>Do You Like to cover Natural Person</p>
                                                            </div>
                                                           
                                                            <div class="col">
                                                            <p-selectButton
                                                                [options]="BIList"
                                                                class="custom-select"
                                                                [disabled]="endorsementSection"
                                                                (click)="change('ProfessionalIndeminity')"
                                                                [(ngModel)]="EValue"
                                                                id="dmlYN"
                                                                optionLabel="CodeDesc"
                                                                optionValue="Code">
                                                            </p-selectButton>

                                                            </div>
                                                         </div>
                                                         <div class="row px-5" *ngIf="showIndeminityProfessionals">
                                                            <div class="text-right">

                                                                <p-button label="Add Person"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addIndeminityProfessional()"></p-button>
                                                            </div>
                                                            <div>
                                                                <form [formGroup]="IndeminityProfessionalForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="indeminityProfessional">
                                                                        <div *ngFor="let user of IndeminityProfessionalArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Name</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="NickName"
                                                                                        placeholder="Enter Name"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                         />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Profession
                                                                                    </label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Profession" [filter]="true"
                                                                                    filterBy="CodeDesc" [options]="occupationList"
                                                                                    formControlName="DomesticServantType" appendTo="body"
                                                                                    optionLabel="CodeDesc" optionValue="Code" />
                                                                                    <!-- <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="DomesticServantType"
                                                                                        placeholder="SumInsuresd"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" /> -->
                                                                                </div>
                                                                                 <div class="col-10 lg:col-2 xl:col-2">
                                                                                    <label for="Address">No Of Years</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="BuildingBuildYear"
                                                                                        placeholder="Enter Years"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Sum Insured
                                                                                    </label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="IndeminitySumInsured"
                                                                                        placeholder="Enter SumInsured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" />
                                                                                </div>

                                                                                <div class="col-1 lg:col-1 xl:col-1" *ngIf="i !== 0">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeIndeminityProfessional(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>                                                                    
                                                                        </div>
                                                                    </div>                                                                 
                                                                </form>                         
                                                            </div>
                                                        </div>
                                                        <div>
                                                            
                                                        </div>
                                                    </div>
                                                  
                                                </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='90'">
                                            <b>Kidnap & Ransom</b>
                                            <div class="mt-3">
                                                 <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="KidnapAndRansomTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                               <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                            </p-table>

                                                        </form>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='91'">
                                            <b>Cash In Transit</b>
                                            <div class="mt-3">
                                                 <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                            <p-table [value]="CashInTransitTable"
                                                                class="p-datatable-gridlines">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <th>Coverage</th>
                                                                        <th>Sum Insured </th>
                                                                        <!-- <th>Description</th> -->
                                                                    </tr>
                                                                </ng-template>

                                                               <ng-template pTemplate="body" let-row>
                                                                            <tr>
                                                                                <td>
                                                                                    <label
                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                        row[0]?.props?.label }}</label>
                                                                                    <label *ngIf="row[0]?.fieldGroup">{{
                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>
                                                                                <td>
                                                                                    <input
                                                                                        *ngIf="row[0]?.type === 'commaSeparator' || row[0]?.type === 'number-input'"
                                                                                        pInputText
                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                        type="text" class="w-full"
                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                        [required]="row[0]?.props?.required"
                                                                                        styleClass="col-5 p-0  w-full" />
                                                                                    <div
                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>


                                                                                <td>
                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                    <label
                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                        row[1]?.props?.label }}</label>

                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                    <label *ngIf="row[1]?.fieldGroup">{{
                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                        }}</label>
                                                                                </td>

                                                                                <td>

                                                                                    <input
                                                                                        *ngIf="row[1]?.type === 'commaSeparator'"
                                                                                        pInputText styleClass=" w-full"
                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                        [type]="row[1]?.type"
                                                                                        class=" w-full"
                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                        [required]="row[1]?.props?.required" />





                                                                                    <div
                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                        <small class="error-text">This
                                                                                            field is
                                                                                            required.</small>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ng-template>
                                                            </p-table>

                                                        </form>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='88'">
                                                <div class="grid">
                                                    <div class="col-10 mx-auto coverCard">
                                                        <div class="px-5">
                                                            <b>Directors & Officers</b>
                                                        </div>
                                                        
                                                      
                                                         <div class="row px-5">
                                                            <div class="text-right">

                                                                <p-button label="Add Person"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addDirectorOfficer()"></p-button>
                                                            </div>
                                                            <div>
                                                                <form [formGroup]="DirectorOfficerForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="directorOfficer">
                                                                        <div *ngFor="let user of DirectorOfficerArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Name</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="NickName"
                                                                                        placeholder="Enter Name"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                         />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Designation
                                                                                    </label>
                                                                                     <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="DomesticServantType"
                                                                                        placeholder="Enter Name"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="text"
                                                                                         />
                                                                                   
                                                                                    <!-- <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="DomesticServantType"
                                                                                        placeholder="SumInsuresd"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" /> -->
                                                                                </div>
                                                                                 <div class="col-10 lg:col-2 xl:col-2">
                                                                                    <label for="Address">No Of Years</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="BuildingBuildYear"
                                                                                        placeholder="Enter Years"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Sum Insured
                                                                                    </label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="DirectorOfficerSumInsured"
                                                                                        placeholder="Enter SumInsured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" />
                                                                                </div>

                                                                                <div class="col-1 lg:col-1 xl:col-1" *ngIf="i !== 0">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removeDirectorOfficer(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>                                                                    
                                                                        </div>
                                                                    </div>                                                                 
                                                                </form>                         
                                                            </div>
                                                        </div>
                                                        <div>
                                                            
                                                        </div>
                                                    </div>
                                                  
                                                </div>
                                        </ng-container> 
                                        <ng-container *ngIf="productId=='89'">
                                                <div class="grid">
                                                    <div class="col-10 mx-auto coverCard">
                                                        <div class="px-5">
                                                            <b>Pension Fund Trustee</b>
                                                        </div>
                                                         <div class="px-5 mx-1 my-3">
                                                        <form [formGroup]="form"
                                                            (ngSubmit)="onSubmit(productItem)">
                                                            <formly-form [form]="form"
                                                                [fields]="fieldsPensionTrustee"
                                                                [model]="productItem"></formly-form>
                                                        </form>
                                                        </div>
                                                         <div class="grid px-5">
                                                            <div class="col">
                                                                <p>Do You Like to cover Natural Person</p>
                                                            </div>
                                                           
                                                            <div class="col">
                                                            <p-selectButton
                                                                [options]="BIList"
                                                                class="custom-select"
                                                                [disabled]="endorsementSection"
                                                                (click)="change('ProfessionalIndeminity')"
                                                                [(ngModel)]="EValue"
                                                                id="dmlYN"
                                                                optionLabel="CodeDesc"
                                                                optionValue="Code">
                                                            </p-selectButton>

                                                            </div>
                                                         </div>
                                                         <div class="row px-5" *ngIf="showIndeminityProfessionals">
                                                            <div class="text-right">

                                                                <p-button label="Add Person"
                                                                    styleClass="mr-3 p-button-outlined"
                                                                    (click)="addPensionTrustee()"></p-button>
                                                            </div>
                                                            <div>
                                                                <form [formGroup]="PensionTrusteeForm"
                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                    <div formArrayName="PensionTrustee">
                                                                        <div *ngFor="let user of PensionTrusteeArray.controls; let i = index"
                                                                            [formGroupName]="i">
                                                                            <div class="grid ">
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Address">Name</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="NickName"
                                                                                        placeholder="Enter Name"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                         />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Profession
                                                                                    </label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Profession" [filter]="true"
                                                                                    filterBy="CodeDesc" [options]="occupationList"
                                                                                    formControlName="DomesticServantType" appendTo="body"
                                                                                    optionLabel="CodeDesc" optionValue="Code" />
                                                                                    <!-- <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="DomesticServantType"
                                                                                        placeholder="SumInsuresd"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" /> -->
                                                                                </div>
                                                                                 <div class="col-10 lg:col-2 xl:col-2">
                                                                                    <label for="Address">No Of Years</label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="BuildingBuildYear"
                                                                                        placeholder="Enter Years"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'AdditionalClaimsPreparationCosts')" />
                                                                                </div>
                                                                                <div class="col-10 lg:col-3 xl:col-3">
                                                                                    <label for="Location">Sum Insured
                                                                                    </label>
                                                                                    <input
                                                                                        class="w-full p-button-outlined"
                                                                                        formControlName="IndeminitySumInsured"
                                                                                        placeholder="Enter SumInsured"
                                                                                        styleClass="w-full" pInputText
                                                                                        type="commaSeparator"
                                                                                        (keydown)="onKeyDown($event,user)"
                                                                                        (keyup)="CommaFormattedDynamic($event,'LimitOfIndemnity')" />
                                                                                </div>

                                                                                <div class="col-1 lg:col-1 xl:col-1" *ngIf="i !== 0">
                                                                                    <br>
                                                                                    <button pButton type="button"
                                                                                        icon="pi pi-trash"
                                                                                        (click)="removePensionTrustee(i)"
                                                                                        styleClass="p-button-outlined">
                                                                                    </button>
                                                                                </div>
                                                                            </div>                                                                    
                                                                        </div>
                                                                    </div>                                                                 
                                                                </form>                         
                                                            </div>
                                                        </div>
                                                        <div>
                                                            
                                                        </div>
                                                    </div>
                                                  
                                                </div>
                                        </ng-container>
                                            <div class="col-12 pl-3 pr-2 pb-0 mt-2" *ngIf="uwQuestionList.length!=0">
                                                <div class="grid justify-content-start">
                                                    <div class="mb-1 ">
                                                        <h3>{{'MOTORQUOTE.UWQuestion' | translate}}</h3>
                                                    </div>
                                                </div>
                                            </div>
                                            <ng-container *ngFor="let obj of uwQuestionList;">
                                                <div class="grid justify-content-start pl-3 pr-2 pb-0 mt-2">
                                                    <div class="mb-1 ">
                                                        <h5>{{obj.SectionName}}</h5>
                                                    </div>
                                                </div>
                                                <div class="grid">
                                                    <ng-container *ngFor="let ques Of obj.UWQuestionsList">
                                                        <div class="lg:col-4 md:col-4 col-12"
                                                            [hidden]="checkHideQUestion(ques)">
                                                            <label
                                                                for="uwQuesDesc">{{ques.UwQuestionDesc}}</label><ng-container
                                                                *ngIf="ques.MandatoryYn=='Y'"> &nbsp;<span
                                                                    class="text-danger">*</span></ng-container>
                                                            <ng-container *ngIf="ques?.QuestionType=='01'">
                                                                <p-selectButton [options]="ques.Options"
                                                                    [(ngModel)]="ques.Value" id="driverType2"
                                                                    optionLabel="UwQuesOptionDesc"
                                                                    [disabled]="endorsementSection"
                                                                    optionValue="UwQuesOptionDesc"></p-selectButton>
                                                            </ng-container>
                                                            <ng-container
                                                                *ngIf="ques?.QuestionType=='02' && ques?.DataType!='02'">
                                                                <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                                    [disabled]="endorsementSection"
                                                                    [disabled]="(endorsementSection) || checkDisableField()"
                                                                    [(ngModel)]="ques.Value" />
                                                            </ng-container>
                                                            <ng-container
                                                                *ngIf="ques?.QuestionType=='02' && ques?.DataType=='02'">
                                                                <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                                    [disabled]="endorsementSection"
                                                                    [disabled]="(endorsementSection) || checkDisableField()"
                                                                    [(ngModel)]="ques.Value" />
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </ng-container>
                                            <div class="grid mt-3">
                                                <div [ngClass]="productId == '59' ? 'col-12 lg:col-2 xl:col-2 md:col-2' : 'col-12 lg:col-1 xl:col-1 md:col-1'"></div>
                                                <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                                    <label class="input-form-label">First Loss Payee Available?</label><span
                                                        class="text-danger">*</span>
                                                    <p-selectButton [options]="firstLossOptions"
                                                        (click)="onFirstLossPayeeYNChange()"
                                                        [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc"
                                                        optionValue="Code"></p-selectButton>
                                                </div>
                                            </div>
                                            <div class="grid " *ngIf="firstLossSection">
                                                <div class="col-12 lg:col-2 xl:col-2 md:col-2"></div>
                                                <div class="col-12 lg:col-8 xl:col-8 md:col-8 mb-2">
                                                    <div class="flex flex-warp justify-content-end">
                                                        <p-button label="Add New" size="small"
                                                            (click)="addFirstLossPayee()"></p-button>
                                                    </div>
                                                    <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt"
                                                        editMode="row" [rows]="10" [paginator]="false"
                                                        [tableStyle]="{'min-width': '40rem'}">
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th [pSortableColumn]="column"
                                                                    *ngFor="let column of firstLossColumns">
                                                                    {{column}}
                                                                </th>
                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <input class="w-full p-button-outlined"
                                                                        placeholder="Enter Payee Name"
                                                                        [(ngModel)]="payee.FirstLossPayeeDesc"
                                                                        styleClass="w-full" pInputText type="text" />
                                                                </td>
                                                                <td>
                                                                    <ng-container *ngIf="ri!=0">
                                                                        <div
                                                                            class="flex align-items-center justify-content-center gap-2">
                                                                            <button pButton type="button" icon="pi pi-trash"
                                                                                (click)="onDeleteFistLoss(ri)"
                                                                                styleClass="p-button-outlined">
                                                                            </button>
                                                                        </div>
                                                                    </ng-container>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </div>
                                            </div>
                                    </p-tabPanel>
                                </ng-container>
                            </p-tabView>
                        </div>
                    </div>
                </div>
            </ng-container>

            <div class="text-center mt-2">
                <p-button styleClass="p-button-outlined" label="Back" size="small"
                    [routerLink]="['/quotation/plan/quote-details']"
                    routerLinkActive="router-link-active"></p-button>&nbsp;
                <p-button label="Previous" *ngIf="locationList.length>1 && (tabIndex!=0)" (click)="onPreviousTab()"
                    class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                <p-button label="Next" size="small" *ngIf="locationList.length>1 && (tabIndex+1)!=locationList.length"
                    (click)="onSubmitAltDetails('Save')"></p-button>&nbsp;
                <p-button label="Proceed" size="small" (click)="onSubmitAltDetails('Submit')"></p-button>
                <!-- <button pButton pRipple label="Submit" class="p-button-success" (click)="onfinalsave()"></button> -->
            </div>
        </div>
    </div>
    <div *ngIf="productId=='63'">

        <p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: 'w-6' }"
            [draggable]="false">
            <div class="grid ">
                <div class="col-12 lg:col-6 xl:col-6">
                    <label for="Address">Address</label>
                    <input class="w-full p-button-outlined" placeholder="Enter Address" styleClass="w-full" pInputText
                        type="text" />
                </div>
                <div class="col-12 lg:col-6 xl:col-6">
                    <label for="Location">Location</label>
                    <input class="w-full p-button-outlined" placeholder="Location" styleClass="w-full" pInputText
                        type="text" />
                </div>
            </div>
            <div class="flex justify-content-center gap-2">
                <p-button label="Cancel" styleClass="p-button-outlined" (onClick)="visible = false" />
                <p-button label="Save" (onClick)="visible = false" />
            </div>
        </p-dialog>
        <ng-container>
            <div class="card">
                <div class="grid ">
                    <div class="col-12 lg:col-4 md:col-4">
                        <div class="mb-2"><b>Location Details</b></div>
                    </div>
                    <div class="col-12 lg:col-2 md:col-2">
                        <div class="mb-2 ">&nbsp;<p-button label="Add Location" icon="pi pi-plus"
                                (click)="addLocation()" />&nbsp;</div>
                    </div>
                </div>
                <div class="grid ">
                    <div class="col-12 lg:col-6 md:col-6">

                        <p-table [value]="LocationName" dataKey="LocationName" editMode="row" [rows]="10"
                            [paginator]="false" [tableStyle]="{'min-width': '40rem'}">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th [pSortableColumn]="column" *ngFor="let column of LocationHeader">
                                        {{column}}
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-Building let-ri="rowIndex">
                                <tr>
                                    <!-- <td>
                                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                                            <p-dropdown class="w-full"  placeholder="Select Usage"  [options]="BuildingUsageList" 
                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="Building.BuildingUsageId" />
                                                
                                        </ng-container>
                                        <ng-container *ngIf="currentBuildingRowIndex!=ri">{{getBuildingUsageId(Building.BuildingUsageId)}}</ng-container>
                                        <div class="input-form-error" *ngIf="Building.BuildingUsageIdError">
                                            <div class="error-text text-danger">
                                                Select Valid Usage
                                            </div>
                                        </div>
                                    </td> -->
                                    <!-- <td>
                                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                                            <input class="w-full p-button-outlined"   placeholder="Enter Build Year "  pInputText type="text" 
                                                [(ngModel)]="Building.BuildingBuildYear" />
                                        </ng-container>
                                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                                            {{Building.BuildingBuildYear}}
                                        </ng-container>   
                                    </td> -->
                                    <td>
                                        <input class="w-full p-button-outlined" placeholder="Enter Location Name"
                                            [(ngModel)]="Building.LocationName" styleClass="w-full" pInputText
                                            type="text" />
                                    </td>
                                    <td>
                                        <ng-container *ngIf="ri!=0">
                                            <!-- *ngIf="currentBuildingRowIndex==ri" -->
                                            <div class="flex align-items-center justify-content-center gap-2">
                                                <button pButton type="button" icon="pi pi-trash"
                                                    (click)="onDeleteLocation(ri)" styleClass="p-button-outlined">
                                                </button>
                                            </div>
                                        </ng-container>
                                    </td>
                                </tr>

                            </ng-template>

                        </p-table>
                    </div>
                </div>
                <div class="grid ">
                    <div class="col-12 lg:col-6 md:col-6">

                    </div>
                </div>
                <p-tabView *ngIf="LocationName.length!=0 && checkLocationDetail()" [(activeIndex)]="tabIndex"
                    (onChange)='tabIndex = $event.index'>
                    <ng-container *ngFor="let item of LocationName">
                        <p-tabPanel [header]="item.LocationName">
                            <div class="grid ">
                                <div class="col-12 lg:col-1 md:col-1"></div>
                                <div class="col-12 lg:col-6 md:col-6">
                                    <div class="card ">
                                        <div class="grid justify-content-start">
                                            <div class="mb-1 ">
                                                <b>Building Details</b>
                                            </div>

                                        </div>
                                        <div class="grid ">
                                            <div class="col-12 lg:col-6 md:col-6">
                                                <label for="BuildingType">Construction Type</label>
                                                <p-dropdown class="w-full" styleClass="w-full"
                                                    placeholder="Select Construction Type" [filter]="true"
                                                    filterBy="CodeDesc" [options]="constructionTypes"
                                                    [(ngModel)]="item.BuildingType" appendTo="body"
                                                    optionLabel="CodeDesc" optionValue="Code" />
                                            </div>
                                            <div class="col-12 lg:col-6 md:col-6">
                                                <label for="SumInsured">SumInsured</label>
                                                <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                                    styleClass="w-full" (keydown)="onSIValueChange($event)"
                                                    (keyup)="CommaFormatted(item,'Building')"
                                                    [(ngModel)]="item.BuildingSI" pInputText type="text" />
                                            </div>

                                            <!-- <div class="col-12 lg:col-6 md:col-6">
                                                <label for="BuildingType">Construction (Roof)</label>
                                                <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Roof Type"
                                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  />
                                            </div> -->
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="grid">
                                <div class="col-12 lg:col-1 md:col-1"></div>
                                <div class="col-12 lg:col-3 md:col-3">
                                    <div class="card ">
                                        <div class="grid justify-content-start">
                                            <div class="mb-1 ">
                                                <b>Content SumInsured</b>
                                            </div>

                                        </div>
                                        <div class="grid justify-content-center">
                                            <div class="col-12 lg:col-8 md:col-8">
                                                <label for="SumInsured">SumInsured</label>
                                                <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                                    (keydown)="onSIValueChange($event)"
                                                    (keyup)="CommaFormatted(item,'Content')"
                                                    [(ngModel)]="item.ContentSI" styleClass="w-full" pInputText
                                                    type="text" />
                                            </div>
                                            <!-- <div class="col-12 lg:col-6 md:col-6">
                                                <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Building Type"
                                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  />
                                            </div> -->
                                        </div>
                                    </div>

                                </div>
                                <div class="col-12 lg:col-3 md:col-3">
                                    <div class="card ">
                                        <div class="grid justify-content-start">
                                            <div class="mb-1 ">
                                                <b>All Risk</b>
                                            </div>

                                        </div>
                                        <div class="grid justify-content-center">
                                            <div class="col-12 lg:col-8 md:col-8">
                                                <label for="SumInsured">SumInsured</label>
                                                <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                                    (keydown)="onSIValueChange($event)"
                                                    (keyup)="CommaFormatted(item,'AllRisk')"
                                                    [(ngModel)]="item.AllRiskSI" styleClass="w-full" pInputText
                                                    type="text" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 lg:col-3 md:col-3">
                                    <div class="card ">
                                        <div class="grid justify-content-start">
                                            <div class="mb-1 ">
                                                <b>Personal Liability</b>
                                            </div>

                                        </div>
                                        <div class="grid justify-content-center">
                                            <div class="col-12 lg:col-8 md:col-8">
                                                <label for="SumInsured">SumInsured</label>
                                                <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                                    (keydown)="onSIValueChange($event)"
                                                    (keyup)="CommaFormatted(item,'PL')"
                                                    [(ngModel)]="item.PersonalLiabilitySI" styleClass="w-full"
                                                    pInputText type="text" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="grid">
                                <div class="col-12 lg:col-1 md:col-1"></div>
                                <div class="col-12 lg:col-6 md:col-6">
                                    <div class="card ">
                                        <div class="grid justify-content-between">
                                            <div class="mb-1 ">
                                                <b>Domestic Servant</b>
                                            </div>
                                            <div class="mb-2">
                                                <p-button styleClass="p-button-outlined" label="Add New" size="small"
                                                    (click)="onAddRow('servant',item)"></p-button>&nbsp;
                                            </div>
                                        </div>
                                        <ng-container *ngFor="let entry of item.ServantList">
                                            <div class="grid justify-content-between">
                                                <div class="col-12 lg:col-4 md:col-4">
                                                    <label for="Servant">Servant</label>
                                                    <p-dropdown class="w-full" styleClass="w-full" [filter]="true"
                                                        filterBy="CodeDesc" placeholder="Select Servant"
                                                        [options]="servantTypeList" [(ngModel)]="entry.ServantType"
                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                </div>
                                                <div class="col-12 lg:col-3 md:col-3">
                                                    <label for="SumInsured">Employee Count</label>
                                                    <input class="w-full p-button-outlined" placeholder="Enter Count"
                                                        [(ngModel)]="entry.ServantCount" styleClass="w-full" pInputText
                                                        type="text" />
                                                </div>
                                                <div class="col-12 lg:col-4 md:col-4">
                                                    <label for="SumInsured">SumInsured</label>
                                                    <input class="w-full p-button-outlined"
                                                        placeholder="Enter SumInsured"
                                                        (keydown)="onSIValueChange($event)"
                                                        (keyup)="CommaFormatted(entry,'Domestic')"
                                                        [(ngModel)]="entry.ServantSI" styleClass="w-full" pInputText
                                                        type="text" />
                                                </div>
                                            </div>
                                        </ng-container>

                                    </div>
                                </div>
                                <div class="col-12 lg:col-4 md:col-4">
                                    <div class="card ">
                                        <div class="grid justify-content-between">
                                            <div class="mb-1 ">
                                                <b>Personal Accident</b>
                                            </div>
                                            <div class="mb-2">
                                                <p-button styleClass="p-button-outlined" label="Add New" size="small"
                                                    (click)="onAddRow('PA',item)"></p-button>&nbsp;
                                            </div>
                                        </div>
                                        <ng-container *ngFor="let entry of item.PAList">
                                            <div class="grid ">
                                                <div class="col-12 lg:col-6 md:col-6">
                                                    <label for="BuildingType">Relationship</label>
                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                        placeholder="Select Relationship" [filter]="true"
                                                        filterBy="CodeDesc" [(ngModel)]="entry.RelationType"
                                                        [options]="relationList" appendTo="body" optionLabel="CodeDesc"
                                                        optionValue="Code" />
                                                </div>
                                                <div class="col-12 lg:col-6 md:col-6">
                                                    <label for="SumInsured">Death SI</label>
                                                    <input class="w-full p-button-outlined"
                                                        placeholder="Enter SumInsured" styleClass="w-full"
                                                        (keydown)="onSIValueChange($event)"
                                                        (keyup)="CommaFormatted(item,'PA')" [(ngModel)]="entry.DeathSI"
                                                        pInputText type="text" />
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 pl-3 pr-2 pb-0" *ngIf="uwQuestionList.length!=0">
                                <div class="grid justify-content-start">
                                    <div class="mb-1 ">
                                        <h3>{{'MOTORQUOTE.UWQuestion' | translate}}</h3>
                                    </div>
                                </div>
                            </div>
                            <ng-container *ngFor="let obj of uwQuestionList;">
                                <div class="grid justify-content-start pl-3 pr-2 pb-0">
                                    <div class="mt-2">
                                        <b>{{obj.SectionName}}</b>
                                    </div>
                                </div>
                                <div class="grid">
                                    <ng-container *ngFor="let ques Of obj.UWQuestionsList">
                                        <div class="lg:col-4 md:col-4 col-12" [hidden]="checkHideQUestion(ques)">
                                            <label for="uwQuesDesc">{{ques.UwQuestionDesc}}</label><ng-container
                                                *ngIf="ques.MandatoryYn=='Y'"> &nbsp;<span
                                                    class="text-danger">*</span></ng-container>
                                            <ng-container *ngIf="ques?.QuestionType=='01'">
                                                <p-selectButton [options]="ques.Options" [(ngModel)]="ques.Value"
                                                    id="driverType2" optionLabel="UwQuesOptionDesc"
                                                    optionValue="UwQuesOptionDesc"></p-selectButton>
                                            </ng-container>
                                            <ng-container *ngIf="ques?.QuestionType=='02' && ques?.DataType!='02'">
                                                <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                    [disabled]="(endorsementSection) || checkDisableField()"
                                                    [(ngModel)]="ques.Value" />
                                            </ng-container>
                                            <ng-container *ngIf="ques?.QuestionType=='02' && ques?.DataType=='02'">
                                                <input pInputText [id]="ques.UwQuestionId" maxlength="50"
                                                    [disabled]="(endorsementSection) || checkDisableField()"
                                                    [(ngModel)]="ques.Value" />
                                            </ng-container>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                        </p-tabPanel>
                    </ng-container>
                </p-tabView>
            </div>
        </ng-container>
        <div class="text-center mt-2">
            <p-button styleClass="p-button-outlined" label="Back" size="small"
                [routerLink]="['/quotation/plan/quote-details']" routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button styleClass="p-button-outlined" label="Save & Proceed" (click)="onSubmit('Save')" size="small"
                routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button label="Submit" *ngIf="LocationName.length!=0 && checkLocationDetail()"
                (click)="onSubmit('Submit')" size="small"></p-button>
            <!-- <button pButton pRipple label="Submit" class="p-button-success" (click)="onfinalsave()"></button> -->
        </div>
    </div>
    <div *ngIf="productId=='19'  && insuranceId!='100050'">
            <div class="mt-4">
                <div class="grid mb-3">
                    <div class="lg:col-2">
                    </div>
                    <div class="col-12 lg:col-8 xl:col-8"
                        *ngIf="!((coversreuired=='B' || coversreuired=='BC') && Building1) || (coversreuired=='B' || coversreuired=='BC') && Building1">
                        <div class="memberDetailCard">
                            <div class="grid">
                                <div class="mb-2 col-12 lg:col-7 xl:col-7">
                                    <b>Location Details</b>
                                </div>
                                <div class="mb-2 col-12 lg:col-5 xl:col-5">&nbsp;<p-button label="Add Location"
                                        icon="pi pi-plus" (click)="onAddLocationDetails()" />&nbsp;</div>
                            </div>
                            <ng-container>
                                <div class="grid mt-2">
                                    <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                                        <p-table [value]="locationList" dataKey="id" editMode="row" [rows]="5"
                                            [paginator]="false" [tableStyle]="{'min-width': '50rem' }">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th [pSortableColumn]="column"
                                                        *ngFor="let column of buildingColumnHeader">
                                                        {{column}}
                                                    </th>
                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                                                <tr>
                                                    <td>
                                                        <ng-container *ngIf="locationIndex==ri">
                                                            <input class="w-full p-button-outlined"
                                                                placeholder="Enter Location Name" styleClass="w-full"
                                                                pInputText type="text" [(ngModel)]="product.LocationName" />
                                                        </ng-container>
                                                        <ng-container *ngIf="locationIndex!=ri">
                                                            {{product.LocationName}}
                                                        </ng-container>
                                                        <div class="input-form-error" *ngIf="product.LocationNameError">
                                                            <div class="error-text text-danger">
                                                                Enter Valid LocationName
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <ng-container *ngIf="locationIndex==ri">
                                                            <input class="w-full p-button-outlined"
                                                                placeholder="Enter Address" styleClass="w-full" pInputText
                                                                type="text" [(ngModel)]="product.BuildingAddress" />
                                                        </ng-container>
                                                        <ng-container *ngIf="locationIndex!=ri">
                                                            {{product.BuildingAddress}}
                                                        </ng-container>
                                                        <div class="input-form-error" *ngIf="product.BuildingAddressError">
                                                            <div class="error-text text-danger">
                                                                Enter Valid Address
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="flex align-items-center justify-content-center gap-2">
                                                            <button pButton type="button" *ngIf="locationIndex!=ri"
                                                                icon="pi pi-pencil" (click)="locationIndex=ri"
                                                                styleClass="p-button-outlined">
                                                            </button>
                                                            <button pButton type="button" icon="pi pi-trash"
                                                                (click)="deleteLocation(ri)" styleClass="p-button-outlined">
                                                            </button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                    </div>
    
                                </div>
                                <!-- <div class="flex flex-warp justify-content-center mt-2" *ngIf="locationIndex!=null">
                                    <p-button label="Save Locations" (click)="onSaveLocationDetails()" />
                                </div> -->
                            </ng-container>
                        </div>
                    </div>
                </div>
                <ng-container *ngIf="locationList.length!=0 && checkLocationDetailAlt()">
                    <div class="grid mb-3" >
                        <div class="col-12" >
                            <p-tabView [(activeIndex)]="tabIndex" (onChange)="onTabChange($event)">
                                <ng-container *ngFor="let item of locationList;let k=index">
                                    <p-tabPanel [header]="item.LocationName" >
                                        <div class="flex justify-content-between">
                                            <div>
                                                <h4 class="m-0 p-0">Package Plus</h4>
                                            </div>
                                            <div>
                                                <h4 class="m-0 p-0">Currency -- {{selectedCurrency}}</h4>
                                            </div>
                                        </div>
                                        <div class="col-12 pl-3 pr-2 pb-0 " >
                                            
                                           <!-- <div class="grid mt-1">
                                                <div class="lg:col-2 md:col-2 col-2"></div>
                                                <div class="lg:col-10 md:col-10 col-12">
                                                    
                                                </div>
                                            </div> -->
                                            <!-- <div class="grid" *ngIf="(item.CoversRequired=='B' || item.CoversRequired=='BC')">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1" ></div>
                                                <div class="col-12 lg:col-7 xl:xol-7 md:col-7" >
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-start">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Fire & Material Damage</b>
                                                            </div>
                                                        </div>
                                                        <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                            <div style="display: flex !important;justify-content: space-between !important;">
                                                                <p-table [value]="item.BuildingList" dataKey="LocationName" editMode="row" [rows]="5"
                                                                    [paginator]="false" [tableStyle]="{'max-width': '100rem' }">
                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th [pSortableColumn]="column"
                                                                                *ngFor="let column of columnHeaderBuilding">
                                                                                {{column}}
                                                                            </th>
                                                                        </tr>
                                                                    </ng-template>
                                                                    <ng-template pTemplate="body" let-Building
                                                                        let-ri="rowIndex">
                                                                        <tr>
            
                                                                            <td>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex==ri">
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select Wall Type"
                                                                                        [options]="wallMaterialList"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [(ngModel)]="Building.WallType" />
            
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex!=ri">
                                                                                    {{getwallTypeDescription(Building.WallType)}}
                                                                                </ng-container>
                                                                                <div class="input-form-error"
                                                                                    *ngIf="Building.WallTypeError">
                                                                                    <div class="error-text text-danger">
                                                                                        Select WallType
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex==ri">
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select Roof Type"
                                                                                        [options]="roofMaterialList"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [(ngModel)]="Building.RoofType" />
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex!=ri">
                                                                                    {{getRoofTypeDescription(Building.RoofType)}}
                                                                                </ng-container>
                                                                                <div class="input-form-error"
                                                                                    *ngIf="Building.RoofTypeError">
                                                                                    <div class="error-text text-danger">
                                                                                        Select RoofType
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex==ri">
                                                                                    <p-dropdown class="w-full"
                                                                                        styleClass="w-full"
                                                                                        placeholder="Select FirstLossPayee"
                                                                                        [options]="bankList"
                                                                                        (onChange)="onChangeFirstLoss(Building)"
                                                                                        appendTo="body"
                                                                                        optionLabel="CodeDesc"
                                                                                        optionValue="Code"
                                                                                        [(ngModel)]="Building.FirstLossPayee" />
            
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex!=ri">
                                                                                    {{getFirstLossDesc(Building)}}
                                                                                </ng-container>
                                                                                <div class="input-form-error"
                                                                                    *ngIf="Building.FirstLossPayeeError">
                                                                                    <div class="error-text text-danger">
                                                                                        Select FirstLossPayee
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex==ri">
                                                                                    <p-inputNumber type="number"
                                                                                        [(ngModel)]="Building.BuildingSumInsured"
                                                                                        inputId="integeronly" />
            
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="currentBuildingRowIndex!=ri">
                                                                                    {{Building.BuildingSumInsured |
                                                                                    commaseparator}}
                                                                                </ng-container>
                                                                                <div class="input-form-error"
                                                                                    *ngIf="Building.SumInsuredError">
                                                                                    <div class="error-text text-danger">
                                                                                        Enter Valid Amount
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            
                                                                        </tr>
            
                                                                    </ng-template>
            
                                                                </p-table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                            
                                            <div class="flex flex-warp justify-content-center mb-5">
                                                <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                    <label for="BuildingType">Industry Type</label>
                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                    placeholder="Select Type" [filter]="true" filterBy="CodeDesc" (onChange)="onChangeIndustry(PackageIndustryType)"
                                                    [(ngModel)]="PackageIndustryType" [options]="FireIndustryList"
                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                </div>
                                                <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                    <label for="BuildingType">Industry</label>
                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                        placeholder="Select Industry" [filter]="true" filterBy="CodeDesc"
                                                        [(ngModel)]="PackageCategoryId" [options]="industryOcupationList"
                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                </div>
                                                <div class="mt-5">
                                                    <div class="radio-toolbar">
                                                        <input [id]="'claims_Own'+k" type="radio" [name]="'rentOwnHome'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="FC">
                                                        <label [for]="'claims_Own'+k" class="yes_alt"><img style="max-width: 30px;max-height: 10px;">Fire & Contents</label>
                                                        <input [id]="'claims_Rent'+k" type="radio" [name]="'rentOwnHome'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="EC">
                                                        <label [for]="'claims_Rent'+k" class="no"><img style="max-width: 30px;max-height: 10px;">InCorporate Cover</label>
                                                        <input [id]="'claims_Rent1'+k" type="radio" [name]="'rentOwnHome1'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="EL">
                                                        <label [for]="'claims_Rent1'+k" class="no"><img style="max-width: 30px;max-height: 10px;">Employee & Liability</label>
                                                        <input [id]="'claims_Rent2'+k" type="radio" [name]="'rentOwnHome2'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="FAO">
                                                        <label [for]="'claims_Rent2'+k" class="no"><img style="max-width: 30px;max-height: 10px;">Add On</label>
                                                        <input [id]="'claims_Rent4'+k" type="radio" [name]="'rentOwnHome4'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="ClaimExperience">
                                                        <label [for]="'claims_Rent4'+k" class="no"><img style="max-width: 30px;max-height: 10px;">Claim Experience</label>
                                                        <input [id]="'claims_Rent5'+k" type="radio" [name]="'rentOwnHome5'+k" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="UWQues">
                                                        <label [for]="'claims_Rent5'+k" class="no"><img style="max-width: 30px;max-height: 10px;">UW Questions</label>
                                                        <!-- <input id="claims_Rent3" type="radio" name="rentOwnHome3" (change)="setsectionView()" [(ngModel)]="SectionSelectYn" value="SAO">
                                                        <label for="claims_Rent3" class="no"><img style="max-width: 30px;max-height: 10px;">Stock Add On</label> -->
                                                    </div>
                                                </div>
                                               
                                            </div>
                                            <div class="text-center" *ngIf="IndustryError1 || IndustryError2 ">
                                                <div class="input-form-error" >
                                                    <div class="error-text text-danger">
                                                        <span *ngIf="IndustryError1">Please select Industry Type</span><br>
                                                        <span *ngIf="!IndustryError1 && IndustryError2">Please select Industry</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <p-divider />
                                        <div class="h1 mt-3" *ngIf="sectionView1">
                                            <!-- <div class="grid" *ngIf="productId=='19'">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="lg:col-5 md:col-5 col-12">
                                                    <div class="input-control-container">
                                                        <label class="input-form-label">Ownership Status</label><span class="text-danger">*</span>
                                                        <div class="input-form-radio-box mt-2">
                                                            <div class="radio-toolbar">
                                                                <input [id]="'claims_Own'+k" type="radio" [name]="'rentOwnHome'+k" (change)="setBuildingOwnerYN()" [(ngModel)]="item.BuildingOwnerYn" value="Y">
                                                                <label [for]="'claims_Own'+k" class="yes_alt"><img style="max-width: 30px;max-height: 10px;">LANDLORD</label>
                                                                <input [id]="'claims_Rent'+k" type="radio" [name]="'rentOwnHome'+k" (change)="setBuildingOwnerYN()" [(ngModel)]="item.BuildingOwnerYn" value="N">
                                                                <label [for]="'claims_Rent'+k" class="no"><img style="max-width: 30px;max-height: 10px;">TENANT</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="lg:col-6 md:col-6 col-12">
                                                    <div class="input-control-container">
                                                        <label class="input-form-label">Cover Required</label><span class="text-danger">*</span>
                                                        <div class="input-form-radio-box mt-2">
                                                            <div class="radio-toolbar">
                                                                <input [id]="'Content'+k" type="radio" [name]="'Content'+k"  value="C" [(ngModel)]="item.CoversRequired">
                                                                <label [for]="'Content'+k" class="yes_alt"><img style="max-width: 30px;max-height: 10px;">&nbsp;CONTENTS</label>
                                                                <ng-container *ngIf="item.BuildingOwnerYn=='Y'">
                                                                    <input [id]="'Building'+k" type="radio" [name]="'Content'+k" value="B" [(ngModel)]="item.CoversRequired">
                                                                    <label [for]="'Building'+k" class="no"><img style="max-width: 30px;max-height: 10px;" >&nbsp;BUILDING</label>
                                                                    <input [id]="'Building_Contents'+k" type="radio" [name]="'Content'+k" [(ngModel)]="item.CoversRequired" value="BC">
                                                                    <label [for]="'Building_Contents'+k" class="no"><img style="max-width: 30px;max-height: 10px;"  src="./assets/images/houseContents.png">&nbsp;BUILDING & CONTENTS</label>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                               
                                            </div>
                                            <p-divider /> -->
                                            <div class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="lg:col-4 md:col-4 col-12">
                                                    <div class="input-control-container">
                                                        <label class="input-form-label">Ownership Status</label><span class="text-danger">*</span>
                                                        <div class="input-form-radio-box mt-5">
                                                            <div class="radio-toolbar">
                                                                <input [id]="'OwnerY'+k" type="radio"
                                                                    [name]="'OwnerYN'+k"
                                                                    [(ngModel)]="item.BuildingOwnerYn" value="Y">
                                                                <label [for]="'OwnerY'+k" class="yes_alt"><img
                                                                        style="max-width: 30px;max-height: 10px;">LANDLORD</label>
                                                                <input [id]="'OwnerN'+k" type="radio"
                                                                    [name]="'OwnerYN'+k"
                                                                    [(ngModel)]="item.BuildingOwnerYn" value="N">
                                                                <label [for]="'OwnerN'+k" class="no"><img
                                                                        style="max-width: 30px;max-height: 10px;">TENANT</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-10 xl:col-10">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-end">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Fire & Allied Perils</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" *ngIf="item.FireList.length!=6" (click)="onAddRow('Fire',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                        <!-- <ng-container
                                                            *ngFor="let stepss of fields10; let index = index; let last = last"> -->
                                                            <div class="grid">
                                                                <!-- <div
                                                                   class="col-12 md:col-1 lg:col-1 xl:col-1">
                                                                    <div class="mt-4 mr-3">
                                                                        <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40">
                                                                    </div>
                                                                </div> -->
                                                                <ng-container *ngFor="let entry of item.FireList;let i=index">
                                                                <div class="col-12 md:col-11 lg:col-11 xl:col-11">
                                                                    <div class="grid" >
                                                                        <!-- <div class="col-12 md:col-3 lg:col-3 xl:col-3">
                                                                            <label for="BuildingType">Type</label>
                                                                            <p-dropdown class="w-full" styleClass="w-full"
                                                                                placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                [(ngModel)]="entry.BuildingUsageId" [options]="fireContentList"
                                                                                appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                        </div> -->
                                                                       
                                                                         <div class="col-12 md:col-3 lg:col-3 xl:col-3">
                                                                            <label for="BuildingType">Asset Type</label>
                                                                            <p-dropdown class="w-full" styleClass="w-full"
                                                                                placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                [(ngModel)]="entry.BuildingUsageId" [options]="fireContentList"
                                                                                appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                        </div>
                                                                        <div class="col-12 md:col-3 lg:col-3 xl:col-3" >
                                                                            <label for="Descriptionrisk">Description of risk</label>
                                                                            <input class="w-full p-button-outlined" [(ngModel)]="entry.DescriptionOfRisk"
                                                                                placeholder="Enter Description of risk" styleClass="w-full" 
                                                                                pInputText type="text"/>
                                                                        </div>
                                                                        <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                                            <label for="BuildingType">Wall Type</label>
                                                                            <p-dropdown class="w-full" styleClass="w-full"
                                                                                placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                [(ngModel)]="entry.WallType" [options]="wallMaterialList"
                                                                                appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                        </div>
                                                                        <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                                            <label for="BuildingType">Roof Type</label>
                                                                            <p-dropdown class="w-full" styleClass="w-full"
                                                                                placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                [(ngModel)]="entry.RoofType" [options]="roofMaterialList"
                                                                                appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                        </div>
                                                                        <!-- <div class="flex col-12 justify-content-between"> -->
                                                                        <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                                            <label for="SumInsured">Sum Insured</label>
                                                                            <input class="w-full p-button-outlined"
                                                                                placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                pInputText type="text" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'Fire')" />
                                                                        </div>
                                                                    <!-- </2iv> -->
                                                                    </div>
                                                                    <!-- <form [formGroup]="form"
                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                        <formly-form [form]="form"
                                                                            [fields]="stepss.fieldGroup"
                                                                            [model]="productItem"></formly-form>
                                                                    </form> -->
                                                                </div>
                                                                <div class="col-12 md:col-1 lg:col-1 xl:col-1 mt-4">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Fire')"
                                                                        styleClass="p-button-outlined">
                                                                    </button>
                                                                </div>
                                                            </ng-container>
                                                            </div>
                                                        
                                                    </div>
                                                    <div class="text-center" *ngIf="BuildingSIError">
                                                        <div class="input-form-error" >
                                                            <div class="error-text text-danger">
                                                                Please select Details for Building SumInsured Type
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-5 xl:col-5" >
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-start">
                                                        <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                            <b>Business Interruption&nbsp;(Fire & Allied Perils)</b><br>
                                                        </div>
                                                        <!-- <div class="mb-2 col-12 lg:col-4 xl:col-4">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" *ngIf="item.BIFireList.length!=2" (click)="onAddRow('BIFire',item)"></p-button>&nbsp;
                                                        </div> -->
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                    </div>
                                                                    <div>
                                                                        <div class="grid" *ngFor="let entry of item.BIFireList;let i=index">
                                                                            <!-- <div class="col-12 md:col-4 lg:col-4 xl:col-4">
                                                                                <label for="BuildingType">Type</label>
                                                                                <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Type"
                                                                                    [(ngModel)]="entry.ContentId" [options]="BIFireContentList"
                                                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                            </div> -->
                                                                           
                                                                            <div class="col-12 md:col-5 lg:col-5 xl:col-5">
                                                                                <label for="SumInsured">Indemnity Period</label>
                                                                                <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Period" [filter]="true" filterBy="CodeDesc"
                                                                                    [(ngModel)]="entry.IndemityPeriod" [options]="BILossRatioList"
                                                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                
                                                                            </div>
                                                                             <div class="col-12 md:col-5 lg:col-5 xl:col-5">
                                                                                <label for="SumInsured">Sum Insured</label>
                                                                                <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'BusinessFire')"
                                                                                    placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                    pInputText type="text" />
                                                                            </div>
                                                                            <div class="col-12 md:col-2 lg:col-2 xl:col-2 mt-4">
                                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'BIFire')"
                                                                                    styleClass="p-button-outlined">
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                    </div>
                                                    <div class="text-center" *ngIf="BIFireListError || BIFireListError1">
                                                        <div class="input-form-error" >
                                                            <div class="error-text text-danger">
                                                                {{CorpErrorMessage}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 lg:col-5 xl:col-5">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-start">
                                                        <div class="col-12 lg:col-9 xl:col-9">
                                                            <b>BURGLARY/THEFT</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Burglary',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <ng-container *ngFor="let entry of item.BurglaryList;let i=index">
                                                        <div class="grid">
                                                            <div class="col-12 md:col-3 lg:col-3 xl:col-3">
                                                                <label for="SumInsured">Sum Insured</label>
                                                                <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'Burglary')"
                                                                    placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                    pInputText type="text" />
                                                            </div>
                                                            <div class="col-12 md:col-3 lg:col-3 xl:col-3">
                                                                  <label for="SumInsured">First Loss SI(%)</label>
                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                        placeholder="Select First Loss" [filter]="true" filterBy="CodeDesc"
                                                                        [(ngModel)]="entry.FirstLossPercentId" [options]="burglaryFirlossList"
                                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                            </div>
                                                            <div class="col-12 md:col-3 lg:col-3 xl:col-3">
                                                                <label for="Descriptionrisk">Description of Items</label>
                                                                <input class="w-full p-button-outlined" [(ngModel)]="entry.DescriptionOfRisk" placeholder="Enter Description" styleClass="w-full" pInputText type="text"/>
                                                            </div>
                                                            <div class="col-12 md:col-2 lg:col-2 xl:col-2 mt-4">
                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Burglary')"
                                                                    styleClass="p-button-outlined">
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-5 xl:col-5">
                                                    <div class="memberDetailCard" style="padding:10px !important;">
                                                        <div class="grid justify-content-start">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Money</b>
                                                            </div>
                                                        </div>
                                                        <div class="flex md:flex-row flex-col items-center md:space-x-3">
            
                                                            <ng-container
                                                                *ngFor="let steps of fields12; let index = index; let last = last">
                                                                <div>
                                                                    <div
                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                        <div class="mt-4 ml-3 mr-3">
                                                                            <!-- <img src="./assets/images/electronicequip.jpg"
                                                                                width="40" height="35"> -->
                                                                        </div>
                                                                        <div>
                                                                            <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                                                <formly-form [form]="form" [fields]="steps.fieldGroup" [model]="productItem"></formly-form>
                                                                            </form>
                                                                        </div>
                                                                    </div>
            
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            <div class="col-12 lg:col-5 md:col-5" >
                                               
                                                <div class="memberDetailCard" style="padding:10px !important;margin-top: 1.5rem !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Office Contents</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('OfficeContent',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <ng-container *ngFor="let entry of item.OfficeContentList;let i=index">
                                                        <div class="grid">
                                                            <div class="col-12 md:col-5 lg:col-5 xl:col-5">
                                                                <label for="SumInsured">Sum Insured</label>
                                                                <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'OfficeContent')"
                                                                    placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                    pInputText type="text" />
                                                            </div>
                                                            <div class="col-12 md:col-5 lg:col-5 xl:col-5" >
                                                                <label for="Descriptionrisk">Description of Items</label>
                                                                <input class="w-full p-button-outlined" [(ngModel)]="entry.DescriptionOfRisk" placeholder="Enter Description of risk" styleClass="w-full" pInputText type="text"/>
                                                            </div>
                                                            <div class="col-12 md:col-2 lg:col-2 xl:col-2 mt-4">
                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'OfficeContent')"
                                                                    styleClass="p-button-outlined">
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    
                                                    <!-- <ng-container *ngFor="let stepss of fields19; let index = index; let last = last">
                                                        <div>
                                                            <div
                                                                style="display: flex !important;justify-content: space-between !important;">
                                                                <div class="mt-4 mr-3">
                                                                </div>
                                                                <div>
                                                                    <form [formGroup]="form"
                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                        <formly-form [form]="form"
                                                                            [fields]="stepss.fieldGroup"
                                                                            [model]="productItem"></formly-form>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container> -->
                                                </div><br>
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-start">
                                                        <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                            <b>Goods in Transit</b><br>
                                                        </div>
                                                        <!-- <div class="mb-2 col-12 lg:col-4 xl:col-4">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" *ngIf="item.BIFireList.length!=2" (click)="onAddRow('BIFire',item)"></p-button>&nbsp;
                                                        </div> -->
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <ng-container *ngFor="let steps of fields14; let index = index; let last = last">
                                                            <div style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 ml-3 mr-3">
                                                                        <!-- <img src="./assets/images/All-risk.png" width="40"
                                                                            height="35"> -->
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="steps.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </div>

                                            </div>
                                            <!-- <div class="col-12 lg:col-4 xl:col-4">
                                              
                                            </div> -->
                                        </div>
                                        </div>
                                        <div class="h1 mt-3" *ngIf="sectionView2">
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="flex flex-wrap col-12 lg:col-10 xl:col-10 md:col-10" >
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-start">
                                                        <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                            <b>Business All Risk</b><br>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-4 xl:col-4">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('AllRisk',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <!-- <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <ng-container *ngFor="let steps of fields2; let index = index; let last = last">
                                                            <div style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 ml-3 mr-3">
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="steps.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                            </div>
                                                        </ng-container>
                                                    </div> -->
                                                    <ng-container *ngIf="item.TableRowAllRisk">
                                                        <ng-container *ngFor="let entry of item.TableRowAllRisk;let i=index">
                                                            <div class="grid ">
                                                                
                                                                <div class="col-12 lg:col-5 md:col-5">
                                                                    <label for="SumInsured">Description of items </label>
                                                                    <input class="w-full p-button-outlined" maxlength="200"
                                                                        placeholder="Enter Description" styleClass="w-full"  [(ngModel)]="entry.ContentDesc"
                                                                        pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-5 md:col-5">
                                                                    <label for="SumInsured">Sum Insured</label>
                                                                    <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'AllRisk')"
                                                                        placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                        pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-2 md:col-2 mt-4">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'AllRisk')"
                                                                            styleClass="p-button-outlined"></button>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </div>
                                            </div>
                                            <div class="col-12 lg:col-6 xl:col-6">
                                               <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Plate Glass</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="addRowPG(item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                        <!-- <ng-container
                                                            *ngFor="let stepss of fields18; let index = index; let last = last">
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: between  !important;">
                                                                    <div class="mt-4 mr-3">
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container> -->
                                                        <ng-container *ngIf="item.PlateGlassList">
                                                            <ng-container *ngFor="let entry of item.PlateGlassList;let i=index">
                                                                <div class="grid ">
                                                                    <div class="col-12 lg:col-5 md:col-5">
                                                                        <label for="BuildingType">Plate Glass Type</label>
                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                            placeholder="Select Glass Type" [filter]="true" filterBy="CodeDesc"
                                                                            [(ngModel)]="entry.CategoryId" [options]="PlateGlassType"
                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                    </div>
                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                        <label for="SumInsured">Sum Insured</label>
                                                                        <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'PG')"
                                                                            placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                            pInputText type="text" />
                                                                    </div>
                                                                    <div class="col-12 lg:col-2 md:col-2">
                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'PG')"
                                                                                styleClass="p-button-outlined"></button>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                        </div> 

                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <!-- <div class="col-12 lg:col-3 xl:col-3" *ngIf="item.CoversRequired=='C' || item.CoversRequired=='BC'">
                                                    <div class="memberDetailCard">
                                                        <div class="grid justify-content-end">
                                                            <div class="mb-2 col-12 lg:col-10 xl:col-10">
                                                                <b>Content Risk</b>
                                                            </div>
                                                        </div>
                                                        <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                            <ng-container *ngFor="let stes of fields1; let index = index; let last = last">
                                                                <div>
                                                                    <div
                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                        <div class="mt-4 mr-3 ml-3">
                                                                            <img src="./assets/images/content.png" width="40"
                                                                                height="35">
                                                                            
                                                                        </div>
                                                                        <div>
                                                                            <form [formGroup]="form"
                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                <formly-form [form]="form"
                                                                                    [fields]="stes.fieldGroup"
                                                                                    [model]="productItem"></formly-form>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                        <div class="input-form-error" *ngIf="item.ContentSuminsuredError">
                                                            <div class="error-text text-danger text-center">
                                                                Enter Valid Amount
                                                            </div>
                                                        </div>
                                                    </div>
                                            </div> -->
                                            <div class="col-12 lg:col-5 md:col-5">
                                                <div class="memberDetailCard">
                                                    <div class="grid justify-content-between">
                                                        <div class="mb-1 ">
                                                            <b>Machinery Breakdown</b>
                                                        </div>
                                                        <div class="mb-2">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('MB',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <ng-container *ngIf="item.MachineryList">
                                                        <ng-container *ngFor="let entry of item.MachineryList;let i=index">
                                                            <div class="grid ">
                                                                <div class="col-12 lg:col-5 md:col-5">
                                                                    <label for="BuildingType">Machinery Name</label>
                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                        placeholder="Select Machinery" [filter]="true" filterBy="CodeDesc"
                                                                        [(ngModel)]="entry.ContentId" [options]="machineryContentList"
                                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                </div>
                                                                <div class="col-12 lg:col-4 md:col-4" *ngIf="entry.ContentId=='8'">
                                                                    <label for="SumInsured">Description</label>
                                                                    <input class="w-full p-button-outlined" maxlength="200"
                                                                        placeholder="Enter Description" styleClass="w-full"  [(ngModel)]="entry.ContentDesc"
                                                                        pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-3 md:col-3">
                                                                    <label for="SumInsured">Sum Insured</label>
                                                                    <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'MB')"
                                                                        placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                        pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-2 md:col-2">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'MB')"
                                                                            styleClass="p-button-outlined"></button>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                    
                                                </div>
                                            </div>
                                            <div class="col-12 lg:col-5 md:col-5 xl:col-5">
                                                <div class="memberDetailCard">
                                                    <div class="grid justify-content-between">
                                                        <div class="mb-1 ">
                                                            <b>Electronic Equipment</b>
                                                        </div>
                                                        <div class="mb-2">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('EE',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <ng-container *ngIf="item.ElecEquipList">
                                                        <ng-container *ngFor="let entry of item.ElecEquipList;let i=index">
                                                            <div class="grid ">
                                                                <div class="col-12 lg:col-3 md:col-3">
                                                                    <label for="BuildingType">Equipment Name</label>
                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                        placeholder="Select Equipment" [filter]="true" filterBy="CodeDesc"
                                                                        [(ngModel)]="entry.ContentId" [options]="equipmentList"
                                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                </div>
                                                                <div class="col-12 lg:col-3 md:col-3">
                                                                        <label for="SumInsured">Description</label>
                                                                        <input class="w-full p-button-outlined" maxlength="200"
                                                                            placeholder="Enter Description" styleClass="w-full"  [(ngModel)]="entry.ContentDesc"
                                                                            pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-4 md:col-4">
                                                                    <label for="SumInsured">Sum Insured</label>
                                                                    <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'EE')"
                                                                        placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                        pInputText type="text" />
                                                                </div>
                                                                <div class="col-12 lg:col-2 md:col-2 mt-4">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'EE')"
                                                                            styleClass="p-button-outlined"></button>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="flex flex-wrap col-12 lg:col-10 xl:col-10 md:col-10" >
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <div class="memberDetailCard" style="padding:10px !important;">
                                                        <div class="grid">
                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                <b>Accidental Damge</b>
                                                            </div>
                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                <!-- <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Liability',item)"></p-button>&nbsp; -->
                                                            </div>
                                                        </div>
                                                        <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                            <ng-container
                                                                *ngFor="let stepss of fields17; let index = index; let last = last">
                                                                <div>
                                                                    <div
                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                        <div class="mt-4 mr-3">
                                                                            <!-- <img src="./assets/images/personalliability.png"
                                                                                width="50" height="40"> -->
                                                                        </div>
                                                                        <div>
                                                                            <form [formGroup]="form"
                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                <formly-form [form]="form"
                                                                                    [fields]="stepss.fieldGroup"
                                                                                    [model]="productItem"></formly-form>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </ng-container>     
                                                        </div>
                                                        <div class="grid">
                                                            <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                                                                <b>* Any accidental damage to insured properties / items/contents against one of incidents.</b>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            
                                            <div class="col-12 lg:col-3 xl:col-3">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Office Contents</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                        </div>
                                                    </div>
                                                        <ng-container
                                                            *ngFor="let stepss of fields19; let index = index; let last = last">
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40">
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                </div>
                                            </div>
                                        </div> -->
                                        </div>
                                        <div class="h1 mt-3" *ngIf="sectionView3">
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-5 xl:col-5 md:col-5" >
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-end">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Fidelity</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Fidelity',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <!-- <ng-container
                                                            *ngFor="let stepss of fields13; let index = index; let last = last"> -->
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                    </div>
                                                                    <div>
                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                        <ng-container *ngIf="item.FidelityList">
                                                                            <ng-container *ngFor="let entry of item.FidelityList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="NatureOfLoss">Occupation </label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.OccupationId" [options]="fidelityOccupationList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Employees </label>
                                                                                        <input class="w-full p-button-outlined" 
                                                                                            placeholder="Enter Count" styleClass="w-full"  [(ngModel)]="entry.Count"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="NatureOfLoss">Sum Insured</label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select SumInsured" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.SumInsured" [options]="fidelityContentList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                        <!-- <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'EE')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" /> -->
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Fidelity')"
                                                                                                styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 lg:col-5 xl:col-5 md:col-5" >
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid justify-content-end">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Employers Liability</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Employers',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <!-- <ng-container
                                                            *ngFor="let stepss of fields13; let index = index; let last = last"> -->
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                    </div>
                                                                    <div>
                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                        <ng-container *ngIf="item.EmployersList">
                                                                            <ng-container *ngFor="let entry of item.EmployersList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="NatureOfLoss">Occupation </label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.OccupationId" [options]="employeeOccupationList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Employees </label>
                                                                                        <input class="w-full p-button-outlined" 
                                                                                            placeholder="Enter Count" styleClass="w-full"  [(ngModel)]="entry.Count"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="NatureOfLoss">Sum Insured</label>
                                                                                        <!-- <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select SumInsured" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.SumInsured" [options]="fidelityContentList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" /> -->
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'Employers')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Employers')"
                                                                                                styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                            
                                        </div>
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-6 xl:col-6">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Public Liability</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Liability',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                        <!-- <ng-container *ngFor="let stepss of fields3; let index = index; let last = last"> -->
                                                            <div>
                                                                <div style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 ml-3 mr-3">
                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                        width="40" height="35"> -->
                                                                    </div>
                                                                    <div>
                                                                        <ng-container *ngIf="item.LiabilityList">
                                                                            <ng-container *ngFor="let entry of item.LiabilityList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="BuildingType">Liability Type</label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.CategoryId"  (onChange)="onChangeLiability(entry)" [options]="publicLiabilityList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-6 md:col-6">
                                                                                        <label for="SumInsured">Sum Insured(Any One Accident / Any One Period of Insurance)</label>
                                                                                        <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                            placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Liability')"
                                                                                                styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            
                                            <div class="col-12 lg:col-5 xl:col-5">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Workmen Compensation</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                        </div>
                                                    </div>
                                                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
                                                        <div>
                                                            <div style="display: flex !important;justify-content: space-between !important;">
                                                                <div class="mt-4 ml-3 mr-3">
                                                                    <img src="./assets/images/personalliability.png"
                                                                    width="40" height="35">
                                                                </div>
                                                                <div>
                                                                    <ng-container *ngIf="item.WorkmenList">
                                                                        <ng-container *ngFor="let entry of item.WorkmenList;let i=index">
                                                                            <div class="grid ">
                                                                                <div class="col-12 lg:col-4 md:col-4">
                                                                                    <label for="BuildingType">Occupation *</label>
                                                                                    <p-dropdown class="w-full" styleClass="w-full"
                                                                                        placeholder="Select Occupation"
                                                                                        [(ngModel)]="entry.OccupationId" [options]="occupationList"
                                                                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                </div>
                                                                                <div class="col-12 lg:col-4 md:col-4">
                                                                                    <label for="SumInsured">Sum Insured</label>
                                                                                    <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                        placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                        pInputText type="text" />
                                                                                </div>
                                                                                <div class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Liability')"
                                                                                            styleClass="p-button-outlined"></button>
                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 lg:col-5 xl:col-5">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Personal Accident</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                        </div>
                                                    </div>
                                                        <ng-container
                                                            *ngFor="let stepss of fields4; let index = index; let last = last">
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40">
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                </div>
                                            </div>
                                            
                                        </div> -->
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-10 xl:col-10">
                                                <div class="memberDetailCard" style="padding:10px !important;">
                                                    <div class="grid">
                                                        <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                            <b>Group Personal Accident</b>
                                                        </div>
                                                        <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('GPAList',item)"></p-button>&nbsp;
                                                        </div>
                                                    </div>
                                                    <div class="flex">
                                                        <ng-container
                                                            *ngFor="let stepss of fields16; let index = index; let last = last">
                                                            <div>
                                                                <div
                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 mr-3">
                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                    </div>
                                                                    <div>
                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->

                                                                        <ng-container *ngIf="item.GPAList">
                                                                            <ng-container *ngFor="let entry of item.GPAList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="NatureOfLoss">Occupation </label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.OccupationType" [options]="fidelityOccupationList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-2 md:col-2">
                                                                                        <label for="SumInsured">Members Count </label>
                                                                                        <input class="w-full p-button-outlined" 
                                                                                            placeholder="Enter Count" styleClass="w-full"  [(ngModel)]="entry.Count"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="NatureOfLoss">Period</label>
                                                                                        <p-dropdown class="w-full" styleClass="w-full"
                                                                                            placeholder="Select Type" [filter]="true" filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.IndemnityType" [options]="groupPeriodList"
                                                                                            appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Sum Insured</label>
                                                                                        <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                            placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'GPAList')"
                                                                                                styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>     
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        
                                        <div class="h1 mt-3" *ngIf="sectionView4">
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6 md:col-6" >
                                                    <div class="memberDetailCard" style="padding:10px !important;">
                                                        <div class="grid justify-content-start">
                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                <b>Fire add on </b>
                                                            </div>
                                                            <!-- <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Cover',item)"></p-button>&nbsp;
                                                            </div> -->
                                                        </div>
                                                        <div class="grid">
                                                            <div class="mb-2 col-12 lg:col-12 xl:col-12">
                                                                <ng-container *ngIf="item.FireAddOnList">
                                                                        <ng-container *ngFor="let cover of addOnCoverList;let i=index">
                                                                        <div class="grid ">
                                                                            <div class="col-12 lg:col-1 md:col-1"></div>
                                                                            <div class="col-12 lg:col-7 md:col-7">
                                                                                <label for="NatureOfLoss">{{cover.CoverDesc}}</label>
                                                                                <!-- <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Add On Covers" [filter]="true" filterBy="CoverDesc"
                                                                                    [(ngModel)]="entry.CoverId" [options]="addOnCoverList"
                                                                                    appendTo="body" optionLabel="CoverDesc" optionValue="CoverId" /> -->
                                                                            </div>
                                                                        
                                                                            <div class="col-12 lg:col-4 md:col-4">
                                                                                <label for="NatureOfLoss">Sum Insured</label>
                                                                                <input class="w-full p-button-outlined"  (keyup)="CommaFormattedCorp(cover,'Cover')"
                                                                                placeholder="Enter SumInsured" styleClass="w-full" [(ngModel)]="cover.SumInsured"
                                                                                pInputText type="text" />
                                                                            </div>
                                                                            <!-- <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Cover')"
                                                                                        styleClass="p-button-outlined"></button>
                                                                            </div> -->
                                                                        </div>
                                                                        </ng-container>
                                                                </ng-container>
                                                            </div> 
                                                        </div>
                                                       
                                                    </div>
                                                   
                                                </div>
                                                <div class="col-12 lg:col-6 xl:col-6 md:col-6" >
                                                    <div class="memberDetailCard" style="padding:10px !important;">
                                                        <div class="grid justify-content-start">
                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                <b>Stock add on </b>
                                                            </div>
                                                        </div>
                                                        <div class="grid">
                                                            <div class="mb-2 col-12 lg:col-12 xl:col-12">
                                                                <ng-container *ngIf="stockAddOnCoverList">
                                                                    <ng-container *ngFor="let entry of stockAddOnCoverList;let i=index">
                                                                        <div class="grid ">
                                                                            <div class="col-12 lg:col-1 md:col-1"></div>
                                                                            <div class="col-12 lg:col-7 md:col-7">
                                                                                <label for="NatureOfLoss">{{entry.CoverDesc}}</label>
                                                                                <!-- <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Add On Covers" [filter]="true" filterBy="CoverDesc"
                                                                                    [(ngModel)]="entry.CoverId" [options]="stockAddOnCoverList"
                                                                                    appendTo="body" optionLabel="CoverDesc" optionValue="CoverId" /> -->
                                                                            </div>
                                                                            <div class="col-12 lg:col-4 md:col-4">
                                                                                <label for="NatureOfLoss">Sum Insured</label>
                                                                                <input class="w-full p-button-outlined" (keydown)="onSIValueChange($event)" (keyup)="CommaFormattedCorp(entry,'StockCover')"
                                                                                placeholder="Enter SumInsured" styleClass="w-full"  [(ngModel)]="entry.SumInsured"
                                                                                pInputText type="text" />
                                                                            </div>
                                                                            <!-- <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'StockCover')"
                                                                                        styleClass="p-button-outlined"></button>
                                                                            </div> -->
                                                                        </div>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </div> 
                                                        </div>
                                                    </div>
                                                   
                                                </div>
                                            </div>
                                        </div>

                                            <!-- <p-divider /> -->
                                           <!-- <div class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-5 md:col-5">
                                                    <div class="input-control-container">
                                                        <label class="input-form-label">Covering Details&nbsp;<span class="text-danger">*</span></label>
                                                        <textarea pInputTextarea class="w-full" type="text" name="SampleType" placeholder="Enter Covering Details" [(ngModel)]="productItem.CoveringDetails"></textarea>
                                                        <div class="input-form-error" *ngIf="coveringDetailsError">
                                                            <div class="error-text text-danger">
                                                                Please Enter Covering Details
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 lg:col-5 md:col-5">
                                                    <div class="input-control-container">
                                                        <label class="input-form-label">Description Of Risk&nbsp;<span class="text-danger">*</span></label>
                                                        <textarea pInputTextarea class="w-full" type="text" name="SampleType" placeholder="Enter Description of Risk" [(ngModel)]="productItem.DescriptionOfRisk"></textarea>
                                                        <div class="input-form-error" *ngIf="DescriptionRiskError">
                                                            <div class="error-text text-danger">
                                                                Please Enter Description Of Risk
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                        </div>
                                        <ng-container *ngIf="locationList.length!=0 && SectionSelectYn=='FAO'">
                                            <div class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                                    <label class="input-form-label">First Loss Payee Available?</label><span class="text-danger">*</span>
                                                        <p-selectButton [options]="firstLossOptions" (click)="onFirstLossPayeeYNChange()" [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc" optionValue="Code"></p-selectButton>
                                                </div>
                                            </div>
                                            <div class="grid" *ngIf="firstLossSection">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 lg:col-5 xl:col-5 md:col-5">
                                                    <div class="flex flex-warp justify-content-end" >
                                                        <p-button  label="Add New" size="small" (click)="addFirstLossPayee()"></p-button>
                                                    </div>
                                                    <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt" editMode="row" [rows]="10" [paginator]="false" [tableStyle]="{'min-width': '40rem'}" >
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th [pSortableColumn]="column" *ngFor="let column of firstLossColumns">
                                                                    {{column}}
                                                                </th>
                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                            <tr>
                                                                <td>
                                                                    <input class="w-full p-button-outlined" placeholder="Enter Payee Name" [(ngModel)]="payee.FirstLossPayeeDesc" styleClass="w-full"  pInputText type="text" />
                                                                </td>
                                                                <td>
                                                                    <ng-container  *ngIf="ri!=0">
                                                                        <div class="flex align-items-center justify-content-center gap-2" >
                                                                            <button  pButton type="button"  icon="pi pi-trash"  (click)="onDeleteFistLoss(ri)" 
                                                                                styleClass="p-button-outlined" >
                                                                            </button>
                                                                        </div>
                                                                    </ng-container>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                    </p-table>
                                                </div>
                                            </div>
                                           
                                        </ng-container>
                                        <div class="h1 mt-3" *ngIf="sectionView6">
                                            <div class="grid">
                                                <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                <div class="col-12 md:col-10 lg:col-10 xl:col-10">
                                                <div class="flex flex-wrap justify-content-between">
                                                    <div><h2>Claim Experience Details</h2></div>
                                                    <div>
                                                        <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddClaimExperience()"></p-button>&nbsp;
                                                    </div>
                                                </div>
                                                        <p-table #dtEmployeeExist [value]="claimExperienceList" 
                                                            [tableStyle]="{'min-width':'50rem'}" rows="5" [totalRecords]="totalQuoteRecords" dataKey="RequestReferenceNo">
                                                            <ng-template pTemplate="header">
                                                                <tr>
                                                                    <th [pSortableColumn]="column" *ngFor="let column of columns2">{{column}}</th>
                                                                </tr>
                                                            </ng-template>
                                                            <tr> 
                                                                <th *ngFor="let col of cols"> 
                                                                    <input pInputText type="text" (input)= 
                                                                    "tableref.filter($event.target.value, col.field, col.filterMatchMode)" /> 
                                                                </th> 
                                                            </tr>
                                                            <ng-template pTemplate="body" let-entry let-i="rowIndex">
                                                                <tr>
                                                                    <td>
                                                                        <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Year"
                                                                        [(ngModel)]="entry.CLHClaimYear" [options]="yearList" appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                                                    </td>
                                                                    <td>
                                                                        <input pInputText id="natureOfLoss" class="w-full" [(ngModel)]="entry.CLHNatureOfLoss" maxlength="500" type="text"
                                                                                placeholder="Enter Nature Of Loss" />
                                                                    </td>
                                                                    <td>
                                                                        <p-calendar class="w-full customZIndex customInput" styleClass="w-full customZIndex customInput" appendTo="body" 
                                                                        [maxDate]="maxDate" [(ngModel)]="entry.CLHDateOfLoss" dateFormat="dd/mm/yy" placeholder="Select Loss Date" ></p-calendar>
                                                                    </td>
                                                                    <td>
                                                                        <input pInputText id="sharedPercent" class="w-full" [(ngModel)]="entry.CLHClaimedAmount" maxlength="15" type="text"
                                                                                placeholder="Enter Claimed Amount" />
                                                                    </td>
                                                                    <td>
                                                                        <input pInputText id="sharedPercent" class="w-full" [(ngModel)]="entry.CLHRemarks" maxlength="500" type="text"
                                                                                placeholder="Enter Remarks" />
                                                                    </td>
                                                                    <td>
                                                                        <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteClaimExperience(i)"
                                                                        styleClass="p-button-outlined">
                                                                    </button>
                                                                    </td>
                                                                </tr>
                                                            </ng-template>
                                                        </p-table> 
                                                </div>
                                            </div>
                                        </div>
                                        <div class="h1 mt-3" *ngIf="sectionView7">
                                            <div class="col-12 pl-3 pr-2 pb-0 ml-5" *ngIf="uwQuestionList.length!=0">
                                                <div class="grid justify-content-start">
                                                    <div class="mb-1 ">
                                                        <h3>{{'MOTORQUOTE.UWQuestion' | translate}}</h3>
                                                    </div>
                                                </div>
                                            </div>
                                            <ng-container *ngFor="let obj of uwQuestionList;">
                                                <div class="grid">
                                                    <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                                    <div class="col-12 lg:col-10 xl:col-10 md:col-10">
                                                        <div class="grid justify-content-start pl-3 pr-2 pb-0 mt-2">
                                                            <div class="mb-1 ">
                                                                <h5>{{obj.SectionName}}</h5>
                                                            </div>
                                                        </div>
                                                        <div class="grid">
                                                            <ng-container *ngFor="let ques Of obj.UWQuestionsList">
                                                                <div class="lg:col-4 md:col-4 col-12" [hidden]="checkHideQUestion(ques)">
                                                                    <label for="uwQuesDesc">{{ques.UwQuestionDesc}}</label><ng-container *ngIf="ques.MandatoryYn=='Y'"> &nbsp;<span class="text-danger">*</span></ng-container>
                                                                    <ng-container *ngIf="ques?.QuestionType=='01'">
                                                                        <p-selectButton [options]="ques.Options" [(ngModel)]="ques.Value" id="driverType2" optionLabel="UwQuesOptionDesc" optionValue="UwQuesOptionDesc"></p-selectButton>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="ques?.QuestionType=='02' && ques?.DataType!='02'">
                                                                        <input pInputText [id]="ques.UwQuestionId" maxlength="50" [disabled]="(endorsementSection) || checkDisableField()" [(ngModel)]="ques.Value" />
                                                                    </ng-container>
                                                                    <ng-container *ngIf="ques?.QuestionType=='02' && ques?.DataType=='02'">
                                                                        <input pInputText [id]="ques.UwQuestionId" maxlength="50"  [disabled]="(endorsementSection) || checkDisableField()" [(ngModel)]="ques.Value" />
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngIf="uwQuestionList.length==0">
                                                <div class="text-center">
                                                    No UnderWriter Questions Available
                                                </div>
                                            </ng-container>
                                        </div>
                                    </p-tabPanel>
                                </ng-container>
                            </p-tabView>
                        </div>
                    </div>
                </ng-container>
            </div>
            <div class="text-center mt-2">
                <p-button styleClass="p-button-outlined" *ngIf="tabIndex==0 && SectionSelectYn=='FC'" label="Back" size="small"
                   (click)="getBackAlt()"></p-button>&nbsp;
                <p-button styleClass="p-button-outlined" (click)="getBackCorprate('Back1')" *ngIf="locationList.length==1 && SectionSelectYn!='FC'" label="Back" size="small"
                    ></p-button>&nbsp;
                    <p-button styleClass="p-button-outlined" (click)="getBackCorprate('Back2')" *ngIf="tabIndex!=0 && locationList.length>1" label="Back" size="small"
                    ></p-button>&nbsp;
                <p-button *ngIf="locationList.length>1 && tabIndex!=locationList.length" label="Save & Proceed" (click)="onSubmit('Save')" size="small"
                    routerLinkActive="router-link-active"></p-button>&nbsp;
                <p-button label="Next" *ngIf="locationList.length==1 && (SectionSelectYn=='EC' || SectionSelectYn=='FC' || SectionSelectYn=='EL' || SectionSelectYn=='FAO' || SectionSelectYn=='ClaimExperience' || SectionSelectYn=='')"
                    (click)="onSubmit('Submit')" size="small"></p-button>
                <p-button label="Submit" *ngIf="locationList.length==1 && SectionSelectYn=='UWQues' && tabIndex!=locationList.length"
                    (click)="onSubmit('Submit')" size="small"></p-button>
                <!-- <button pButton pRipple label="Submit" class="p-button-success" (click)="onfinalsave()"></button> -->
            </div>
    </div>
    <div *ngIf="productId=='19' && insuranceId=='100050'">
        <div class="mt-4">
            <div class="grid mb-3">
                <div class="lg:col-2">
                </div>
                <div class="col-12 lg:col-8 xl:col-8"
                    *ngIf="!((coversreuired=='B' || coversreuired=='BC') && Building1) || (coversreuired=='B' || coversreuired=='BC') && Building1">
                    <div class="memberDetailCard">
                        <div class="grid">
                            <div class="mb-2 col-12 lg:col-7 xl:col-7">
                                <b>Location Details</b>
                            </div>
                            <div class="mb-2 col-12 lg:col-5 xl:col-5">&nbsp;<p-button label="Add Location"
                                    icon="pi pi-plus" (click)="onAddLocationDetails()" />&nbsp;</div>
                        </div>
                        <ng-container>
                            <div class="grid mt-2">
                                <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                                    <p-table [value]="locationList" dataKey="id" editMode="row" [rows]="5"
                                        [paginator]="false" [tableStyle]="{'min-width': '50rem' }">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th [pSortableColumn]="column"
                                                    *ngFor="let column of buildingColumnHeader">
                                                    {{column}}
                                                </th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-product let-ri="rowIndex">
                                            <tr>
                                                <td>
                                                    <ng-container *ngIf="locationIndex==ri">
                                                        <input class="w-full p-button-outlined"
                                                            placeholder="Enter Location Name" styleClass="w-full"
                                                            pInputText type="text" [(ngModel)]="product.LocationName" />
                                                    </ng-container>
                                                    <ng-container *ngIf="locationIndex!=ri">
                                                        {{product.LocationName}}
                                                    </ng-container>
                                                    <div class="input-form-error" *ngIf="product.LocationNameError">
                                                        <div class="error-text text-danger">
                                                            Enter Valid LocationName
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <ng-container *ngIf="locationIndex==ri">
                                                        <input class="w-full p-button-outlined"
                                                            placeholder="Enter Address" styleClass="w-full" pInputText
                                                            type="text" [(ngModel)]="product.BuildingAddress" />
                                                    </ng-container>
                                                    <ng-container *ngIf="locationIndex!=ri">
                                                        {{product.BuildingAddress}}
                                                    </ng-container>
                                                    <div class="input-form-error" *ngIf="product.BuildingAddressError">
                                                        <div class="error-text text-danger">
                                                            Enter Valid Address
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="flex align-items-center justify-content-center gap-2">
                                                        <button pButton type="button" *ngIf="locationIndex!=ri"
                                                            icon="pi pi-pencil" (click)="locationIndex=ri"
                                                            styleClass="p-button-outlined">
                                                        </button>
                                                        <button pButton type="button" icon="pi pi-trash"
                                                            (click)="deleteLocation(ri)" styleClass="p-button-outlined">
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                </div>

                            </div>
                            <!-- <div class="flex flex-warp justify-content-center mt-2" *ngIf="locationIndex!=null">
                                    <p-button label="Save Locations" (click)="onSaveLocationDetails()" />
                                </div> -->
                        </ng-container>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="locationList.length!=0 && checkLocationDetailAlt()">
                <div class="grid mb-3">
                    <div class="col-12">
                        <p-tabView [(activeIndex)]="tabIndex" (onChange)="onTabChange($event)">
                            <ng-container *ngFor="let item of locationList;let k=index">
                                <p-tabPanel [header]="item.LocationName">
                                    <div class="flex justify-content-between">
                                        <div>
                                            <h4 class="m-0 p-0">Commercial Package Plus</h4>
                                        </div>
                                        <div>
                                            <h4 class="m-0 p-0">Currency -- {{selectedCurrency}}</h4>
                                        </div>
                                    </div>
                                    <div class="col-12 pl-3 pr-2 pb-0 ">


                                        <div class="flex flex-warp mb-5">
                                            <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                <label for="BuildingType">Industry Type</label>
                                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Type"
                                                    [filter]="true" filterBy="CodeDesc"
                                                    (onChange)="onChangeIndustry(PackageIndustryType)"
                                                    [(ngModel)]="PackageIndustryType" [options]="FireIndustryList"
                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                            </div>
                                            <div class="col-12 md:col-2 lg:col-2 xl:col-2">
                                                <label for="BuildingType">Industry</label>
                                                <p-dropdown class="w-full" styleClass="w-full"
                                                    placeholder="Select Industry" [filter]="true" filterBy="CodeDesc"
                                                    [(ngModel)]="PackageCategoryId" [options]="industryOcupationList"
                                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" />
                                            </div>

                                        </div>
                                        <div class="text-center" *ngIf="IndustryError1 || IndustryError2 ">
                                            <div class="input-form-error">
                                                <div class="error-text text-danger">
                                                    <span *ngIf="IndustryError1">Please select Industry Type</span><br>
                                                    <span *ngIf="!IndustryError1 && IndustryError2">Please select
                                                        Industry</span>
                                                </div>
                                            </div>
                                        </div>
                                        <p-divider />
                                        <div class="h1 mt-3">

                                            <div class="grid">
                                                <div class="lg:col-12 md:col-12 col-12">
                                                    <div class="grid">
                                                        <div class="col-3">

                                                            <div class="card domesticCardCss shadow-4 px-0 py-0">
                                                                <div class="list-group height-css">
                                                                    <div class="list-group--header-item"><strong
                                                                            class="ml-3">Cover</strong></div>
                                                                    <ng-container
                                                                        *ngFor="let list of commercialpackageplusMenus;  index as i">
                                                                        <div class="list-group-item"
                                                                            (click)="listProceed('CommercialPackagePlus',i)"
                                                                            [ngStyle]="{'background': list.menu == currentPackagePlus ? 'aliceblue' : 'white'}"
                                                                            [ngClass]="{ 'active': list == currentPackagePlus , 'list-completed' : list.filled}">
                                                                            <div class="grid mx-0">
                                                                                <div class="col-10">
                                                                                    {{ list.menu }}
                                                                                </div>
                                                                                <div class="col-1">
                                                                                    <i *ngIf="list.filled"
                                                                                        class="pi pi-check float-right "></i>
                                                                                </div>
                                                                            </div>


                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-9">
                                                            <div class="card">
                                                                <div>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Accidental Damage'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Accidental Damage</b>
                                                                            </div>

                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <div
                                                                                style="display: flex !important;justify-content: space-between !important;">
                                                                                <!-- <ng-container
                                                            *ngFor="let stepss of fields10; let index = index; let last = last"> -->
                                                                                <div class="grid">
                                                                                    <form [formGroup]="form"
                                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                                        <formly-form [form]="form"
                                                                                            [fields]="fieldAccidentalDamage"
                                                                                            [model]="productItem"></formly-form>
                                                                                    </form>

                                                                                </div>
                                                                                <div class="text-center"
                                                                                    *ngIf="BuildingSIError">
                                                                                    <div class="input-form-error">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Please select Details for
                                                                                            Building SumInsured Type
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Accounts Recievable'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Accounts Recievable</b>
                                                                            </div>

                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <div
                                                                                style="display: flex !important;justify-content: space-between !important;">
                                                                                <!-- <ng-container
                                                            *ngFor="let stepss of fields10; let index = index; let last = last"> -->
                                                                                <div class="grid">
                                                                                    <form [formGroup]="form"
                                                                                        (ngSubmit)="onSubmit(productItem)">
                                                                                        <formly-form [form]="form"
                                                                                            [fields]="fieldAccountsRecievable"
                                                                                            [model]="productItem"></formly-form>
                                                                                    </form>

                                                                                </div>
                                                                                <div class="text-center"
                                                                                    *ngIf="BuildingSIError">
                                                                                    <div class="input-form-error">
                                                                                        <div
                                                                                            class="error-text text-danger">
                                                                                            Please select Details for
                                                                                            Building SumInsured Type
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial =='Business All Risk'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="col-12 lg:col-10 xl:col-10">
                                                                                <b>Business All Risk</b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="">
                                                                            <div>
                                                                                <form [formGroup]="form"
                                                                                    (ngSubmit)="onSubmit(productItem)">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="fieldEE"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>

                                                                            </div>


                                                                        </div>
                                                                        <div class="text-center"
                                                                            *ngIf="BurglarySIError">
                                                                            <div class="input-form-error">
                                                                                <div class="error-text text-danger">
                                                                                    {{CorpErrorMessage}}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentCommercial == 'BuildingCombined'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="col-12 lg:col-10 xl:col-10">
                                                                                <b>Building Combined</b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-3">
                                                                            <div
                                                                                class="col-12 col-sm-12 col-md-12 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="primaryfields"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid">

                                                                            <div
                                                                                class="col-12 sm:col-12 md:col-12 pb-0 ">


                                                                                <form [formGroup]="form">
                                                                                    <p-table [value]="groupedFields"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <tr>
                                                                                                <th>Coverage</th>
                                                                                                <th>Sum Insured</th>
                                                                                                <th>Coverage</th>
                                                                                                <th>Sum Insured</th>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <label
                                                                                                        *ngIf="row[0] && !row[0]?.fieldGroup">{{
                                                                                                        row[0]?.props?.label
                                                                                                        }}</label>
                                                                                                    <label
                                                                                                        *ngIf="row[0]?.fieldGroup">{{
                                                                                                        row[0]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <fieldset
                                                                                                        [disabled]="checkDisable(row[0]?.key)"
                                                                                                        class="field_set">
                                                                                                        <input
                                                                                                            *ngIf="row[0]?.type === 'input' || row[0]?.type === 'number-input'"
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row[0]?.key]"
                                                                                                            class="w-full"
                                                                                                            (keydown)="onKeyDown($event,row)"
                                                                                                            (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                                            [placeholder]="row[0]?.props?.placeholder"
                                                                                                            [required]="row[0]?.props?.required"
                                                                                                            styleClass="col-5 p-0 w-full" />
                                                                                                    </fieldset>
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[0]?.type === 'select'"
                                                                                                        appendTo="body"
                                                                                                        [readonly]="checkDisable(row[0]?.key)"
                                                                                                        class="w-full"
                                                                                                        [formControl]="form.controls[row[0]?.key]"
                                                                                                        [options]="row[0]?.props?.options"
                                                                                                        [placeholder]="row[0]?.props?.placeholder"
                                                                                                        [required]="row[0]?.props?.required"
                                                                                                        [filter]="true"
                                                                                                        styleClass="col-5 p-0 w-full">
                                                                                                    </p-dropdown>

                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[0]?.key]?.hasError('required') && form.controls[row[0]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>


                                                                                                <td>
                                                                                                    <!-- If row[1] is a normal field, display its label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1] && !row[1]?.fieldGroup">{{
                                                                                                        row[1]?.props?.label
                                                                                                        }}</label>

                                                                                                    <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                                                                    <label
                                                                                                        *ngIf="row[1]?.fieldGroup">{{
                                                                                                        row[1]?.fieldGroup[0]?.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <td>
                                                                                                    <fieldset
                                                                                                        [disabled]="checkDisable(row[1]?.key)"
                                                                                                        class="field_set">
                                                                                                        <input
                                                                                                            *ngIf="row[1]?.type === 'input'"
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row[1]?.key]"
                                                                                                            class="w-full"
                                                                                                            (keydown)="onKeyDown($event,row)"
                                                                                                            (keyup)="CommaFormattedDynamic($event,row[0].key)"
                                                                                                            [placeholder]="row[1]?.props?.placeholder"
                                                                                                            [required]="row[1]?.props?.required"
                                                                                                            [disabled]="checkDisable(row[1]?.key)" />
                                                                                                    </fieldset>
                                                                                                    <p-dropdown
                                                                                                        *ngIf="row[1]?.type === 'select'"
                                                                                                        [readonly]="checkDisable(row[1]?.key)"
                                                                                                        appendTo="body"
                                                                                                        styleClass="w-full"
                                                                                                        class="w-full"
                                                                                                        [formControl]="form.controls[row[1]?.key]"
                                                                                                        [options]="row[1]?.props?.options"
                                                                                                        [placeholder]="row[1]?.props?.placeholder"
                                                                                                        [required]="row[1]?.props?.required"
                                                                                                        [filter]="true">
                                                                                                    </p-dropdown>


                                                                                                    <div
                                                                                                        *ngIf="form.controls[row[1]?.key]?.hasError('required') && form.controls[row[1]?.key]?.touched">
                                                                                                        <small
                                                                                                            class="error-text">This
                                                                                                            field is
                                                                                                            required.</small>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>




                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-2 px-3">
                                                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                                                <div class="grid">
                                                                                    <div
                                                                                        class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                                        <h5 style="color:#5064a6"
                                                                                            class="mb-0">Business
                                                                                            Interruption
                                                                                        </h5>
                                                                                    </div>
                                                                                    <div class="col">
                                                                                        <p-selectButton
                                                                                            [options]="BIList"
                                                                                            class="custom-select"
                                                                                            [disabled]="endorsementSection"
                                                                                            (click)="change('isConfirmed')"
                                                                                            [(ngModel)]="BIValue"
                                                                                            id="dmlYN"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code"></p-selectButton>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-3"
                                                                            *ngIf="showInterruptions">
                                                                            <div
                                                                                class="col-12 sm:col-12 md:col-12 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="interruptionfields"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-2 px-3"
                                                                            *ngIf="showExtensionToggle">
                                                                            <div class="col-12 sm:col-6 md:col-6 pb-0">
                                                                                <div class="grid">
                                                                                    <div
                                                                                        class="col-7 sm:col-6 md:col-7 flex align-items-center">
                                                                                        <h5 style="color:#5064a6"
                                                                                            class="mb-0">Extensions</h5>
                                                                                    </div>
                                                                                    <div class="col">
                                                                                        <p-selectButton
                                                                                            [options]="BIList"
                                                                                            class="custom-select"
                                                                                            [disabled]="endorsementSection"
                                                                                            (click)="change('extensions')"
                                                                                            [(ngModel)]="EValue"
                                                                                            id="dmlYN"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code"></p-selectButton>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-2" *ngIf="showExtensions">
                                                                            <div
                                                                                class="col-12 sm:col-12 md:col-12 pb-0">
                                                                                <h3 class="mr-3 mb-0 px-2">Extension
                                                                                    Details</h3>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid mt-3" *ngIf="showExtensions">
                                                                            <div
                                                                                class="col-2 sm:col-2 md:col-2 pb-0 px-4">
                                                                            </div>
                                                                            <div
                                                                                class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <formly-form [form]="form"
                                                                                        [fields]="extensionfields"
                                                                                        [model]="productItem"></formly-form>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid" *ngIf="showExtensions">

                                                                            <div
                                                                                class="col-2 sm:col-2 md:col-2 pb-0 px-4">
                                                                            </div>
                                                                            <div
                                                                                class="col-8 sm:col-8 md:col-8 pb-0 px-4">
                                                                                <form [formGroup]="form">
                                                                                    <p-table
                                                                                        [value]="extensionTablefields"
                                                                                        class="p-datatable-gridlines">
                                                                                        <ng-template pTemplate="header">
                                                                                            <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Option</th>
                                                                                                <th>Sum Insured</th>
                                                                                            </tr>
                                                                                        </ng-template>

                                                                                        <ng-template pTemplate="body"
                                                                                            let-row>
                                                                                            <tr>
                                                                                                <!-- Coverage Column -->
                                                                                                <td>
                                                                                                    <label>{{
                                                                                                        row.props?.label
                                                                                                        }}</label>
                                                                                                </td>

                                                                                                <!-- Value Column (Dropdown) -->
                                                                                                <td>
                                                                                                    <ng-container
                                                                                                        *ngIf="row?.type && row.key!='PreventionofAccess'">
                                                                                                        <p-dropdown
                                                                                                            *ngIf="row?.type === 'ngselect'"
                                                                                                            [readonly]="checkDisable(row?.key)"
                                                                                                            appendTo="body"
                                                                                                            class="w-full"
                                                                                                            [formControl]="form.controls[row?.key]"
                                                                                                            [options]="row?.props?.options"
                                                                                                            [placeholder]="row?.props?.placeholder"
                                                                                                            [required]="row?.props?.required"
                                                                                                            [filter]="true"
                                                                                                            styleClass="col-5 p-0 w-full">
                                                                                                        </p-dropdown>
                                                                                                    </ng-container>
                                                                                                </td>

                                                                                                <!-- Sum Insured Column (Textbox) -->
                                                                                                <td>
                                                                                                    <ng-container
                                                                                                        *ngIf="row.key!='PreventionofAccess'">
                                                                                                        <input
                                                                                                            pInputText
                                                                                                            [readonly]="checkDisable(row?.fieldGroup[0]?.key)"
                                                                                                            [formControl]="form.controls[row?.fieldGroup[0]?.key]"
                                                                                                            class="w-full"
                                                                                                            (keydown)="onKeyDown($event,row?.fieldGroup[0])"
                                                                                                            (keyup)="CommaFormattedDynamic($event,row?.fieldGroup[0]?.key)"
                                                                                                            [required]="row?.fieldGroup[0]?.props?.required" />
                                                                                                    </ng-container>
                                                                                                    <ng-container
                                                                                                        *ngIf="row.key=='PreventionofAccess'">
                                                                                                        <input
                                                                                                            pInputText
                                                                                                            [formControl]="form.controls[row?.key]"
                                                                                                            class="w-full"
                                                                                                            [readonly]="checkDisable(row?.key)"
                                                                                                            (keydown)="onKeyDown($event,row)"
                                                                                                            (keyup)="CommaFormattedDynamic($event,row)"
                                                                                                            [required]="row?.props?.required" />
                                                                                                    </ng-container>


                                                                                                </td>
                                                                                            </tr>
                                                                                        </ng-template>
                                                                                    </p-table>
                                                                                </form>


                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Office Contents'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Office Contents</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                            </div>
                                                                        </div>
                                                                        <ng-container
                                                                            *ngFor="let stepss of fields19; let index = index; let last = last">
                                                                            <div>
                                                                                <div>
                                                                                    <div>
                                                                                        <form [formGroup]="form"
                                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                                            <formly-form [form]="form"
                                                                                                [fields]="stepss.fieldGroup"
                                                                                                [model]="productItem"></formly-form>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Goods in Transit'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                                                <b>Goods in Transit</b><br>
                                                                            </div>
                                                                            <!-- <div class="mb-2 col-12 lg:col-4 xl:col-4">
                                                            <p-button styleClass="p-button-outlined" label="Add New" size="small" *ngIf="item.BIFireList.length!=2" (click)="onAddRow('BIFire',item)"></p-button>&nbsp;
                                                        </div> -->
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                                            <ng-container
                                                                                *ngFor="let steps of fields14; let index = index; let last = last">
                                                                                <div
                                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                                    <div class="mt-4 ml-3 mr-3">
                                                                                        <!-- <img src="./assets/images/All-risk.png" width="40"
                                                                            height="35"> -->
                                                                                    </div>
                                                                                    <div>
                                                                                        <form [formGroup]="form"
                                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                                            <formly-form [form]="form"
                                                                                                [fields]="steps.fieldGroup"
                                                                                                [model]="productItem"></formly-form>
                                                                                        </form>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Business All Risk'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-8 xl:col-8">
                                                                                <b>Business All Risk</b><br>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-4 xl:col-4">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('AllRisk',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <!-- <div class="flex md:flex-row flex-col items-center md:space-x-3">
    
                                                        <ng-container *ngFor="let steps of fields2; let index = index; let last = last">
                                                            <div style="display: flex !important;justify-content: space-between !important;">
                                                                    <div class="mt-4 ml-3 mr-3">
                                                                    </div>
                                                                    <div>
                                                                        <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="steps.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form>
                                                                    </div>
                                                            </div>
                                                        </ng-container>
                                                    </div> -->
                                                                        <ng-container *ngIf="item.TableRowAllRisk">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.TableRowAllRisk;let i=index">
                                                                                <div class="grid ">

                                                                                    <div
                                                                                        class="col-12 lg:col-5 md:col-5">
                                                                                        <label
                                                                                            for="SumInsured">Description
                                                                                            of items </label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            maxlength="200"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.ContentDesc"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-5 md:col-5">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'AllRisk')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                        <button pButton type="button"
                                                                                            icon="pi pi-trash"
                                                                                            *ngIf="i!=0"
                                                                                            (click)="deleteRow(item,i,'AllRisk')"
                                                                                            styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Plate Glass'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Plate Glass</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="addRowPG(item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <ng-container *ngIf="item.PlateGlassList">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.PlateGlassList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div
                                                                                        class="col-12 lg:col-5 md:col-5">
                                                                                        <label for="BuildingType">Plate
                                                                                            Glass Type</label>
                                                                                        <p-dropdown class="w-full"
                                                                                            styleClass="w-full"
                                                                                            placeholder="Select Glass Type"
                                                                                            [filter]="true"
                                                                                            filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.CategoryId"
                                                                                            [options]="PlateGlassType"
                                                                                            appendTo="body"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'PG')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-2 md:col-2">
                                                                                        <button pButton type="button"
                                                                                            icon="pi pi-trash"
                                                                                            *ngIf="i!=0"
                                                                                            (click)="deleteRow(item,i,'PG')"
                                                                                            styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>



                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Machinery Breakdown'">
                                                                        <div class="grid justify-content-between">
                                                                            <div class="mb-1 ">
                                                                                <b>Machinery Breakdown</b>
                                                                            </div>
                                                                            <div class="mb-2">
                                                                                <!-- <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('MB',item)"></p-button>&nbsp; -->
                                                                            </div>
                                                                        </div>
                                                                        <ng-container *ngIf="item.MachineryList">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.MachineryList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div
                                                                                        class="col-12 lg:col-5 md:col-5">
                                                                                        <label
                                                                                            for="BuildingType">Machinery
                                                                                            Name</label>
                                                                                        <p-dropdown class="w-full"
                                                                                            styleClass="w-full"
                                                                                            placeholder="Select Machinery"
                                                                                            [filter]="true"
                                                                                            filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.ContentId"
                                                                                            [options]="machineryContentList"
                                                                                            appendTo="body"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code" />
                                                                                    </div>
                                                                                    <div class="col-12 lg:col-4 md:col-4"
                                                                                        *ngIf="entry.ContentId=='8'">
                                                                                        <label
                                                                                            for="SumInsured">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            maxlength="200"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.ContentDesc"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'MB')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <!-- <div class="col-12 lg:col-2 md:col-2">
                                                                    <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'MB')"
                                                                            styleClass="p-button-outlined"></button>
                                                                </div> -->
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Electronic Equipment'">
                                                                        <div class="grid justify-content-between">
                                                                            <div class="mb-1 ">
                                                                                <b>Electronic Equipment</b>
                                                                            </div>
                                                                            <div class="mb-2">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('EE',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <ng-container *ngIf="item.ElecEquipList">
                                                                            <ng-container
                                                                                *ngFor="let entry of item.ElecEquipList;let i=index">
                                                                                <div class="grid ">
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label
                                                                                            for="BuildingType">Equipment
                                                                                            Name</label>
                                                                                        <p-dropdown class="w-full"
                                                                                            styleClass="w-full"
                                                                                            placeholder="Select Equipment"
                                                                                            [filter]="true"
                                                                                            filterBy="CodeDesc"
                                                                                            [(ngModel)]="entry.ContentId"
                                                                                            [options]="equipmentList"
                                                                                            appendTo="body"
                                                                                            optionLabel="CodeDesc"
                                                                                            optionValue="Code" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                        <label
                                                                                            for="SumInsured">Description</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            maxlength="200"
                                                                                            placeholder="Enter Description"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.ContentDesc"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                        <label for="SumInsured">Sum
                                                                                            Insured</label>
                                                                                        <input
                                                                                            class="w-full p-button-outlined"
                                                                                            (keydown)="onSIValueChange($event)"
                                                                                            (keyup)="CommaFormattedCorp(entry,'EE')"
                                                                                            placeholder="Enter SumInsured"
                                                                                            styleClass="w-full"
                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                            pInputText type="text" />
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                        <button pButton type="button"
                                                                                            icon="pi pi-trash"
                                                                                            *ngIf="i!=0"
                                                                                            (click)="deleteRow(item,i,'EE')"
                                                                                            styleClass="p-button-outlined"></button>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Accidental Damge'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Accidental Damge</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <!-- <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Liability',item)"></p-button>&nbsp; -->
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <ng-container
                                                                                *ngFor="let stepss of fields17; let index = index; let last = last">
                                                                                <div>
                                                                                    <div
                                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                                        <div class="mt-4 mr-3">
                                                                                            <!-- <img src="./assets/images/personalliability.png"
                                                                                width="50" height="40"> -->
                                                                                        </div>
                                                                                        <div>
                                                                                            <form [formGroup]="form"
                                                                                                (ngSubmit)="onSubmit(productItem)">
                                                                                                <formly-form
                                                                                                    [form]="form"
                                                                                                    [fields]="stepss.fieldGroup"
                                                                                                    [model]="productItem"></formly-form>
                                                                                            </form>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </div>
                                                                        <div class="grid">
                                                                            <div
                                                                                class="col-12 md:col-12 lg:col-12 xl:col-12">
                                                                                <b>* Any accidental damage to insured
                                                                                    properties / items/contents against
                                                                                    one of incidents.</b>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Fidelity'">
                                                                        <div class="grid justify-content-end">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Fidelity</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('Fidelity',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">

                                                                            <!-- <ng-container
                                                            *ngFor="let stepss of fields13; let index = index; let last = last"> -->
                                                                            <div>
                                                                                <div
                                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                                    <div class="mt-4 mr-3">
                                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                                    </div>
                                                                                    <div>
                                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                                        <ng-container
                                                                                            *ngIf="item.FidelityList">
                                                                                            <ng-container
                                                                                                *ngFor="let entry of item.FidelityList;let i=index">
                                                                                                <div class="grid ">
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="NatureOfLoss">Occupation
                                                                                                        </label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.OccupationId"
                                                                                                            [options]="fidelityOccupationList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-3 md:col-3">
                                                                                                        <label
                                                                                                            for="SumInsured">Employees
                                                                                                        </label>
                                                                                                        <input
                                                                                                            class="w-full p-button-outlined"
                                                                                                            placeholder="Enter Count"
                                                                                                            styleClass="w-full"
                                                                                                            [(ngModel)]="entry.Count"
                                                                                                            pInputText
                                                                                                            type="text" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="NatureOfLoss">Sum
                                                                                                            Insured</label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                                            [options]="fidelityContentList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                                        <button pButton
                                                                                                            type="button"
                                                                                                            icon="pi pi-trash"
                                                                                                            *ngIf="i!=0"
                                                                                                            (click)="deleteRow(item,i,'Fidelity')"
                                                                                                            styleClass="p-button-outlined"></button>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Public Liability'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Public Liability</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('Liability',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="flex md:flex-row flex-col items-center md:space-x-3">
                                                                            <!-- <ng-container *ngFor="let stepss of fields3; let index = index; let last = last"> -->
                                                                            <div>
                                                                                <div
                                                                                    style="display: flex !important;justify-content: space-between !important;">
                                                                                    <div class="mt-4 ml-3 mr-3">
                                                                                        <!-- <img src="./assets/images/personalliability.png"
                                                                        width="40" height="35"> -->
                                                                                    </div>
                                                                                    <div>
                                                                                        <ng-container
                                                                                            *ngIf="item.LiabilityList">
                                                                                            <ng-container
                                                                                                *ngFor="let entry of item.LiabilityList;let i=index">
                                                                                                <div class="grid ">
                                                                                                    <div
                                                                                                        class="col-12 lg:col-4 md:col-4">
                                                                                                        <label
                                                                                                            for="BuildingType">Liability
                                                                                                            Type</label>
                                                                                                        <p-dropdown
                                                                                                            class="w-full"
                                                                                                            styleClass="w-full"
                                                                                                            placeholder="Select Type"
                                                                                                            [filter]="true"
                                                                                                            filterBy="CodeDesc"
                                                                                                            [(ngModel)]="entry.CategoryId"
                                                                                                            (onChange)="onChangeLiability(entry)"
                                                                                                            [options]="publicLiabilityList"
                                                                                                            appendTo="body"
                                                                                                            optionLabel="CodeDesc"
                                                                                                            optionValue="Code" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-6 md:col-6">
                                                                                                        <label
                                                                                                            for="SumInsured">Sum
                                                                                                            Insured(Any
                                                                                                            One Accident
                                                                                                            / Any One
                                                                                                            Period of
                                                                                                            Insurance)</label>
                                                                                                        <input
                                                                                                            class="w-full p-button-outlined"
                                                                                                            (keydown)="onSIValueChange($event)"
                                                                                                            (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                                            placeholder="Enter SumInsured"
                                                                                                            styleClass="w-full"
                                                                                                            [(ngModel)]="entry.SumInsured"
                                                                                                            pInputText
                                                                                                            type="text" />
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="col-12 lg:col-2 md:col-2 mt-4">
                                                                                                        <button pButton
                                                                                                            type="button"
                                                                                                            icon="pi pi-trash"
                                                                                                            *ngIf="i!=0"
                                                                                                            (click)="deleteRow(item,i,'Liability')"
                                                                                                            styleClass="p-button-outlined"></button>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                        <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Group Personal Accident'">
                                                                        <div class="grid">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Group Personal Accident</b>
                                                                            </div>
                                                                            <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                                <p-button styleClass="p-button-outlined"
                                                                                    label="Add New" size="small"
                                                                                    (click)="onAddRow('GPAList',item)"></p-button>&nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div class="flex">
                                                                            <ng-container
                                                                                *ngFor="let stepss of fields16; let index = index; let last = last">
                                                                                <div>
                                                                                    <div
                                                                                        style="display: flex !important;justify-content: space-between !important;">
                                                                                        <div class="mt-4 mr-3">
                                                                                            <!-- <img src="./assets/images/personalliability.png"
                                                                            width="50" height="40"> -->
                                                                                        </div>
                                                                                        <div>
                                                                                            <!-- <form [formGroup]="form"
                                                                            (ngSubmit)="onSubmit(productItem)">
                                                                            <formly-form [form]="form"
                                                                                [fields]="stepss.fieldGroup"
                                                                                [model]="productItem"></formly-form>
                                                                        </form> -->

                                                                                            <ng-container
                                                                                                *ngIf="item.GPAList">
                                                                                                <ng-container
                                                                                                    *ngFor="let entry of item.GPAList;let i=index">
                                                                                                    <div class="grid ">
                                                                                                        <div
                                                                                                            class="col-12 lg:col-3 md:col-3">
                                                                                                            <label
                                                                                                                for="NatureOfLoss">Occupation
                                                                                                            </label>
                                                                                                            <p-dropdown
                                                                                                                class="w-full"
                                                                                                                styleClass="w-full"
                                                                                                                placeholder="Select Type"
                                                                                                                [filter]="true"
                                                                                                                filterBy="CodeDesc"
                                                                                                                [(ngModel)]="entry.OccupationType"
                                                                                                                [options]="fidelityOccupationList"
                                                                                                                appendTo="body"
                                                                                                                optionLabel="CodeDesc"
                                                                                                                optionValue="Code" />
                                                                                                        </div>
                                                                                                        <div
                                                                                                            class="col-12 lg:col-2 md:col-2">
                                                                                                            <label
                                                                                                                for="SumInsured">Members
                                                                                                                Count
                                                                                                            </label>
                                                                                                            <input
                                                                                                                class="w-full p-button-outlined"
                                                                                                                placeholder="Enter Count"
                                                                                                                styleClass="w-full"
                                                                                                                [(ngModel)]="entry.Count"
                                                                                                                pInputText
                                                                                                                type="text" />
                                                                                                        </div>
                                                                                                        <div
                                                                                                            class="col-12 lg:col-3 md:col-3">
                                                                                                            <label
                                                                                                                for="NatureOfLoss">Period</label>
                                                                                                            <p-dropdown
                                                                                                                class="w-full"
                                                                                                                styleClass="w-full"
                                                                                                                placeholder="Select Type"
                                                                                                                [filter]="true"
                                                                                                                filterBy="CodeDesc"
                                                                                                                [(ngModel)]="entry.IndemnityType"
                                                                                                                [options]="groupPeriodList"
                                                                                                                appendTo="body"
                                                                                                                optionLabel="CodeDesc"
                                                                                                                optionValue="Code" />
                                                                                                        </div>
                                                                                                        <div
                                                                                                            class="col-12 lg:col-3 md:col-3">
                                                                                                            <label
                                                                                                                for="SumInsured">Sum
                                                                                                                Insured</label>
                                                                                                            <input
                                                                                                                class="w-full p-button-outlined"
                                                                                                                (keydown)="onSIValueChange($event)"
                                                                                                                (keyup)="CommaFormattedCorp(entry,'Liability')"
                                                                                                                placeholder="Enter SumInsured"
                                                                                                                styleClass="w-full"
                                                                                                                [(ngModel)]="entry.SumInsured"
                                                                                                                pInputText
                                                                                                                type="text" />
                                                                                                        </div>
                                                                                                        <div
                                                                                                            class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                                            <button
                                                                                                                pButton
                                                                                                                type="button"
                                                                                                                icon="pi pi-trash"
                                                                                                                *ngIf="i!=0"
                                                                                                                (click)="deleteRow(item,i,'GPAList')"
                                                                                                                styleClass="p-button-outlined"></button>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </ng-container>
                                                                                            </ng-container>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Fire add on'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Fire add on </b>
                                                                            </div>
                                                                            <!-- <div class="mb-2 col-12 lg:col-3 xl:col-3">
                                                                <p-button styleClass="p-button-outlined" label="Add New" size="small" (click)="onAddRow('Cover',item)"></p-button>&nbsp;
                                                            </div> -->
                                                                        </div>
                                                                        <div class="grid">
                                                                            <div
                                                                                class="mb-2 col-12 lg:col-12 xl:col-12">
                                                                                <ng-container
                                                                                    *ngIf="item.FireAddOnList">
                                                                                    <ng-container
                                                                                        *ngFor="let cover of addOnCoverList;let i=index">
                                                                                        <div class="grid ">
                                                                                            <div
                                                                                                class="col-12 lg:col-1 md:col-1">
                                                                                            </div>
                                                                                            <div
                                                                                                class="col-12 lg:col-7 md:col-7">
                                                                                                <label
                                                                                                    for="NatureOfLoss">{{cover.CoverDesc}}</label>
                                                                                                <!-- <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Add On Covers" [filter]="true" filterBy="CoverDesc"
                                                                                    [(ngModel)]="entry.CoverId" [options]="addOnCoverList"
                                                                                    appendTo="body" optionLabel="CoverDesc" optionValue="CoverId" /> -->
                                                                                            </div>

                                                                                            <div
                                                                                                class="col-12 lg:col-4 md:col-4">
                                                                                                <label
                                                                                                    for="NatureOfLoss">Sum
                                                                                                    Insured</label>
                                                                                                <input
                                                                                                    class="w-full p-button-outlined"
                                                                                                    (keyup)="CommaFormattedCorp(cover,'Cover')"
                                                                                                    placeholder="Enter SumInsured"
                                                                                                    styleClass="w-full"
                                                                                                    [(ngModel)]="cover.SumInsured"
                                                                                                    pInputText
                                                                                                    type="text" />
                                                                                            </div>
                                                                                            <!-- <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'Cover')"
                                                                                        styleClass="p-button-outlined"></button>
                                                                            </div> -->
                                                                                        </div>
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                            </div>
                                                                        </div>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Stock add on'">
                                                                        <div class="grid justify-content-start">
                                                                            <div class="mb-2 col-12 lg:col-9 xl:col-9">
                                                                                <b>Stock add on </b>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid">
                                                                            <div
                                                                                class="mb-2 col-12 lg:col-12 xl:col-12">
                                                                                <ng-container
                                                                                    *ngIf="stockAddOnCoverList">
                                                                                    <ng-container
                                                                                        *ngFor="let entry of stockAddOnCoverList;let i=index">
                                                                                        <div class="grid ">
                                                                                            <div
                                                                                                class="col-12 lg:col-1 md:col-1">
                                                                                            </div>
                                                                                            <div
                                                                                                class="col-12 lg:col-7 md:col-7">
                                                                                                <label
                                                                                                    for="NatureOfLoss">{{entry.CoverDesc}}</label>
                                                                                                <!-- <p-dropdown class="w-full" styleClass="w-full"
                                                                                    placeholder="Select Add On Covers" [filter]="true" filterBy="CoverDesc"
                                                                                    [(ngModel)]="entry.CoverId" [options]="stockAddOnCoverList"
                                                                                    appendTo="body" optionLabel="CoverDesc" optionValue="CoverId" /> -->
                                                                                            </div>
                                                                                            <div
                                                                                                class="col-12 lg:col-4 md:col-4">
                                                                                                <label
                                                                                                    for="NatureOfLoss">Sum
                                                                                                    Insured</label>
                                                                                                <input
                                                                                                    class="w-full p-button-outlined"
                                                                                                    (keydown)="onSIValueChange($event)"
                                                                                                    (keyup)="CommaFormattedCorp(entry,'StockCover')"
                                                                                                    placeholder="Enter SumInsured"
                                                                                                    styleClass="w-full"
                                                                                                    [(ngModel)]="entry.SumInsured"
                                                                                                    pInputText
                                                                                                    type="text" />
                                                                                            </div>
                                                                                            <!-- <div class="col-12 lg:col-1 md:col-1 mt-4">
                                                                                <button pButton type="button" icon="pi pi-trash" *ngIf="i!=0" (click)="deleteRow(item,i,'StockCover')"
                                                                                        styleClass="p-button-outlined"></button>
                                                                            </div> -->
                                                                                        </div>
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='Claim Experience Details'">

                                                                        <div class="grid">
                                                                            <div
                                                                                class="col-12 md:col-12 lg:col-12 xl:col-12">
                                                                                <div
                                                                                    class="flex flex-wrap justify-content-between">
                                                                                    <div>
                                                                                        <h2>Claim Experience Details
                                                                                        </h2>
                                                                                    </div>
                                                                                    <div>
                                                                                        <p-button
                                                                                            styleClass="p-button-outlined"
                                                                                            label="Add New" size="small"
                                                                                            (click)="onAddClaimExperience()"></p-button>&nbsp;
                                                                                    </div>
                                                                                </div>
                                                                                <p-table #dtEmployeeExist
                                                                                    [value]="claimExperienceList"
                                                                                    [tableStyle]="{'min-width':'50rem'}"
                                                                                    rows="5"
                                                                                    [totalRecords]="totalQuoteRecords"
                                                                                    dataKey="RequestReferenceNo">
                                                                                    <ng-template pTemplate="header">
                                                                                        <tr>
                                                                                            <th [pSortableColumn]="column"
                                                                                                *ngFor="let column of columns2">
                                                                                                {{column}}</th>
                                                                                        </tr>
                                                                                    </ng-template>
                                                                                    <tr>
                                                                                        <th *ngFor="let col of cols">
                                                                                            <input pInputText
                                                                                                type="text"
                                                                                                (input)="tableref.filter($event.target.value, col.field, col.filterMatchMode)" />
                                                                                        </th>
                                                                                    </tr>
                                                                                    <ng-template pTemplate="body"
                                                                                        let-entry let-i="rowIndex">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <p-dropdown
                                                                                                    class="w-full"
                                                                                                    styleClass="w-full"
                                                                                                    placeholder="Select Year"
                                                                                                    [(ngModel)]="entry.CLHClaimYear"
                                                                                                    [options]="yearList"
                                                                                                    appendTo="body"
                                                                                                    optionLabel="CodeDesc"
                                                                                                    optionValue="Code" />
                                                                                            </td>
                                                                                            <td>
                                                                                                <input pInputText
                                                                                                    id="natureOfLoss"
                                                                                                    class="w-full"
                                                                                                    [(ngModel)]="entry.CLHNatureOfLoss"
                                                                                                    maxlength="500"
                                                                                                    type="text"
                                                                                                    placeholder="Enter Nature Of Loss" />
                                                                                            </td>
                                                                                            <td>
                                                                                                <p-calendar
                                                                                                    class="w-full customZIndex customInput"
                                                                                                    styleClass="w-full customZIndex customInput"
                                                                                                    appendTo="body"
                                                                                                    [maxDate]="maxDate"
                                                                                                    [(ngModel)]="entry.CLHDateOfLoss"
                                                                                                    dateFormat="dd/mm/yy"
                                                                                                    placeholder="Select Loss Date"></p-calendar>
                                                                                            </td>
                                                                                            <td>
                                                                                                <input pInputText
                                                                                                    id="sharedPercent"
                                                                                                    class="w-full"
                                                                                                    [(ngModel)]="entry.CLHClaimedAmount"
                                                                                                    maxlength="15"
                                                                                                    type="text"
                                                                                                    placeholder="Enter Claimed Amount" />
                                                                                            </td>
                                                                                            <td>
                                                                                                <input pInputText
                                                                                                    id="sharedPercent"
                                                                                                    class="w-full"
                                                                                                    [(ngModel)]="entry.CLHRemarks"
                                                                                                    maxlength="500"
                                                                                                    type="text"
                                                                                                    placeholder="Enter Remarks" />
                                                                                            </td>
                                                                                            <td>
                                                                                                <button pButton
                                                                                                    type="button"
                                                                                                    icon="pi pi-trash"
                                                                                                    *ngIf="i!=0"
                                                                                                    (click)="deleteClaimExperience(i)"
                                                                                                    styleClass="p-button-outlined">
                                                                                                </button>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </ng-template>
                                                                                </p-table>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="currentPackagePlus =='UnderWriter Questions'">
                                                                        <div class="col-12 pl-3 pr-2 pb-0 ml-5"
                                                                            *ngIf="uwQuestionList.length!=0">
                                                                            <div class="grid justify-content-start">
                                                                                <div class="mb-1 ">
                                                                                    <h3>{{'MOTORQUOTE.UWQuestion' |
                                                                                        translate}}</h3>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <ng-container
                                                                            *ngFor="let obj of uwQuestionList;">
                                                                            <div class="grid">
                                                                                <div
                                                                                    class="col-12 lg:col-1 xl:col-1 md:col-1">
                                                                                </div>
                                                                                <div
                                                                                    class="col-12 lg:col-10 xl:col-10 md:col-10">
                                                                                    <div
                                                                                        class="grid justify-content-start pl-3 pr-2 pb-0 mt-2">
                                                                                        <div class="mb-1 ">
                                                                                            <h5>{{obj.SectionName}}</h5>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="grid">
                                                                                        <ng-container
                                                                                            *ngFor="let ques Of obj.UWQuestionsList">
                                                                                            <div class="lg:col-4 md:col-4 col-12"
                                                                                                [hidden]="checkHideQUestion(ques)">
                                                                                                <label
                                                                                                    for="uwQuesDesc">{{ques.UwQuestionDesc}}</label><ng-container
                                                                                                    *ngIf="ques.MandatoryYn=='Y'">
                                                                                                    &nbsp;<span
                                                                                                        class="text-danger">*</span></ng-container>
                                                                                                <ng-container
                                                                                                    *ngIf="ques?.QuestionType=='01'">
                                                                                                    <p-selectButton
                                                                                                        [options]="ques.Options"
                                                                                                        [(ngModel)]="ques.Value"
                                                                                                        id="driverType2"
                                                                                                        optionLabel="UwQuesOptionDesc"
                                                                                                        optionValue="UwQuesOptionDesc"></p-selectButton>
                                                                                                </ng-container>
                                                                                                <ng-container
                                                                                                    *ngIf="ques?.QuestionType=='02' && ques?.DataType!='02'">
                                                                                                    <input pInputText
                                                                                                        [id]="ques.UwQuestionId"
                                                                                                        maxlength="50"
                                                                                                        [disabled]="(endorsementSection) || checkDisableField()"
                                                                                                        [(ngModel)]="ques.Value" />
                                                                                                </ng-container>
                                                                                                <ng-container
                                                                                                    *ngIf="ques?.QuestionType=='02' && ques?.DataType=='02'">
                                                                                                    <input pInputText
                                                                                                        [id]="ques.UwQuestionId"
                                                                                                        maxlength="50"
                                                                                                        [disabled]="(endorsementSection) || checkDisableField()"
                                                                                                        [(ngModel)]="ques.Value" />
                                                                                                </ng-container>
                                                                                            </div>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="uwQuestionList.length==0">
                                                                            <div class="text-center">
                                                                                No UnderWriter Questions Available
                                                                            </div>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="text-center mt-2">
                                                                    <p-button class="mr-2" label="Previous" size="small"
                                                                        (click)="previous('PackagePlus')"
                                                                        *ngIf="getCurrentPackagePlusIndex() > 0"></p-button>
                                                                    <p-button class="mr-2" label="Skip" size="small"
                                                                        *ngIf=" packageplusMenus.length > 1 && getCurrentPackagePlusIndex() != packageplusMenus.length-1 "
                                                                        (click)="skip('PackagePlus')"></p-button>
                                                                    <p-button class="mr-2" label="Save & Proceed"
                                                                        size="small"
                                                                        (click)="listProceed('PackagePlus')"></p-button>
                                                                    <p-button label="View Premium" size="small"
                                                                        (click)="onSubmitAltDetails('Submit')"></p-button>

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    <ng-container *ngIf="locationList.length!=0 && SectionSelectYn=='FAO'">
                                        <div class="grid">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-3 xl:col-3" *ngIf="productItem">
                                                <label class="input-form-label">First Loss Payee Available?</label><span
                                                    class="text-danger">*</span>
                                                <p-selectButton [options]="firstLossOptions"
                                                    (click)="onFirstLossPayeeYNChange()"
                                                    [(ngModel)]="productItem.FirstLossPayeeYN" optionLabel="CodeDesc"
                                                    optionValue="Code"></p-selectButton>
                                            </div>
                                        </div>
                                        <div class="grid" *ngIf="firstLossSection">
                                            <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
                                            <div class="col-12 lg:col-5 xl:col-5 md:col-5">
                                                <div class="flex flex-warp justify-content-end">
                                                    <p-button label="Add New" size="small"
                                                        (click)="addFirstLossPayee()"></p-button>
                                                </div>
                                                <p-table [value]="firstLossPayeeList" dataKey="LocationListAlt"
                                                    editMode="row" [rows]="10" [paginator]="false"
                                                    [tableStyle]="{'min-width': '40rem'}">
                                                    <ng-template pTemplate="header">
                                                        <tr>
                                                            <th [pSortableColumn]="column"
                                                                *ngFor="let column of firstLossColumns">
                                                                {{column}}
                                                            </th>
                                                        </tr>
                                                    </ng-template>
                                                    <ng-template pTemplate="body" let-payee let-ri="rowIndex">
                                                        <tr>
                                                            <td>
                                                                <input class="w-full p-button-outlined"
                                                                    placeholder="Enter Payee Name"
                                                                    [(ngModel)]="payee.FirstLossPayeeDesc"
                                                                    styleClass="w-full" pInputText type="text" />
                                                            </td>
                                                            <td>
                                                                <ng-container *ngIf="ri!=0">
                                                                    <div
                                                                        class="flex align-items-center justify-content-center gap-2">
                                                                        <button pButton type="button" icon="pi pi-trash"
                                                                            (click)="onDeleteFistLoss(ri)"
                                                                            styleClass="p-button-outlined">
                                                                        </button>
                                                                    </div>
                                                                </ng-container>
                                                            </td>
                                                        </tr>
                                                    </ng-template>
                                                </p-table>
                                            </div>
                                        </div>

                                    </ng-container>
                                </p-tabPanel>
                            </ng-container>
                        </p-tabView>
                    </div>
                </div>
            </ng-container>
        </div>
        <div class="text-center mt-2">
            <p-button styleClass="p-button-outlined" *ngIf="tabIndex==0 && SectionSelectYn=='FC'" label="Back"
                size="small" (click)="getBackAlt()"></p-button>&nbsp;
            <p-button styleClass="p-button-outlined" (click)="getBackCorprate('Back1')"
                *ngIf="locationList.length==1 && SectionSelectYn!='FC'" label="Back" size="small"></p-button>&nbsp;
            <p-button styleClass="p-button-outlined" (click)="getBackCorprate('Back2')"
                *ngIf="tabIndex!=0 && locationList.length>1" label="Back" size="small"></p-button>&nbsp;
            <p-button *ngIf="locationList.length>1 && tabIndex!=locationList.length" label="Save & Proceed"
                (click)="onSubmit('Save')" size="small" routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button label="Next"
                *ngIf="locationList.length==1 && (SectionSelectYn=='EC' || SectionSelectYn=='FC' || SectionSelectYn=='EL' || SectionSelectYn=='FAO' || SectionSelectYn=='ClaimExperience' || SectionSelectYn=='')"
                (click)="onSubmit('Submit')" size="small"></p-button>
            <p-button label="Submit"
                *ngIf="locationList.length==1 && SectionSelectYn=='UWQues' && tabIndex!=locationList.length"
                (click)="onSubmit('Submit')" size="small"></p-button>
            <!-- <button pButton pRipple label="Submit" class="p-button-success" (click)="onfinalsave()"></button> -->
        </div>
    </div>
    <ng-container
        *ngIf="productId=='57' && insuranceId!='100046' && insuranceId!='100047' && insuranceId!='100048' && insuranceId!='100049' && insuranceId!='100050'">
        <div class="mt-4">
            <div class="grid mb-3">
                <div class="col-12 lg:col-4 xl:col-4"></div>
                <div class="col-12 lg:col-4 xl:col-4">

                    <div class="memberDetailCard">
                        <div class="mb-3"> <b>Group Personal Accident Details</b></div>
                        <div><!--class="flex md:flex-row flex-col items-center md:space-x-3"-->

                            <ng-container *ngFor="let step of fieldsGroupPa; let index = index; let last = last">
                                <div>

                                    <div class="row">
                                        <!--style="display: flex !important;justify-content: space-between !important;"-->
                                        <div>
                                            <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                                <formly-form [form]="form" [fields]="step.fieldGroup"
                                                    [model]="productItem"></formly-form>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-2">
            <p-button styleClass="p-button-outlined" label="Back" size="small"
                [routerLink]="['/quotation/plan/quote-details']" routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button label="Proceed" size="small" (click)="onsaveGroupPADetails()"></p-button>
        </div>
    </ng-container>
    <ng-container *ngIf="productId == '60'">
        <div class="grid mt-2 mb-3">
            <div class="col-1 lg:col-1 xl:col-1"></div>
            <div class="col-10 lg:col-10 xl:col-10">
                <div class="memberDetailCard" style="padding:10px !important;">
                    <div class="mb-2"> <b>Professional Indemnity</b></div>
                    <div class="flex md:flex-row flex-col items-center md:space-x-3">
                        <ng-container *ngFor="let stepss of fields8; let index = index; let last = last">
                            <div>
                                <div class="row">
                                    <div>
                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                            <formly-form [form]="form" [fields]="stepss.fieldGroup"
                                                [model]="productItem"></formly-form>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>


        <div class="grid mt-2 mb-3">
            <div class="col-1 lg:col-1 xl:col-1"></div>
            <div class="col-10 lg:col-10 xl:col-10">
                <div class="memberDetailCard mt-2" style="padding:10px !important;">
                    <!-- <div class="mb-2"> <b>Professional Indemnity</b></div> -->
                    <div class="flex md:flex-row flex-col items-center md:space-x-3">

                        <ng-container *ngFor="let stepss of fields9; let index = index; let last = last">
                            <div>
                                <div class="row">
                                    <div>
                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                            <formly-form [form]="form" [fields]="stepss.fieldGroup"
                                                [model]="productItem"></formly-form>
                                        </form>
                                    </div>
                                </div>

                            </div>
                        </ng-container>

                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-2">
            <p-button styleClass="p-button-outlined" label="Back" size="small"
                [routerLink]="['/quotation/plan/quote-details']" routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button label="Proceed" size="small" (click)="onprofessionalsave()"></p-button>
        </div>
    </ng-container>
    <ng-container *ngIf="productId=='56'">
        <div>
            <div class="grid mt-1 mb-3">
                <div class="col-1 lg:col-2 xl:col-1">

                </div>
                <div class="col-10 lg:col-10 xl:col-10">
                    <div class="memberDetailCard" style="padding:10px !important;">
                        <div class="mb-2 d-flex justify-content-between">
                            <div><b>Health Insurance</b></div>
                            <!-- <div>
                <button class="btn btn-warning btn-sm" (click)="AddnewCovers()">
                    <i class="fas fa-plus"></i>&nbsp;Add New
                </button>
            </div> -->

                        </div>
                        <div class="grid pl-5 pr-5 pb-0">
                            <div class="lg:col-2 xl:col-2 md:col-2 col-12 text-center md:col-ffset-2 lg:col-offset-2">
                                <label class="input-form-label">Inpatient SumInsured</label>&nbsp;<ng-container
                                    *ngIf="categoryDesc">({{categoryDesc}})</ng-container><span
                                    class="text-danger">*</span>
                            </div>
                            <div class="lg:col-4 xl:col-4 md:col-4 col-12 text-center">
                                <div class="input-control-container">

                                    <ng-select class="custom" [items]="sectionDropdownList" [(ngModel)]="ProductCode"
                                        placeholder="Select SumInsured" appendTo="body"
                                        [ngModelOptions]="{standalone: true}" bindValue="Code" bindLabel="CodeDesc">
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngIf="showsection">

                            <ng-container *ngFor="let step of fields[0].fieldGroup; let index = index; let last = last">

                                <ng-container
                                    *ngIf="step.props.label=='Employers Liability' || step.props.label=='Health Insurance' || (step.props.label=='Contents Risk' && insuranceId=='100004' && productId!='24') || step.props.label=='Building Risk' || step.props.label=='Money' || step.props.label=='Business Interruption' || (step.props.label=='Burglary' && insuranceId=='100004') || step.props.label=='Fidelity' || step.props.label=='Public Liability' || step.props.label=='Machinery BreakDown' || step.props.label=='Fire & Allied Perils' || (step.props.label=='Burglary' && insuranceId=='100002')  || step.props.label=='Goods in Transit'">

                                    <div class="col-md-12 col-lg-12 col-xl-12">
                                        <!--style="margin-top:30px !important;"-->
                                        <div style="width:100% !important;"
                                            class="col-md-4 col-lg-4 col-xl-4 customer-grid maan-grid-item-titles d-flex justify-content-between"
                                            (click)="selectedIndex=index">

                                        </div>
                                        <div class="card-body"
                                            *ngIf="step.props.label!='Employers Liability' && step.props.label!='Fidelity'">
                                            <ng-conttainer>
                                                <form [formGroup]="form" (change)="onChange($event)">
                                                    <formly-form [form]="form" [fields]="step.fieldGroup"
                                                        [model]="productItem"></formly-form>
                                                </form>
                                            </ng-conttainer>
                                        </div>
                                        <div class="grid"
                                            *ngIf="step.props.label=='Employers Liability' && step.props.label!='Fidelity'">
                                            <div class="col-md-2 col-lg-2 col-xl-2 offset-10">
                                                <button class="btn btn-warning btn-sm"
                                                    (click)="createCover(null,myModal2)">
                                                    <i class="fas fa-plus"></i>&nbsp;Add New
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <div class="text-center mt-2">
                            <p-button styleClass="p-button-outlined" label="Back" size="small"
                                [routerLink]="['/quotation/plan/quote-details']"
                                routerLinkActive="router-link-active"></p-button>&nbsp;
                            <p-button label="Proceed" size="small" (click)="onSaveHealthInsurance()"></p-button>
                        </div>


                    </div>
                </div>

            </div>

        </div>

    </ng-container>
    <ng-container *ngIf="productId=='24'">
        <div class="grid mt-1 mb-3">
            <div class="lg:col-1">

            </div>
            <div class="col-12 lg:col-5 xl:col-5" *ngIf="Content">
                <div class="memberDetailCard" style="padding:10px !important;">
                    <div class="mb-2"> <b>Content Risk</b></div>
                    <div class="flex md:flex-row flex-col items-center md:space-x-3">

                        <ng-container *ngFor="let stes of fields1; let index = index; let last = last">
                            <div>
                                <div style="display: flex !important;justify-content: space-between !important;">
                                    <div class="mt-4 mr-3 ml-3">
                                        <img src="./assets/images/content.png" width="40" height="35">

                                    </div>
                                    <div>
                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                            <formly-form [form]="form" [fields]="stes.fieldGroup"
                                                [model]="productItem"></formly-form>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </ng-container>

                    </div>
                </div>
            </div>
            <div class="col-12 lg:col-5 xl:col-5" *ngIf="AllRisk">
                <div class="memberDetailCard" style="padding:10px !important;">
                    <div class="mb-2"> <b>All Risk</b></div>
                    <div class="flex md:flex-row flex-col items-center md:space-x-3">

                        <ng-container *ngFor="let steps of fields2; let index = index; let last = last">
                            <div>
                                <div style="display: flex !important;justify-content: space-between !important;">
                                    <div class="mt-4 ml-3 mr-3">
                                        <img src="./assets/images/All-risk.png" width="40" height="35">

                                    </div>
                                    <div>
                                        <form [formGroup]="form" (ngSubmit)="onSubmit(productItem)">
                                            <formly-form [form]="form" [fields]="steps.fieldGroup"
                                                [model]="productItem"></formly-form>
                                        </form>
                                    </div>
                                </div>

                            </div>
                        </ng-container>

                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-2">
            <p-button styleClass="p-button-outlined" label="Back" size="small"
                [routerLink]="['/quotation/plan/quote-details']" routerLinkActive="router-link-active"></p-button>&nbsp;
            <p-button label="Proceed" size="small" (click)="onfinalsave('Submit')"></p-button>
        </div>
    </ng-container>


    <p-dialog header="Owner's Liability Details" [modal]="true" [(visible)]="personalLiabilityDialog"
        [style]="{ width: '80rem','z-index': '1000 !important' }">
        <ng-container class="mt-5">
            <div class="grid justify-content-end">
                <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
                <!-- </div> -->
                <!-- <div class="col-12 md:col-4 lg:col-4">
                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Occupation"
                    [options]="occupationList"
                        appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="plOccupationId" />
                        <div class="input-form-error" *ngIf="plOccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                </div> -->
                <div class="col-12 md:col-8 lg:col-8"></div>
                <!-- <div class="col-12 md:col-2 lg:col-2" *ngIf="fields3">Total :{{getPLTotal() | commaseparator}}</div> -->
                <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus"
                        (click)="addRowPL()" />
                </div>
            </div>
        </ng-container>
        <ng-container class="mt-5">
            <p-table [value]="TableRowPL" dataKey="id" editMode="row" [rows]="5" [paginator]="false"
                [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalLiability">
                            {{column}}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product let-ri="rowIndex">
                    <tr>
                        <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Location"
                                    [filter]="true" filterBy="CodeDesc" [options]="locationList"
                                    (onChange)="onChangeContentLocation(product)" appendTo="body"
                                    optionLabel="LocationName" optionValue="RiskId" [(ngModel)]="product.RiskId" />

                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{product.LocationName}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                    Please Select Location
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Occupation"
                                    [filter]="true" filterBy="CodeDesc" [options]="occupationList" appendTo="body"
                                    optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.OccupationId" />
                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{getOccupationName(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.OccupationError">
                                <div class="error-text text-danger">
                                    Please Select Occupation
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <input class="w-full p-button-outlined customInput" placeholder="Enter Name"
                                    styleClass="w-full customInput" pInputText type="text" [(ngModel)]="product.Name" />

                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri"> {{ product.Name }}</ng-container>
                            <div class="input-form-error" *ngIf="product.NameError">
                                <div class="error-text text-danger">
                                    Please Enter Name
                                </div>
                            </div>
                        </td>
                        <!-- <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-dropdown class="w-full customInput"  styleClass="w-full customInput" placeholder="Select Nationality"
                                [options]="countryList"
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.Nationality" />
                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{getNationalityDesc(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.NationalityError">
                                <div class="error-text text-danger">
                                    Please Select Nationality
                                </div>
                            </div>
                        </td> -->
                        <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-calendar class="w-full customZIndex customInput"
                                    styleClass="w-full customZIndex customInput" appendTo="body" [maxDate]="minDate"
                                    [(ngModel)]="product.Dob" [defaultDate]="minDate" dateFormat="dd/mm/yy"
                                    placeholder="Select Date Of Birth"></p-calendar>
                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{getProductDob(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.DobError">
                                <div class="error-text text-danger">
                                    Please Select Date of Birth
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-inputNumber class="customInput" styleClass="customInput"
                                    [(ngModel)]="product.SumInsured" inputId="integeronly" />

                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{product.SumInsured | commaseparator}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Salary
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-pencil" (click)="currentPLRowIndex=ri"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>

                        <td>
                            <ng-container>
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-trash" (click)="deleteProductPL(ri)"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>
                    </tr>

                </ng-template>

            </p-table>
            <!-- <div class="flex justify-content-end gap-2 mt-5">
                <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
                <p-button label="Save" (click)="saveProduct()" />
            </div> -->
            <div class="grid justify-content-center gap-2 mt-5">
                <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
                <div>
                    <p-button label="Save" (click)="onSavePL('direct','PL')" />
                </div>
            </div>
        </ng-container>
    </p-dialog>
    <p-dialog header="Personal Accident Details" [modal]="true" [(visible)]="personalAccidentDialog"
        [style]="{ width: '80rem','z-index': '1000 !important' }">
        <ng-container class="mt-5">
            <div class="grid justify-content-end">
                <!-- <div class="col-12 md:col-4 lg:col-4">
                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Occupation"
                    [options]="occupationList"
                        appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="pAOccupationId" />
                        <div class="input-form-error" *ngIf="pAOccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                </div> -->
                <div class="col-12 md:col-8 lg:col-8"></div>
                <!-- <div class="col-12 md:col-2 lg:col-2" *ngIf="fields4">Total :{{getPATotal() | commaseparator}}</div> -->
                <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus"
                        (click)="addRowPA()" />
                </div>
            </div>
        </ng-container>
        <ng-container class="mt-5">
            <p-table [value]="TableRowPA" dataKey="id" editMode="row" [rows]="5" [paginator]="false"
                [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalAccident">
                            {{column}}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product let-ri="rowIndex">
                    <tr>
                        <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Location"
                                    [filter]="true" filterBy="CodeDesc" [options]="TableRowBuilding"
                                    (onChange)="onChangeContentLocation(product)" appendTo="body"
                                    optionLabel="LocationName" optionValue="RiskId" [(ngModel)]="product.RiskId" />

                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                {{product.LocationName}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                    Please Select Location
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Occupation"
                                    [filter]="true" filterBy="CodeDesc" [options]="occupationList" appendTo="body"
                                    optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.OccupationId" />
                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                {{getOccupationName(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.OccupationError">
                                <div class="error-text text-danger">
                                    Please Select Occupation
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <input class="w-full p-button-outlined customInput" placeholder="Enter Name"
                                    styleClass="w-full customInput" pInputText type="text" [(ngModel)]="product.Name" />

                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri"> {{ product.Name }}</ng-container>
                            <div class="input-form-error" *ngIf="product.NameError">
                                <div class="error-text text-danger">
                                    Please Enter Name
                                </div>
                            </div>
                        </td>
                        <!-- <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <p-dropdown class="w-full customInput"  styleClass="w-full customInput" placeholder="Select Nationality"
                                [options]="countryList"
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.Nationality" />
                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                {{getNationalityDesc(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.NationalityError">
                                <div class="error-text text-danger">
                                    Please Select Nationality
                                </div>
                            </div>
                        </td> -->
                        <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <p-calendar class="w-full customZIndex customInput"
                                    styleClass="w-full customZIndex customInput" appendTo="body" [maxDate]="minDate"
                                    [(ngModel)]="product.Dob" [defaultDate]="minDate" dateFormat="dd/mm/yy"
                                    placeholder="Select Date Of Birth"></p-calendar>
                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                {{getProductDob(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.DobError">
                                <div class="error-text text-danger">
                                    Please Select Date of Birth
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPARowIndex==ri">
                                <p-inputNumber styleClass="customInput" class="customInput"
                                    [(ngModel)]="product.SumInsured" inputId="integeronly" />

                            </ng-container>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                {{product.SumInsured | commaseparator}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Salary
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentPARowIndex!=ri">
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-pencil" (click)="currentPARowIndex=ri"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>

                        <td>
                            <ng-container>
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-trash" (click)="deleteProductPA(ri)"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="grid justify-content-center gap-2 mt-5">
                <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
                <div>
                    <p-button label="Save" (click)=" onSavePA('direct')" />
                </div>
            </div>
        </ng-container>
    </p-dialog>
    <p-dialog header="Domestic Servant Details" [modal]="true" [(visible)]="domesticServantDialog"
        [style]="{ width: '80rem','z-index': '1000 !important' }">
        <ng-container class="mt-5">
            <div class="grid justify-content-end">
                <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
                <!-- </div> -->
                <!-- <div class="col-12 md:col-4 lg:col-4">
                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Occupation"
                    [options]="occupationList"
                        appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="plOccupationId" />
                        <div class="input-form-error" *ngIf="plOccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                </div> -->
                <div class="col-12 md:col-8 lg:col-8"></div>
                <!-- <div class="col-12 md:col-2 lg:col-2" *ngIf="fields7">Total :{{getDSTotal() | commaseparator}}</div> -->
                <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus"
                        (click)="addRowDS()" />
                </div>
            </div>
        </ng-container>
        <ng-container class="mt-5">
            <p-table [value]="TableRowDS" dataKey="id" editMode="row" [rows]="5" [paginator]="false"
                [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalLiability">
                            {{column}}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product let-ri="rowIndex">
                    <tr>
                        <td>
                            <ng-container *ngIf="currentDSRowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Location"
                                    [filter]="true" filterBy="CodeDesc" [options]="TableRowBuilding"
                                    (onChange)="onChangeContentLocation(product)" appendTo="body"
                                    optionLabel="LocationName" optionValue="RiskId" [(ngModel)]="product.RiskId" />
                            </ng-container>
                            <ng-container *ngIf="currentDSRowIndex!=ri">
                                {{product.LocationName}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                    Please Select Location
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentDSRowIndex==ri">
                                <p-dropdown class="w-full" styleClass="w-full" placeholder="Select Occupation"
                                    [filter]="true" filterBy="CodeDesc" [options]="occupationList" appendTo="body"
                                    optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.OccupationId" />
                            </ng-container>
                            <ng-container *ngIf="currentDSRowIndex!=ri">
                                {{getOccupationName(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.OccupationError">
                                <div class="error-text text-danger">
                                    Please Select Occupation
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentDSRowIndex==ri">
                                <input class="w-full p-button-outlined customInput" placeholder="Enter Name"
                                    styleClass="w-full customInput" pInputText type="text" [(ngModel)]="product.Name" />

                            </ng-container>
                            <ng-container *ngIf="currentDSRowIndex!=ri"> {{ product.Name }}</ng-container>
                            <div class="input-form-error" *ngIf="product.NameError">
                                <div class="error-text text-danger">
                                    Please Enter Name
                                </div>
                            </div>
                        </td>
                        <!-- <td>
                            <ng-container *ngIf="currentPLRowIndex==ri">
                                <p-dropdown class="w-full customInput"  styleClass="w-full customInput" placeholder="Select Nationality"
                                [options]="countryList"
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.Nationality" />
                            </ng-container>
                            <ng-container *ngIf="currentPLRowIndex!=ri">
                                {{getNationalityDesc(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.NationalityError">
                                <div class="error-text text-danger">
                                    Please Select Nationality
                                </div>
                            </div>
                        </td> -->
                        <td>
                            <ng-container *ngIf="currentDSRowIndex==ri">
                                <p-calendar class="w-full customZIndex customInput"
                                    styleClass="w-full customZIndex customInput" appendTo="body" [maxDate]="minDate"
                                    [(ngModel)]="product.Dob" [defaultDate]="minDate" dateFormat="dd/mm/yy"
                                    placeholder="Select Date Of Birth"></p-calendar>
                            </ng-container>
                            <ng-container *ngIf="currentDSRowIndex!=ri">
                                {{getProductDob(product)}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.DobError">
                                <div class="error-text text-danger">
                                    Please Select Date of Birth
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentDSRowIndex==ri">
                                <p-inputNumber class="customInput" styleClass="customInput"
                                    [(ngModel)]="product.SumInsured" inputId="integeronly" />

                            </ng-container>
                            <ng-container *ngIf="currentDSRowIndex!=ri">
                                {{product.SumInsured | commaseparator}}
                            </ng-container>
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Salary
                                </div>
                            </div>
                        </td>
                        <td>
                            <ng-container *ngIf="currentDSRowIndex!=ri">
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-pencil" (click)="currentDSRowIndex=ri"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>

                        <td>
                            <ng-container>
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <button pButton type="button" icon="pi pi-trash" (click)="deleteProductDS(ri)"
                                        styleClass="p-button-outlined">
                                    </button>
                                </div>
                            </ng-container>
                        </td>
                    </tr>

                </ng-template>

            </p-table>
            <!-- <div class="flex justify-content-end gap-2 mt-5">
                <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
                <p-button label="Save" (click)="saveProduct()" />
            </div> -->
            <div class="grid justify-content-center gap-2 mt-5">
                <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
                <div>
                    <p-button label="Save" (click)="onSavePL('direct','DS')" />
                </div>
            </div>
        </ng-container>
    </p-dialog>