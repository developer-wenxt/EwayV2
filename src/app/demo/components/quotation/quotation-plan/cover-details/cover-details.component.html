<p-toast></p-toast>
<div class="card">
    <div class="grid">
      <div class="col-12 sm:col-6 md:col-4">
        <h3 class="mr-3 p-0 m-0">{{'MOTORQUOTE.QuoteDetails' | translate}}</h3>
        <ng-container *ngIf="checkCurrentSection()">
            <br><br>
            <div><b>{{'MOTORDETAILS.RegistrationNo' | translate}} - <span class="primaryTextColor">{{vehicleDetailsList[0].RiskDetails.Registrationnumber}}</span></b></div>
        </ng-container>
      </div>
      <div class="col-12 sm:col-6 md:col-8">
        <div class="flex flex-wrap justify-content-end">
            <div *ngIf="quoteNo"><b>{{'PREMIUM.QuoteNo' | translate}} - <span class="primaryTextColor bolder">{{quoteNo}}</span></b>&nbsp;|&nbsp;</div>
            <div *ngIf="quoteRefNo"><b>{{'PREMIUM.ReferenceNo' | translate}} - <span class="primaryTextColor bolder">{{quoteRefNo}}</span></b></div>
        </div>
      </div>
    </div>
    <div class="flex justify-content-end mb-4" *ngIf="!checkCurrentSection()">
        <p-button icon="pi pi-table"  class="mr-3" [styleClass]="verticalSection == false ? '':'p-button-outlined'" (click)="verticalSection=!verticalSection" severity="success "></p-button>
        <p-button icon="pi pi-list" [styleClass]="verticalSection==true ? '':'p-button-outlined'" (click)="verticalSection=!verticalSection"  severity="success "></p-button>
    </div>
    <p-divider></p-divider>
    
    <ng-container *ngIf="vehicleDetailsList.length!=0">
        <ng-container *ngIf="!checkCurrentSection()">
            <p-tabView [activeIndex]="tabIndex" (onChange)="onTabClicked($event)" [scrollable]="true">
                <ng-container *ngFor="let menu of vehicleDetailsList;let i = index">
                    <p-tabPanel [header]="getHeaderName(menu)">
                        <div class="card">
                            
                                <ng-container *ngIf="productId=='5'">
                                    <div class="flex flex-wrap justify-content-between">
                                            <div class="flex flex-wrap" *ngIf="insuranceId!='100027' && insuranceId!='100040' && this.insuranceId!='100042'">
                                                <p class="mr-5" *ngIf="menu.RiskDetails.PolicyTypeDesc"><i class="pi pi-tag mr-2"></i>{{menu.RiskDetails.PolicyTypeDesc}}</p>
                                                <p class="mr-5"><i class="pi pi-tag mr-2"></i>{{ menu.RiskDetails.Registrationnumber }}</p>
                                            </div>
                                            <div class="flex flex-wrap">
                                                <ng-container *ngIf="(insuranceId=='100020' || insuranceId=='100028'  || insuranceId=='100044') && productId!='56' ">
                                                    <p-button icon="pi pi-rate" [label]="'PREMIUM.ViewFactorDetails' | translate" (click)="onViewFactorDetails()"  class="mr-3" styleClass='p-button-outlined' severity="success "></p-button>
                                                </ng-container>
                                                <div class="bg-blue-800 customSizeDiv"></div> &nbsp; {{'PREMIUM.DefaultOptedCovers' | translate}} &nbsp;
                                                <div class="customOptCoverBg customSizeDiv"></div> &nbsp; {{'PREMIUM.OptedCovers' | translate}} &nbsp;
                                                <i class="pi pi-bookmark-fill customReferralBorder"></i> &nbsp; {{'PREMIUM.ReferralCovers' | translate}} &nbsp;
                                            </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="menu.ReferralList.length!=0">
                                    <div class="flex flex-wrap justify-content-start">
                                        <div class="flex flex-wrap">
                                            <div class="customCard4">
                                                <div class="flex flex-wrap justify-content-start">
                                                    <div class="flex flex-wrap">
                                                        <span class="spancommon referalRemarksHeading" >{{'PREMIUM.RefferalReasons' | translate}}</span>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    <ul class="b listrefereal" *ngFor="let doc of menu.ReferralList">
                                                        <li class="p-0 li-custom"><i class="fa-solid fa-circle-check"
                                                                style="position: relative; right: 1rem;"></i><span
                                                                class="spancommon"
                                                                style="font-size: 0.9rem;">{{doc}}</span></li>
                                                    </ul>
                                                </div>
                                            </div>
                                           
                                        </div>
                                    </div>
                                </ng-container>
                               
                                <ng-container *ngIf="verticalSection">
                                    <div class="flex flex-wrap">
                                        <div class="col-12 md:col-6 lg:col-6 xl:col-6 border-right-1 border-500">
                                            <ng-container *ngIf="checkBenefitSection2(menu)">
                                                <h3>{{'PREMIUM.DefaultCovers' | translate}}</h3><br>
                                            </ng-container>
                                                <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                                    <div class="flex flex-wrap justify-content-between">
                                                        <ng-container *ngFor="let cover of menu.CoverList">
                                                            <div class="card bg-blue-800 customCard text-0 p-3" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                <div class="grid">
                                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                        <div class="flex align-items-center justify-content-between">
                                                                            <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h3>
                                                                           
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                        <div class="flex align-items-center justify-content-between">
                                                                            <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal == 'Y' && statusValue!='RA'"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                    <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                </ng-container>
                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                                    &nbsp;&nbsp;<a
                                                                        class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                        (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                    </a>
                                                                </p><br>
                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                    &nbsp;&nbsp;<a
                                                                    class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                    (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                </p>
                                                                
                                                                <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                                <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt2">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </ng-container>
                                                <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                    <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                        <div class="grid" *ngIf="checkSectionWiseBenefit2(section)">
                                                            <ng-container><!-- sanlam Ivory-->
                                                                <h5 class="ml-5">{{section.SectionName}}</h5>
                                                            </ng-container>
                                                        </div>
                                                        <div class="flex flex-wrap justify-content-between">
                                                            <ng-container *ngFor="let cover of section.CoverList">
                                                                <div class="card bg-blue-800 customCard text-0 p-3" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                    <div class="grid">
                                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h3>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal == 'Y' && statusValue!='RA'"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    
                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                    <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                        <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                    </ng-container>
                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                                        &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                            (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                        </a>
                                                                    </p><br>
                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                        &nbsp;&nbsp;<a
                                                                        class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                        (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                    </p>
                                                                    
                                                                    <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                                    <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt2">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                </ng-container>
                                                <ng-container *ngIf="checkBenefitSection(menu)">
                                                    <h3>{{'PREMIUM.BenefitCovers' | translate}}</h3><br>
                                                </ng-container>
                                                <!-- <div class="grid">
                                                    <ng-container *ngIf="productId!='19'">
                                                        <div class="flex flex-wrap justify-content-between">
                                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                                <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                    
                                                                    <div class="grid">
                                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="productId=='19'">
                                                        <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                            <div class="grid" *ngIf="checkSectionWiseBenefit(section)">
                                                                <ng-container>
                                                                    <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                </ng-container>
                                                            </div>
                                                            <div class="flex flex-wrap justify-content-between">
                                                                <ng-container *ngFor="let cover of section.CoverList">
                                                                    <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                    
                                                                        <div class="grid">
                                                                            <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </div> -->
                                                <div class="grid mt-2" *ngIf="checkBenefitCovers(menu)">
                                                   <div class="col-12 md:col-10 md:col-10 lg:col-10 xl:col-10">
                                                        <table class="table table-bordered p-1" style="overflow-x:clip !important;width:100%;">
                                                            <thead>
                                                                <tr class="firstclass tableRowWidth" style="background-color: #042181;color:#fff">
                                                                    <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Select
                                                                    </th>
                                                                    <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage
                                                                    </th>
                                                                    <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage Limit ({{currencyCode}})</th>
                                                                    
                                                                    
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <ng-container *ngFor="let entry of getFilterBenefitCoverList(menu);let i=index">
                                                                    <tr>
                                                                        <td class="p-2 text-center">
                                                                           <input type="checkbox" [checked]="canbeChecked(entry)" [disabled]="checkReferralSection()" (change)="onSelectCover(entry,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                        </td>
                                                                        <td class="p-2">{{entry.CoverName}}</td>
                                                                        <td class="p-2" style="text-align: center;">
                                                                            <ng-container *ngIf="((!adminSection && userType!='Issuer') || endorsementSection ) || finalizeYN=='Y'">
                                                                                <span class="spancommon span_font_size" [id]="'coverageLimit'+i">{{entry.CoverageLimit | commaseparator}}</span>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="adminSection || (userType=='Issuer' && finalizeYN!='Y' && !endorsementSection)">
                                                                                <div class="input-group">
                                                                                    <input type="text" class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                                                                    padding: 4px 12px;" [id]="'coverageLimit'+i"
                                                                                    [(ngModel)]="entry.CoverageLimit">
                                                                                      <span class="input-group-text" style="padding: 0.05rem 0.5rem;" id="basic-addon2">{{currencyCode}}</span>
                                                                                    
                                                                                </div>
                                                                            </ng-container>
                                                                            </td>
                                                                        
                                                                    </tr>
                                                                 </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            <div class="flex flex-wrap justify-content-center">
                                                <ng-container > <p-button [label]="'PREMIUM.Clauses' | translate" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container ><p-button [label]="'PREMIUM.Exclusions' | translate"  (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container ><p-button [label]="'PREMIUM.Warranties' | translate" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                            </div>
                                        </div>
                                        <div class="col-12 md:col-6 lg:col-6 px-5">
                                            <ng-container *ngIf="checkBenefitSection2(menu)">
                                                <h3>{{'PREMIUM.AddOnCovers' | translate}}</h3><br>
                                            </ng-container>
                                            
                                                <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                                    <div class="flex flex-wrap justify-content-between">
                                                        <ng-container *ngFor="let cover of menu.CoverList">
                                                            <ng-container *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                                <div class="card p-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                                    <div class="grid">
                                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                            <div class="flex align-items-center justify-content-start">
                                                                                <div>
                                                                                    <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                    
                                                                                </div>
                                                                                <div class="customWidth">
                                                                                    <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                                                    <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                            <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                            <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                        </div>
                                                                    </div>
                                                                    <div class="grid">
                                                                        <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                            <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                            <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                            (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                                optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                            </p-dropdown>
                                                                        </div>
                                                                    </div>
                                                                   <div class="flex flex-wrap mt-3 justify-content-between">
                                                                        <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                            <div class="mb-3">
                                                                                <ng-container *ngIf="cover.isReferal=='Y' && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                                    <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                                </ng-container>
                                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                                    class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                    (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                                </a></p><br>
                                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                                    &nbsp;&nbsp;<a
                                                                                    class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                                    (click)="ongetTaxDetails(cover)"
                                                                                    >{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                                </p>
                                                                            </div>
                                                                        </ng-container>
                                                                       
                                                                       <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                        <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                            <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                {{cover.PremiumIncludedTax | commaseparator}}
                                                                            </ng-container>
                                                                            <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                    0
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                                            0
                                                                        </ng-container>
                                                                          
                                                                           &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                   </div>
                                                                   <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt1">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                               </div>
                                                            </ng-container>
                                                        </ng-container>
                                                    </div>
                                                </ng-container>
                                                <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                        <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                            <div class="grid" *ngIf="checkSectionWiseBenefit2(section)">
                                                                <ng-container><!-- sanlam Ivory-->
                                                                    <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                </ng-container>
                                                            </div>
                                                            <div class="flex flex-wrap justify-content-between">
                                                                <ng-container *ngFor="let cover of section.CoverList">
                                                                    <ng-container *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                                        <div class="card p-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                                            <div class="grid">
                                                                                <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                    <div class="flex align-items-center justify-content-start">
                                                                                        <div>
                                                                                            <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                        </div>
                                                                                        <div class="customWidth">
                                                                                            <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                                                            <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                                </div>
                                                                            </div>
                                                                            <div class="grid">
                                                                                <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                                    <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                                    <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                                    (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                                        optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                                    </p-dropdown>
                                                                                </div>
                                                                            </div>
                                                                           <div class="flex flex-wrap mt-3 justify-content-between">
                                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                    <div class="mb-3">
                                                                                        <ng-container *ngIf="cover.isReferal=='Y' && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                        <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                                            <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                                        </ng-container>
                                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                                            class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                            (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                                        </a></p><br>
                                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                                            &nbsp;&nbsp;<a
                                                                                            class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                                            (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                                        </p>
                                                                                    </div>
                                                                                </ng-container>
                                                                               
                                                                               <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                    <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                        {{cover.PremiumIncludedTax | commaseparator}}
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                            0
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                                <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                                                    0
                                                                                </ng-container>
                                                                                  
                                                                                   &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                           </div>
                                                                           <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt1">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                       </div>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                </ng-container>
                                            <ng-container *ngIf="checkBenefitSection(menu)">
                                                <h3>{{'PREMIUM.BenefitCovers' | translate}}</h3><br>
                                            </ng-container>
                                                <ng-container >
                                                    <!-- <div class="flex flex-wrap justify-content-start">
                                                        <ng-container *ngFor="let cover of menu.CoverList">
                                                            <div class="card p-3 w-22rem" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && ! checkCoverSelection(menu,cover)">
                                                                <div class="grid">
                                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                        <div class="flex align-items-center justify-content-between">
                                                                            <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                            <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                            <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                        <div class="flex align-items-center justify-content-between">
                                                                            <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                        </div>
                                                                    </div>
                                                                </div> 
                                                            </div>
                                                        </ng-container>
                                                    </div> -->
                                                    <div class="grid mt-2" *ngIf="checkBenefitCovers(menu)">
                                                        <div class="col-12 md:col-10 md:col-10 lg:col-10 xl:col-10">
                                                             <table class="table table-bordered p-1" style="overflow-x:clip !important;width:100%;">
                                                                 <thead>
                                                                     <tr class="firstclass tableRowWidth" style="background-color: #042181;color:#fff">
                                                                         <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Select
                                                                         </th>
                                                                         <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage
                                                                         </th>
                                                                         <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage Limit ({{currencyCode}})</th>
                                                                         
                                                                         
                                                                     </tr>
                                                                 </thead>
                                                                 <tbody>
                                                                    <ng-container *ngFor="let entry of getFilterBenefitCoverList(menu);let i=index">
                                                                        <tr>
                                                                            <td class="p-2 text-center">
                                                                               <input type="checkbox" [checked]="canbeChecked(entry)" [disabled]="checkReferralSection()" (change)="onSelectCover(entry,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                            </td>
                                                                            <td class="p-2">{{entry.CoverName}}</td>
                                                                            <td class="p-2" style="text-align: center;">
                                                                                <ng-container *ngIf="((!adminSection && userType!='Issuer') || endorsementSection ) || finalizeYN=='Y'">
                                                                                    <span class="spancommon span_font_size" [id]="'coverageLimit'+i">{{entry.CoverageLimit | commaseparator}}</span>
                                                                                </ng-container>
                                                                                <ng-container *ngIf="adminSection || (userType=='Issuer' && finalizeYN!='Y' && !endorsementSection)">
                                                                                    <div class="input-group">
                                                                                        <input type="text" class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                                                                        padding: 4px 12px;" [id]="'coverageLimit'+i"
                                                                                        [(ngModel)]="entry.CoverageLimit">
                                                                                          <span class="input-group-text" style="padding: 0.05rem 0.5rem;" id="basic-addon2">{{currencyCode}}</span>
                                                                                        
                                                                                    </div>
                                                                                </ng-container>
                                                                            </td>
                                                                            
                                                                        </tr>
                                                                     </ng-container>
                                                                 </tbody>
                                                             </table>
                                                         </div>
                                                     </div>
                                                </ng-container>
                                                <!-- <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                    
                                                        <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                            <div class="grid" *ngIf="checkSectionWiseBenefit(section)">
                                                                <ng-container>
                                                                    <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                </ng-container>
                                                            </div>
                                                            <div class="flex flex-wrap justify-content-start">
                                                                <ng-container *ngFor="let cover of section.CoverList">
                                                                    <div class="card p-3 w-22rem" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && ! checkCoverSelection(menu,cover)">
                                                                        <div class="grid">
                                                                            <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                                    <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                    
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div> 
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                </ng-container> -->
                                            <div class="flex flex-wrap justify-content-between mt-2">
                                                <div></div>
                                                <div></div>
                                                <div class="mb-4">
                                                    <p-button [label]="'MOTORQUOTE.Next' | translate" *ngIf="!checkNextBtn(menu,i)" (click)="onNext()" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                                                </div>
                                                <div class="card grid text-white surface-900 px-4 py-2" (click)="showSidebar()" *ngIf="!checkCurrentSection()">
                                                    <div class="col-6">
                                                        <h6 class="text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                                    </div>
                                                    <p-button class="col-6" styleClass="surface-900" [label]="'PREMIUM.ViewCart' | translate" severity="primary"></p-button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="!verticalSection">
                                        <div class="flex flex-wrap">
                                            <div class="col-12 md:col-12 lg:col-12 border-500">
                                                <ng-container *ngIf="checkBenefitSection4(menu)"><!-- sanlam Ivory-->
                                                    <h3>{{'PREMIUM.AddOnCovers' | translate}}</h3><br>
                                                </ng-container>
                                                
                                                    <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                                        <div class="flex flex-wrap justify-content-start">
                                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                                <ng-container  *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                                     <div class="card p-3 ml-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                                        <div class="grid">
                                                                            <div class="col-9 md:col-9 lg:col-9 xl:col-9">
                                                                                <div class="flex align-items-center justify-content-start">
                                                                                    <div>
                                                                                        <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                        
                                                                                    </div>
                                                                                    <div class="customWidth">
                                                                                        <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                                                       
                                                                                        <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                <div class="flex justify-content-start">
                                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    <i class="pi pi-bookmark-fill customReferralBorder" style="font-size: 2rem" *ngIf="cover.isReferal == 'Y' && statusValue!='RA'"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        
                                                                        <div class="grid">
                                                                            <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                                <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                                <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                                (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                                    optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                                </p-dropdown>
                                                                            </div>
                                                                        </div>
                                                                       <div class="flex flex-wrap mt-3 justify-content-between">
                                                                            <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                <div class="mb-3">
                                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                    <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                                        <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                                    </ng-container>
                                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                                        class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                        (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                                    </a></p><br>
                                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                                        &nbsp;&nbsp;<a
                                                                                        class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                                        (click)="ongetTaxDetails(cover)"
                                                                                        >{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                                    </p>
                                                                                </div>
                                                                            </ng-container>
                                                                           
                                                                           <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                            <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                    {{cover.PremiumIncludedTax | commaseparator}}
                                                                                </ng-container>
                                                                                <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                        0
                                                                                </ng-container>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                                                0
                                                                            </ng-container>
                                                                              
                                                                               &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                       </div>
                                                                       <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt1">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                   </div>
                                                                </ng-container>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                        
                                                            <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                                <div class="grid" *ngIf="checkSectionWiseBenefit4(section)">
                                                                    <ng-container><!-- sanlam Ivory-->
                                                                        <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="flex flex-wrap justify-content-start">
                                                                    <ng-container *ngFor="let cover of section.CoverList">
                                                                        <ng-container  *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                                            <div class="card p-3 ml-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                                               <div class="grid">
                                                                                   <div class="col-9 md:col-9 lg:col-9 xl:col-9">
                                                                                       <div class="flex align-items-center justify-content-start">
                                                                                           <div>
                                                                                               <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                               
                                                                                           </div>
                                                                                           <div class="customWidth">
                                                                                               <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                                                               <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                                           </div>
                                                                                       </div>
                                                                                   </div>
                                                                                   <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                       <div class="flex justify-content-start">
                                                                                           <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                           <i class="pi pi-bookmark-fill customReferralBorder" style="font-size: 2rem" *ngIf="cover.isReferal == 'Y' && statusValue!='RA'"></i>
                                                                                       </div>
                                                                                   </div>
                                                                               </div>
                                                                               
                                                                               <div class="grid">
                                                                                   <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                                       <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                                       <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                                       (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                                           optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                                       </p-dropdown>
                                                                                   </div>
                                                                               </div>
                                                                              <div class="flex flex-wrap mt-3 justify-content-between">
                                                                                   <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                       <div class="mb-3">
                                                                                           <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                           <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                                               <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                                           </ng-container>
                                                                                           <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                                               class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                               (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                                           </a></p><br>
                                                                                           <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                                               &nbsp;&nbsp;<a
                                                                                               class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                                               (click)="ongetTaxDetails(cover)"
                                                                                               >{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                                           </p>
                                                                                       </div>
                                                                                   </ng-container>
                                                                                  
                                                                                  <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                   <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                                       <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                           {{cover.PremiumIncludedTax | commaseparator}}
                                                                                       </ng-container>
                                                                                       <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                               0
                                                                                       </ng-container>
                                                                                   </ng-container>
                                                                                   <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                                                       0
                                                                                   </ng-container>
                                                                                     
                                                                                      &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                              </div>
                                                                              <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt1">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                          </div>
                                                                       </ng-container>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                    </ng-container>
                                            </div>   
                                            <div class="col-12 md:col-12 lg:col-12 border-500">
                                                <ng-container *ngIf="checkBenefitSection2(menu)">
                                                    <h3>{{'PREMIUM.DefaultCovers' | translate}}</h3><br>
                                                </ng-container>
                                               
                                                    <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                                        <div class="flex flex-wrap justify-content-start">
                                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                                <div class="card bg-blue-800 customCard3 p-3 ml-3 w-11rem text-0" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                    <div class="grid">
                                                                        <div class="col-9 md:col-9 lg:col-9 xl:col-9">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h3>
                                                                                <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-3 md:col-3 lg:col-3 xl:col-3">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    
                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                    <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                        <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                    </ng-container>
                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                                        &nbsp;&nbsp;<a 
                                                                            class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                            (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                        </a>
                                                                    </p><br>
                                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                        &nbsp;&nbsp;<a
                                                                        class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                        (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                    </p>
                                                                    
                                                                    <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                                    <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt2">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                        <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                            <div class="grid" *ngIf="checkSectionWiseBenefit2(section)">
                                                                <ng-container><!-- sanlam Ivory-->
                                                                    <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                </ng-container>
                                                            </div>
                                                            <div class="flex flex-wrap justify-content-start">
                                                                <ng-container *ngFor="let cover of section.CoverList">
                                                                    <div class="card bg-blue-800 customCard3 p-3 ml-3 w-11rem text-0" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                                        <div class="grid">
                                                                            <div class="col-9 md:col-9 lg:col-9 xl:col-9">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h3>
                                                                                    <!-- <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container> -->
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-3 md:col-3 lg:col-3 xl:col-3">
                                                                                <div class="flex align-items-center justify-content-between">
                                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        
                                                                        <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                        <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                            <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                        </ng-container>
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                                            &nbsp;&nbsp;<a 
                                                                                class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                            </a>
                                                                        </p><br>
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                            &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                            (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                        </p>
                                                                        
                                                                        <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                                        <ng-container *ngIf="cover.SectionId"><ng-container *ngIf="cover.SectionId=='35' || cover.SectionId=='36'"><span class="customTxt2">* {{cover.SectionName}}</span></ng-container></ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                <ng-container *ngIf="checkBenefitSection(menu)">
                                                    <h3>{{'PREMIUM.BenefitCovers' | translate}}</h3><br>
                                                </ng-container>
                                                
                                                    <ng-container>
                                                        <!-- <div class="flex flex-wrap justify-content-start" *ngIf="checkBenefitSection(menu) || checkBenefitSection2(menu)">
                                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                                <div class="card p-3 w-22rem ml-2" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && !checkCoverSelection(menu,cover)">
                                                                    <div class="grid">
                                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                                <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                            <div class="flex align-items-center justify-content-between">
                                                                                <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'  && statusValue!='RA'"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div> 
                                                                </div>
                                                            </ng-container>
                                                        </div>   -->
                                                        <div class="grid mt-2" *ngIf="checkBenefitCovers(menu)">
                                                            <div class="col-12 md:col-10 md:col-10 lg:col-10 xl:col-10">
                                                                 <table class="table table-bordered p-1" style="overflow-x:clip !important;width:100%;">
                                                                     <thead>
                                                                         <tr class="firstclass tableRowWidth" style="background-color: #042181;color:#fff">
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Select
                                                                             </th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage
                                                                             </th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Coverage Limit ({{currencyCode}})</th>
                                                                             
                                                                             
                                                                         </tr>
                                                                     </thead>
                                                                     <tbody>
                                                                        <ng-container *ngFor="let entry of getFilterBenefitCoverList(menu);let i=index">
                                                                            <tr>
                                                                                <td class="p-2 text-center">
                                                                                   <input type="checkbox" [checked]="canbeChecked(entry)" [disabled]="checkReferralSection()" (change)="onSelectCover(entry,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                </td>
                                                                                <td class="p-2">{{entry.CoverName}}</td>
                                                                                <td class="p-2" style="text-align: center;">
                                                                                    <ng-container *ngIf="((!adminSection && userType!='Issuer') || endorsementSection ) || finalizeYN=='Y'">
                                                                                        <span class="spancommon span_font_size" [id]="'coverageLimit'+i">{{entry.CoverageLimit | commaseparator}}</span>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="adminSection || (userType=='Issuer' && finalizeYN!='Y' && !endorsementSection)">
                                                                                        <div class="input-group">
                                                                                            <input type="text" class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:150px;text-align:right !important; border: 1px solid;
                                                                                            padding: 4px 12px;" [id]="'coverageLimit'+i"
                                                                                            [(ngModel)]="entry.CoverageLimit">
                                                                                              
                                                                                            
                                                                                        </div>
                                                                                    </ng-container>
                                                                                </td>
                                                                                
                                                                            </tr>
                                                                         </ng-container>
                                                                     </tbody>
                                                                 </table>
                                                             </div>
                                                         </div>
                                                    </ng-container>
                                                    <!-- <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                         <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                                <ng-container *ngIf="checkSectionWiseBenefit(section)">
                                                                    <div class="grid">
                                                                        <ng-container>
                                                                            <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                        </ng-container>
                                                                    </div>
                                                                    <div class="flex flex-wrap justify-content-start">
                                                                        <ng-container *ngFor="let cover of section.CoverList">
                                                                            <div class="card p-3 w-22rem ml-2" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && !checkCoverSelection(menu,cover)">
                                                                                <div class="grid">
                                                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                        <div class="flex align-items-center justify-content-between">
                                                                                            <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                                            <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                            <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                        <div class="flex align-items-center justify-content-between">
                                                                                            <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'  && statusValue!='RA'"></i>
                                                                                        </div>
                                                                                    </div>
                                                                                </div> 
                                                                            </div>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            </ng-container>
                                                    </ng-container> -->
                                                
                                                        <ng-container >
                                                            <div class="flex flex-wrap justify-content-between">
                                                                <div class="grid">
                                                                    <ng-container *ngFor="let cover of menu.CoverList">
                                                                        <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers)">
                                                                            <div class="grid">
                                                                                <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                    <div class="flex align-items-center justify-content-between">
                                                                                        <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                        <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                    <div class="flex align-items-center justify-content-between">
                                                                                        <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                        <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'  && statusValue!='RA'"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                        <!-- <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                                            <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                                <div class="grid" *ngIf="checkSectionWiseBenefit6(section)">
                                                                    <ng-container>
                                                                        <h5 class="ml-5">{{section.SectionName}}</h5>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="flex flex-wrap justify-content-between">
                                                                    <div class="grid">
                                                                        <ng-container *ngFor="let cover of section.CoverList">
                                                                            <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers)">
                                                                                <div class="grid">
                                                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                                        <div class="flex align-items-center justify-content-between">
                                                                                            <p class="mb-0"><b>{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></b></p>
                                                                                            <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                                        <div class="flex align-items-center justify-content-between">
                                                                                            <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'  && statusValue!='RA'"></i>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </ng-container> -->
                                                         <ng-container *ngIf="excessList.length!=0 && checkOverAllExcess()">
                                                            <h3 style="margin-left: 15px;">Excess Details</h3><br>
                                                        </ng-container>
                                                        <div class="grid mt-2" *ngIf="excessList.length!=0  && checkOverAllExcess()">
                                                            <div class="col-12 md:col-1 md:col-1 lg:col-1 xl:col-1"></div>
                                                            <div class="col-12 md:col-10 md:col-10 lg:col-10 xl:col-10">
                                                                 <table class="table table-bordered p-1" style="overflow-x:clip !important;width:100%;">
                                                                     <thead>
                                                                         <tr class="firstclass" style="background-color: #042181;color:#fff">
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Section Name
                                                                             </th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Cover Name</th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Excess Description</th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Excess (%)</th>
                                                                             <th scope="col" class="spancommon span_font_size p-2" style="text-align:center;">Excess Amount ({{currencyCode}})</th>
                                                                             
                                                                             
                                                                         </tr>
                                                                     </thead>
                                                                     <tbody>
                                                                            <ng-container *ngFor="let excess of excessList">
                                                                                <tr *ngIf="checkExcessData(excess)">
                                                                                    <td class="text-center">{{getSectionName(excess)}}</td>
                                                                                    <td class="text-center">{{getExcessCoverName(excess)}}</td>
                                                                                    <td class="text-center">{{excess.ExcessDescription}}</td>
                                                                                    <td class="text-center">{{excess.ExcessPercentage}}</td>
                                                                                    <td class="text-center">{{excess.ExcessAmount}}</td>

                                                                                </tr>
                                                                            </ng-container>
                                                                            
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                <div class="flex flex-wrap justify-content-center">
                                                    <ng-container> <p-button [label]="'PREMIUM.Clauses' | translate" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container><p-button [label]="'PREMIUM.Exclusions' | translate" (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container><p-button [label]="'PREMIUM.Warranties' | translate" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex flex-wrap justify-content-between mt-2">
                                            <div></div>
                                            <div class="mb-4">
                                                <p-button [label]="'MOTORQUOTE.Next' | translate" *ngIf="!checkNextBtn(menu,i)" (click)="onNext()" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                                            </div>
                                            <div class="card grid text-white surface-900 px-4 py-2" style="min-width: 200px !important;" (click)="showSidebar()" *ngIf="!checkCurrentSection()">
                                                <div class="col-6">
                                                    <h6 class="text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                                </div>
                                                <p-button class="col-6" styleClass="surface-900" [label]="'PREMIUM.ViewCart' | translate" severity="primary"></p-button>
                                            </div>
                                            <div class="card grid text-white surface-900 px-4 py-2" *ngIf="checkCurrentSection() && vehicleDetailsList[tabIndex].totalPremium!=null && vehicleDetailsList[tabIndex].totalPremium!=0 && vehicleDetailsList[tabIndex].totalPremium!='0'" style="min-width: 200px !important;">
                                                <div class="col-10">
                                                    <label>{{'PREMIUM.TotalPremium' | translate}}</label>
                                                    <h6 class="text-white mt-0">{{vehicleDetailsList[tabIndex].totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                                </div>
                                            </div>
                                        </div>
                                </ng-container>
                        </div>
                    </p-tabPanel>
                </ng-container>
            </p-tabView>
        </ng-container>
        <ng-container *ngIf="checkCurrentSection()">
            <div class="grid pl-5 pt-5">
                <div  class="rightSide w-full">
                    <h3>{{'PREMIUM.InformationSummary' | translate}}</h3>
                    <div class="grid w-full">
                        <ng-container *ngFor="let menu of vehicleDetailsList;let i = index">
                            <div class="card ml-6-per col-12 md:col-3 lg:col-3 xl:col-3">
                                <h2 class="optiontxt1">{{'PREMIUM.Option' | translate}} {{i+1}}</h2>
                                <span class="greentxt">{{menu.SectionName}}</span>
                                <hr class="hr new4">
                                <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                    <ng-container *ngFor="let cover of menu.CoverList">
                                        <ng-container *ngIf="((cover.isSelected=='D' &&  cover.CoverageType=='B') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                        <div class="flex flex-warp" [ngClass]="(cover.isReferal=='Y' && statusValue!='RA') ? 'customBg' : 'planeBg'">
                                        <div class="col-12 md:col-9 lg:col-9 xl:col-9 t-a-l">     
                                            <h5>{{getCoverNameDesc(cover)}}</h5>
                                            <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                        </div>
                                        <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                            <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                        </ng-container>
                                        <div class="col-12 md:col-3 lg:col-3 xl:col-3 t-a-r">
                                            <h5 class="optiontxt1">
                                                <ng-container *ngIf="cover.PremiumIncludedTax!=null && cover.PremiumIncludedTax!='' && cover.PremiumIncludedTax!=0">
                                                    {{cover.PremiumIncludedTax | commaseparator}}
                                                </ng-container>
                                                <ng-container *ngIf="cover.PremiumIncludedTax==null || cover.PremiumIncludedTax=='' || cover.PremiumIncludedTax==0">
                                                        0
                                                </ng-container>
                                            </h5>
                                        </div>
                                        </div>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                                 <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                    <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                        <div class="grid">
                                            <ng-container><!-- sanlam Ivory-->
                                                <h5 class="ml-5">{{section.SectionName}}</h5>
                                            </ng-container>
                                        </div>
                                        <ng-container *ngFor="let cover of section.CoverList">
                                            <ng-container *ngIf="((cover.isSelected=='D' &&  cover.CoverageType=='B') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                <div class="flex flex-warp" [ngClass]="(cover.isReferal=='Y' && statusValue!='RA') ? 'customBg' : 'planeBg'">
                                                <div class="col-12 md:col-9 lg:col-9 xl:col-9 t-a-l">     
                                                    <h5>{{getCoverNameDesc(cover)}} <ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                </div>
                                                <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                    <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                </ng-container>
                                                <div class="col-12 md:col-3 lg:col-3 xl:col-3 t-a-r">
                                                    <h5 class="optiontxt1">
                                                        <ng-container *ngIf="cover.PremiumIncludedTax!=null && cover.PremiumIncludedTax!='' && cover.PremiumIncludedTax!=0">
                                                            {{cover.PremiumIncludedTax | commaseparator}}
                                                        </ng-container>
                                                        <ng-container *ngIf="cover.PremiumIncludedTax==null || cover.PremiumIncludedTax=='' || cover.PremiumIncludedTax==0">
                                                                0
                                                        </ng-container>
                                                    </h5>
                                                </div>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                                <div class="felx flex-warp t-a-r viewDetailsText2" >

                                    <h6 (click)="onChooseCompareSection(menu,target)" [id]="'ViewDetailss'+i"><a >{{'PREMIUM.ViewMoreCovers' | translate}} >></a></h6>
                                </div>
                                <hr class="hr new4">
                                <div class="grid mt-2 justify-content-end" style="padding: 12px;">
                                    <div class="custom-grid text-white  p-0 text-end" *ngIf="checkCurrentSection() && vehicleDetailsList[i].totalPremium!=null && vehicleDetailsList[i].totalPremium!=0 && vehicleDetailsList[i].totalPremium!='0'" >
                                        <div class="col-12 md:col-4 lg:col-4 xl:col-4" style="width:100%;background-color: #000;border-radius: 5px;padding: 5px !important;">
                                        <label>{{'PREMIUM.TotalPremium' | translate}}</label>
                                        <p class="text-white mt-0">{{vehicleDetailsList[i].totalPremium | commaseparator}}&nbsp;({{currencyCode}})</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- <h3>After discount (MUR)</h3>
                                <h2 class="optiontxt1">RS.3,456</h2> -->
                                <button type="button" class="input bluebtn buybtn" (click)="onChooseCompareSection(menu,target)">{{'PREMIUM.Buy' | translate}}</button>
                            </div>&nbsp;&nbsp;
                        </ng-container>
                    </div>
                </div>
            </div>
            <div #target>
                <div class="grid"  *ngIf="selectedSectionId">
                    
                    <div class="col-12 md:col-12 lg:col-12 xl:col-12">
                        <div class="card m-2">
                            <ng-container *ngFor="let menu of vehicleDetailsList;let i = index">
                                <ng-container *ngIf="menu.SectionId==selectedSectionId">
                                    <div class="flex flex-wrap justify-content-between">
                                            <div><h3>{{'PREMIUM.DefaultCovers' | translate}}</h3></div>
                                            <ng-container *ngIf="(insuranceId=='100020' || insuranceId=='100028' || insuranceId=='100044') && productId!='56' ">
                                                <div>
                                                    <p-button icon="pi pi-rate" [label]="'PREMIUM.ViewFactorDetails' | translate" (click)="onViewFactorDetails()"  class="mr-3" styleClass='p-button-outlined' severity="success "></p-button>
                                                </div>
                                            </ng-container>
                                            <div><h2 class="optiontxt1">{{menu.SectionName}}</h2></div>
                                    </div>
                                    
                                   
                                        <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                            <div class="flex flex-wrap justify-content-start">
                                                <ng-container *ngFor="let cover of menu.CoverList">
                                                    <div class="card bg-blue-800 customCard3 p-3 ml-3 w-11rem text-0" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='B' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                        <div class="grid">
                                                            <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}</h3>
                                                                    <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                </div>
                                                            </div>
                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                            <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                        </ng-container>
                                                        
                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                            &nbsp;&nbsp;<a
                                                                class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                            </a>
                                                        </p><br>
                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                            &nbsp;&nbsp;<a
                                                            class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                            (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                        </p>
                                                        
                                                        <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                            <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                <div class="grid">
                                                    <ng-container><!-- sanlam Ivory-->
                                                        <h5 class="ml-5">{{section.SectionName}}</h5>
                                                    </ng-container>
                                                </div>
                                                <div class="flex flex-wrap justify-content-start">
                                                    <ng-container *ngFor="let cover of section.CoverList">
                                                        <div class="card bg-blue-800 customCard3 p-3 ml-3 w-11rem text-0" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='B' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                            <div class="grid">
                                                                <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                    <div class="flex align-items-center justify-content-between">
                                                                        <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h3>
                                                                        <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                    </div>
                                                                </div>
                                                                <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                    <div class="flex align-items-center justify-content-between">
                                                                        <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                        <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                            </ng-container>
                                                            
                                                            <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}
                                                                &nbsp;&nbsp;<a
                                                                    class="mt-0 viewDetailsText" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                    (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                </a>
                                                            </p><br>
                                                            <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                &nbsp;&nbsp;<a
                                                                class="mt-0 viewDetailsText" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                (click)="ongetTaxDetails(cover)">{{'PREMIUM.ViewDetails' | translate}}</a>
                                                            </p>
                                                            
                                                            <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    <h3>{{'PREMIUM.AddOnCovers' | translate}}</h3>
                                        <ng-container *ngIf="productId!='19' && productId!='66' && productId!='67'">
                                            <div class="flex flex-wrap justify-content-start">
                                                <ng-container *ngFor="let cover of menu.CoverList">
                                                    <ng-container *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                        <div class="card p-3 w-25rem customOptCoverCard ml-2" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                            <div class="grid">
                                                                <div class="col-12 md:col-10 lg:col-10 xl:col-10">
                                                                    <div class="flex align-items-center justify-content-start">
                                                                        <div>
                                                                            <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                            
                                                                        </div>
                                                                        <div class="customWidth">
                                                                            <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}} 2</h5>
                                                                            <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-1 md:col-1 lg:col-1 xl:col-1">
                                                                    <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                    <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                </div>
                                                            </div>
                                                            <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                            </ng-container>
                                                            <div class="grid">
                                                                <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                    <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                    <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                    (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                        optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                    </p-dropdown>
                                                                </div>
                                                            </div>
                                                        <div class="flex flex-wrap mt-3 justify-content-between">
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <div class="mb-3">
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                            (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                        </a></p><br>
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                            &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                            (click)="ongetTaxDetails(cover)"
                                                                            >{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                        </p>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                
                                                                        <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                            {{cover.PremiumIncludedTax | commaseparator}}
                                                                        </ng-container>
                                                                        <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                0
                                                                        </ng-container>
                                                                        &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                </ng-container>
                                                                
                                                                
                                                        </div>
                                                    </div>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="productId=='19' || productId=='66' || productId=='67'">
                                            <ng-container *ngFor="let section of getSectionList(menu);let m=index">
                                                <div class="grid">
                                                    <ng-container><!-- sanlam Ivory-->
                                                        <h5 class="ml-5">{{section.SectionName}}</h5>
                                                    </ng-container>
                                                </div>
                                                <div class="flex flex-wrap justify-content-start">
                                                    <ng-container *ngFor="let cover of section.CoverList">
                                                        <ng-container *ngIf="((cover.isSelected!='D' && cover.CoverageType!='A')) && ! checkCoverSelection(menu,cover)">
                                                            <div class="card p-3 w-25rem customOptCoverCard ml-2" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                                <div class="grid">
                                                                    <div class="col-12 md:col-10 lg:col-10 xl:col-10">
                                                                        <div class="flex align-items-center justify-content-start">
                                                                            <div>
                                                                                <input type="checkbox" [checked]="canbeChecked(cover)" [disabled]="checkReferralSection()" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                                
                                                                            </div>
                                                                            <div class="customWidth">
                                                                                <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></h5>
                                                                                <ng-container *ngIf="cover.isReferal=='Y'  && statusValue!='RA'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1 md:col-1 lg:col-1 xl:col-1">
                                                                        <i class="pi pi-info-circle" style="font-size: 2rem" (click)="benefitPopup(cover,menu)" ></i>&nbsp;&nbsp;&nbsp;&nbsp;
                                                                        <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y' && statusValue!='RA'"></i>
                                                                    </div>
                                                                </div>
                                                                <ng-container *ngIf="(productId=='14' || productId=='32' || (productId=='78' && cover.CoverId==290))">
                                                                    <p><span class="font-bold text-2xl">Risk - {{getOccupationDesc(cover)}}</span>
                                                                </ng-container>
                                                                <div class="grid">
                                                                    <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                        <label for="username">{{'PREMIUM.SubCover' | translate}}</label>
                                                                        <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                        (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers" [disabled]="checkReferralSection()"
                                                                            optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                        </p-dropdown>
                                                                    </div>
                                                                </div>
                                                            <div class="flex flex-wrap mt-3 justify-content-between">
                                                                    <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                        <div class="mb-3">
                                                                            <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>{{'PREMIUM.SumInsured' | translate}}  &nbsp;&nbsp;<a
                                                                                class="mt-0 viewDetailsText2" [id]="'ViewDetailss'+getCoverNameAlt(cover.CoverName)"
                                                                                (click)="setDiscountDetails(menu,cover,'excess')">{{'PREMIUM.ViewDetails' | translate}}
                                                                            </a></p><br>
                                                                            <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>{{'PREMIUM.PremiumAfterDiscount' | translate}} 
                                                                                &nbsp;&nbsp;<a
                                                                                class="mt-0 viewDetailsText2" [id]="'ViewDetails'+getCoverNameAlt(cover.CoverName)"
                                                                                (click)="ongetTaxDetails(cover)"
                                                                                >{{'PREMIUM.ViewDetails' | translate}}</a>
                                                                            </p>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                        <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                    
                                                                            <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                                {{cover.PremiumIncludedTax | commaseparator}}
                                                                            </ng-container>
                                                                            <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                    0
                                                                            </ng-container>
                                                                            &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                    </ng-container>
                                                                    
                                                                    
                                                            </div>
                                                        </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    <div class="flex flex-wrap justify-content-end">
                                        <div class="card custom-grid text-white surface-900 p-0 text-end" *ngIf="checkCurrentSection() && vehicleDetailsList[i].totalPremium!=null && vehicleDetailsList[i].totalPremium!=0 && vehicleDetailsList[i].totalPremium!='0'" style="min-width: 200px !important;">
                                            <div class="col-10">
                                                <label>{{'PREMIUM.TotalPremium' | translate}}</label>
                                                <h6 class="text-white mt-0">{{vehicleDetailsList[i].totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </ng-container>
                            </ng-container>
                        </div>
                    </div>
                    <!-- <ng-container *ngFor="let menu of vehicleDetailsList;let i = index">
                            <div class="col-12 md:col-4 lg:col-4 xl:col-4">
                                <div class="card m-2">
                                    <h4 class="text-success text-center">{{menu.SectionName}}</h4>
                                    <hr class="m-0 p-0">
                                    <div class="flex flex-wrap">
                                        <div class="col-12 md:col-12 lg:col-12 border-500">
                                            <ng-container *ngIf="checkBenefitSection2(menu)">
                                                <h3>Default Covers</h3><br>
                                            </ng-container>
                                            <div class="flex flex-wrap justify-content-between">
                                                <ng-container *ngFor="let cover of menu.CoverList">
                                                    <div class="card bg-blue-800 customCard text-0 p-3" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                        <div class="grid">
                                                            <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}</h3>
                                                                    
                                                                </div>
                                                            </div>
                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        
                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured
                                                            &nbsp;&nbsp;<a
                                                                class="mt-0 viewDetailsText"
                                                                (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                            </a>
                                                        </p><br>
                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount
                                                            &nbsp;&nbsp;<a
                                                            class="mt-0 viewDetailsText"
                                                            (click)="ongetTaxDetails(cover)">View Details</a>
                                                        </p>
                                                        
                                                        <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <ng-container *ngIf="checkBenefitSection(menu)">
                                                <h3>Benefit Covers</h3><br>
                                            </ng-container>
                                            <div class="flex flex-wrap justify-content-between">
                                                <div class="grid">
                                                    <ng-container *ngFor="let cover of menu.CoverList">
                                                    
                                                        <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                            
                                                            <div class="grid">
                                                                <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                    <div class="flex align-items-center justify-content-between">
                                                                        <p class="mb-0"><b>{{getCoverNameDesc(cover)}}</b></p>
                                                                        
                                                                    </div>
                                                                </div>
                                                                <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                    <div class="flex align-items-center justify-content-between">
                                                                        <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        </div>
                                                    </ng-container>
                                                </div>
                                                    
                                            </div>
                                            <div class="flex flex-wrap justify-content-center">
                                                <ng-container *ngIf="ClausesData.length!=0"> <p-button label="Clauses" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container *ngIf="ExclusionData.length!=0"><p-button label="Exclusions"  (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container *ngIf="WarrantyData.length!=0"><p-button label="Warranties" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                            </div>
                                        </div>
                                        <div class="col-12 md:col-12 lg:col-12 px-5">
                                            <ng-container *ngIf="checkBenefitSection2(menu)">
                                                <h3>Default Covers</h3><br>
                                            </ng-container>
                                            <div class="flex flex-wrap justify-content-between">
                                                <ng-container *ngFor="let cover of menu.CoverList">
                                                    <ng-container *ngIf="(cover.isSelected!='D' && cover.CoverageType!='A') && ! checkCoverSelection(menu,cover)">
                                                        <div class="card p-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                            <div class="grid">
                                                                <div class="col-11 md:col-11 lg:col-11 xl:col-11">
                                                                    <div class="flex align-items-center justify-content-start">
                                                                        <div>
                                                                            <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                            
                                                                        </div>
                                                                        <div class="customWidth">
                                                                            <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}</h5>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-1 md:col-1 lg:col-1 xl:col-1">
                                                                    <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y'"></i>
                                                                </div>
                                                            </div>
                                                            <div class="grid">
                                                                <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                    <label for="username">SubCover</label>
                                                                    <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                    (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers"
                                                                        optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                    </p-dropdown>
                                                                </div>
                                                            </div>
                                                        <div class="flex flex-wrap mt-3 justify-content-between">
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <div class="mb-3">
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured  &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2"
                                                                            (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                                        </a></p><br>
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount 
                                                                            &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2"
                                                                            (click)="ongetTaxDetails(cover)"
                                                                            >View Details</a>
                                                                        </p>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                
                                                                        <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                            {{cover.PremiumIncludedTax | commaseparator}}
                                                                        </ng-container>
                                                                        <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                                0
                                                                        </ng-container>
                                                                        &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                                </ng-container>
                                                                
                                                                
                                                        </div>
                                                    </div>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                            <ng-container *ngIf="checkBenefitSection2(menu)">
                                                <h3>Benefit Covers</h3><br>
                                            </ng-container>
                                            <div class="flex flex-wrap justify-content-between">
                                                <ng-container *ngFor="let cover of menu.CoverList">
                                                    <div class="card p-3 w-22rem" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && ! checkCoverSelection(menu,cover)">
                                                        <div class="grid">
                                                            <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                    <p class="mb-0"><b>{{getCoverNameDesc(cover)}}</b></p>
                                                                    
                                                                </div>
                                                            </div>
                                                            <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                                <div class="flex align-items-center justify-content-between">
                                                                    <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                                </div>
                                                            </div>
                                                        </div> 
                                                    
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <div class="grid mt-2">
                                                <div class="card custom-grid text-white surface-900 w-full p-0 text-end" *ngIf="checkCurrentSection() && vehicleDetailsList[i].totalPremium!=null && vehicleDetailsList[i].totalPremium!=0 && vehicleDetailsList[i].totalPremium!='0'" style="min-width: 200px !important;">
                                                    <div class="col-10">
                                                        <label>Total Premium</label>
                                                        <h6 class="text-white mt-0">{{vehicleDetailsList[i].totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="flex flex-wrap justify-content-center" *ngIf="checkEmptyCovers(menu)" >
                                                    <b>No Covers Available</b>
                                            </div>
                                            <div class="flex flex-wrap justify-content-center" *ngIf="!checkEmptyCovers(menu)" >
                                                <p-button label="Buy Policy"   *ngIf="!adminSection && (userType!='Issuer'  || (userType=='Issuer' && subuserType=='low' && endorsementSection)) && (statusValue == 'RA' || (userType=='Issuer' && subuserType=='low' && endorsementSection))" 
                                                (click)="onFormSubmit(i)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                                                <p-button label="Buy Policy" *ngIf="!adminSection && (userType!='Issuer') && statusValue != 'RA'"  (click)="onFormSubmit(i)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                                                <p-button label="Buy Policy"   *ngIf="userType=='Issuer' && subuserType=='low'  && statusValue != 'RA' && !endorsementSection"
                                                (click)="updateFinalizeYN('proceed')" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                                                <p-button label="Proceed"  *ngIf="adminSection"
                                                (click)="onUpdateFactor('',null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                    </ng-container> -->
                </div>
            </div>
           
        </ng-container>
    </ng-container>
    <!-- <ng-container *ngIf="productId=='59'">
        <p-tabView [activeIndex]="tabIndex" (onChange)="onTabClicked($event)">
            <ng-container *ngFor="let veh of vehicleDetailsList">
                <p-tabPanel [header]="getHeader()">
                
                    <div class="card">
                        <ng-container *ngIf="verticalSection">              
                            <div class="flex flex-wrap">
                              
                                <div class="col-12 md:col-6 lg:col-6">
                                    <ng-container *ngFor="let menu of vehicleDetailsList;let i = index;let last=last">
                                    <ng-container *ngIf="checkBenefitSection2(menu)">
                                        <h3>Default Covers</h3><br>
                                    </ng-container>
                                    <div class="flex flex-wrap justify-content-between">
                                        <ng-container *ngFor="let cover of menu.CoverList">
                                            <div class="card bg-blue-800 customCard text-0 p-3" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                <div class="grid">
                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                        <div class="flex align-items-center justify-content-between">
                                                            <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}</h3>
                                                            <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                        </div>
                                                    </div>
                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                        <div class="flex align-items-center justify-content-between">
                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                
                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured
                                                    &nbsp;&nbsp;<a
                                                        class="mt-0 viewDetailsText"
                                                        (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                    </a>
                                                </p><br>
                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount
                                                    &nbsp;&nbsp;<a
                                                    class="mt-0 viewDetailsText"
                                                    (click)="ongetTaxDetails(cover)">View Details</a>
                                                </p>
                                                
                                                <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                            </div>
                                        </ng-container>
                                    </div>
                                    <ng-container *ngIf="checkBenefitSection(menu)">
                                        <h3>Benefit Covers</h3><br>
                                    </ng-container>
                                    <div class="flex flex-wrap justify-content-between">
                                        <div class="grid">
                                            <ng-container *ngFor="let cover of menu.CoverList">
                                            
                                                <div class="customCard2 bg-blue-800 w-21rem border-500 text-0 ml-2" *ngIf="((cover.isSelected=='D' && cover.CoverageType=='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                    
                                                    <div class="grid">
                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <p class="mb-0"><b>{{getCoverNameDesc(cover)}}</b></p>
                                                                <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                            </div>
                                                        </div>
                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                 
                                                </div>
                                            </ng-container>
                                        </div>
                                            
                                    </div>
                                </ng-container>
                               
                                </div>
                                <div class="col-12 md:col-6 lg:col-6">
                                    <ng-container *ngFor="let menu of vehicleDetailsList;let i = index;let last=last">
                                    <ng-container *ngIf="checkBenefitSection2(menu)">
                                        <h3>Default Covers</h3><br>
                                    </ng-container>
                                    <div class="flex flex-wrap justify-content-between">
                                        <ng-container *ngFor="let cover of menu.CoverList">
                                            <ng-container *ngIf="(cover.isSelected!='D' && cover.CoverageType!='A') && ! checkCoverSelection(menu,cover)">
                                                <div class="card p-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                    <div class="grid">
                                                        <div class="col-11 md:col-11 lg:col-11 xl:col-11">
                                                            <div class="flex align-items-center justify-content-start">
                                                                <div>
                                                                    <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                    
                                                                </div>
                                                                <div class="customWidth">
                                                                    <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}</h5>
                                                                    <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-1 md:col-1 lg:col-1 xl:col-1">
                                                            <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y'"></i>
                                                        </div>
                                                    </div>
                                                    <div class="grid">
                                                        <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                            <label for="username">SubCover</label>
                                                            <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                            (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers"
                                                                optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                            </p-dropdown>
                                                        </div>
                                                    </div>
                                                   <div class="flex flex-wrap mt-3 justify-content-between">
                                                        <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                            <div class="mb-3">
                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured  &nbsp;&nbsp;<a
                                                                    class="mt-0 viewDetailsText2"
                                                                    (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                                </a></p><br>
                                                                <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount 
                                                                    &nbsp;&nbsp;<a
                                                                    class="mt-0 viewDetailsText2"
                                                                    (click)="ongetTaxDetails(cover)"
                                                                    >View Details</a>
                                                                </p>
                                                            </div>
                                                        </ng-container>
                                                       
                                                       <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                        <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                            <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                {{cover.PremiumIncludedTax | commaseparator}}
                                                            </ng-container>
                                                            <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                    0 Print1
                                                            </ng-container>
                                                        </ng-container>
                                                        <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                            0 Print2
                                                        </ng-container>
                                                          
                                                           &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                   </div>
                                               </div>
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                    <ng-container *ngIf="checkBenefitSection2(menu)">
                                        <h3>Benefit Covers</h3><br>
                                    </ng-container>
                                    <div class="flex flex-wrap justify-content-between">
                                        <ng-container *ngFor="let cover of menu.CoverList">
                                            <div class="card p-3 w-22rem" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && ! checkCoverSelection(menu,cover)">
                                                <div class="grid">
                                                    <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                        <div class="flex align-items-center justify-content-between">
                                                            <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                            <p class="mb-0"><b>{{getCoverNameDesc(cover)}}</b></p>
                                                            <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                        <div class="flex align-items-center justify-content-between">
                                                            <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                        </div>
                                                    </div>
                                                </div> 
                                               
                                            </div>
                                        </ng-container>
                                    </div>
                                   
                                    <div class="flex flex-wrap justify-content-between mt-2">
                                        <div></div>
                                        <div></div>
                                        <div class="mb-4" *ngIf="productId!='59'">
                                            <p-button label="Next" *ngIf="!checkNextBtn(menu,i)" (click)="onNext()" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                                        </div>
                                        <div class="flex flex-wrap justify-content-center" *ngIf="last">
                                                    <ng-container> <p-button label="Clauses" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container><p-button label="Exclusions" (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                    <ng-container><p-button label="Warranties" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                        </div>
                                        <div class="card grid text-white surface-900 px-4 py-2" (click)="showSidebar()" *ngIf="productId!='59'">
                                            <div class="col-6">
                                                <h6 class="text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                            </div>
                                            <p-button class="col-6" styleClass="surface-900" label="View Cart" severity="primary"></p-button>
                                        </div>
                                        <div class="card grid text-white surface-900 px-4 py-2" (click)="showSidebar()" *ngIf="productId=='59' && last">
                                            <div class="col-6">
                                                <h6 class="text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                            </div>
                                            <p-button class="col-6" styleClass="surface-900" label="View Cart" severity="primary"></p-button>
                                        </div>
                                    </div>
                                    </ng-container>
                                </div>
                          
                            </div>
                        </ng-container>
                        <ng-container *ngIf="!verticalSection">
                            <ng-container *ngIf="checkBenefitSection4()">
                                <h3>Default Covers</h3><br>
                            </ng-container>
                            <div class="flex flex-wrap">
                                <div class="col-12 md:col-12 lg:col-12 border-500">
                                    <ng-container *ngFor="let menu of vehicleDetailsList;let i = index;let last=last">
                                        <div class="flex flex-wrap justify-content-start">
                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                <div class="card bg-blue-800 customCard3 p-3 ml-3 w-11rem text-0" *ngIf="((cover.isSelected=='D' && cover.CoverageType!='A') && !endorseCovers) ||  checkCoverSelection(menu,cover)">
                                                    <div class="grid">
                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <h3 class="text-0 mb-0">{{getCoverNameDesc(cover)}}</h3>
                                                                <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                            </div>
                                                        </div>
                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured
                                                        &nbsp;&nbsp;<a
                                                            class="mt-0 viewDetailsText"
                                                            (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                        </a>
                                                    </p><br>
                                                    <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount
                                                        &nbsp;&nbsp;<a
                                                        class="mt-0 viewDetailsText"
                                                        (click)="ongetTaxDetails(cover)">View Details</a>
                                                    </p>
                                                    
                                                    <p><span class="font-bold text-4xl float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;<span class="text-base">( {{currencyCode}} )</span></span></p>
                                                </div>
                                            </ng-container>
                                        </div>
                                        
                                    </ng-container>
                                </div>   
                                <div class="col-12 md:col-12 lg:col-12 border-500">
                                    <ng-container *ngIf="checkBenefitSection4()">
                                        <h3>AddOn Covers</h3><br>
                                    </ng-container>
                                    <ng-container *ngFor="let menu of vehicleDetailsList;let i = index;let last=last">
                                        <div class="flex flex-wrap justify-content-start">
                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                <ng-container *ngIf="(cover.isSelected!='D' && cover.CoverageType!='A') && ! checkCoverSelection(menu,cover)">
                                                    <div class="card p-3 ml-3 w-25rem customOptCoverCard" [ngClass]="canbeChecked(cover) ? 'customOptCoverBg' : ''" >
                                                        <div class="grid">
                                                            <div class="col-11 md:col-11 lg:col-11 xl:col-11">
                                                                <div class="flex align-items-center justify-content-start">
                                                                    <div>
                                                                        <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">&nbsp;
                                                                        
                                                                    </div>
                                                                    <div class="customWidth">
                                                                        <h5 class="my-0 mr-4">{{getCoverNameDesc(cover)}}</h5>
                                                                        <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-1 md:col-1 lg:col-1 xl:col-1">
                                                                <i class="pi pi-spin pi-" style="font-size: 2rem" *ngIf="cover.isReferal === 'Y'"></i>
                                                            </div>
                                                        </div>
                                                        <div class="grid">
                                                            <div class="col-12 md:col-12 lg:col-12 xl:col-12" *ngIf="cover.SubCovers">
                                                                <label for="username">SubCover</label>
                                                                <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="cover.SubCoverId"
                                                                (onChange)="onChangeSubCover(null,cover,menu,true,$event)"  [options]="cover.SubCovers"
                                                                    optionLabel="SubCoverName" optionValue="SubCoverId" [placeholder]="'QUOTEGRID.Selectt' | translate">
                                                                </p-dropdown>
                                                            </div>
                                                        </div>
                                                        <div class="flex flex-wrap mt-3 justify-content-between">
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <div class="mb-3">
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.SumInsured | commaseparator}} </b>SumInsured  &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2"
                                                                            (click)="setDiscountDetails(menu,cover,'excess')">View Details
                                                                        </a></p><br>
                                                                        <p class="mb-0"><b><i class="pi pi-check-circle mr-3"></i> {{cover.PremiumAfterDiscount | commaseparator}} </b>Premium After Discount 
                                                                            &nbsp;&nbsp;<a
                                                                            class="mt-0 viewDetailsText2"
                                                                            (click)="ongetTaxDetails(cover)"
                                                                            >View Details</a>
                                                                        </p>
                                                                    </div>
                                                                </ng-container>
                                                            
                                                            <h4 class="mt-0 bg-orange-500 border-round-lg py-2 px-4 text-white" *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                <ng-container *ngIf="checkPremiumIncludedTax(cover,menu)">
                                                                    <ng-container *ngIf="cover.PremiumIncludedTax!='0' && cover.PremiumIncludedTax!=0 && cover.PremiumIncludedTax!=null">
                                                                        {{cover.PremiumIncludedTax | commaseparator}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="cover.PremiumIncludedTax=='0' || cover.PremiumIncludedTax==0 || cover.PremiumIncludedTax==null">
                                                                            0
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="!checkPremiumIncludedTax(cover,menu)">
                                                                    0
                                                                </ng-container>
                                                                
                                                                &nbsp;<span class="text-base">( {{currencyCode}} )</span></h4>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                        </div>
                                        
                                        <ng-container *ngIf="checkBenefitSection(menu) || checkBenefitSection2(menu)">
                                            <h3>Benefit Covers</h3><br>
                                        </ng-container>
                                        <div class="flex flex-wrap justify-content-between">
                                            <ng-container *ngFor="let cover of menu.CoverList">
                                                <div class="card p-3 w-22rem" *ngIf="(cover.isSelected!='D' && cover.CoverageType=='A') && ! checkCoverSelection(menu,cover)">
                                                    <div class="grid">
                                                        <div class="col-10 md:col-10 lg:col-10 xl:col-10">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <input type="checkbox" [checked]="canbeChecked(cover)" (change)="onSelectCover(cover,$event.target.checked,menu.Vehicleid,menu,'coverList','change')" id="vehicle1" name="vehicle1">
                                                                <p class="mb-0"><b>{{getCoverNameDesc(cover)}}</b></p>
                                                                <ng-container *ngIf="cover.isReferal=='Y'"><span class="redtxt">* {{cover.ReferalDescription}}</span></ng-container>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="col-2 md:col-2 lg:col-2 xl:col-2">
                                                            <div class="flex align-items-center justify-content-between">
                                                                <i class="pi pi-bookmark-fill customReferralBorder" *ngIf="cover.isReferal === 'Y'"></i>
                                                            </div>
                                                        </div>
                                                    </div> 
                                                </div>
                                            </ng-container>
                                        </div>
                                        
                                    </ng-container> 
                                    <div class="flex flex-wrap justify-content-center">
                                        <ng-container> <p-button label="Clauses" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                        <ng-container><p-button label="Exclusions" (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                        <ng-container><p-button label="Warranties" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                    </div>
                                    <div class="flex flex-wrap justify-content-end">
                                        <div class="card grid text-white surface-900 px-4 py-2" (click)="showSidebar()" *ngIf="productId=='59'">
                                            <div class="col-6">
                                                <h6 class="text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                                            </div>
                                            <p-button class="col-6" styleClass="surface-900" label="View Cart" severity="primary"></p-button>
                                        </div>
                                    </div>
                                    
                                </div>
                                        <div class="flex flex-wrap justify-content-between mt-2">
                                            <div></div>
                                            <div></div>
                                            <div class="mb-4" *ngIf="productId!='59'">
                                                <p-button label="Next" *ngIf="!checkNextBtn(menu,i)" (click)="onNext()" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                                            </div>
                                            <div class="flex flex-wrap justify-content-center" *ngIf="last">
                                                <ng-container> <p-button label="Clauses" (click)="ClausesStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                <ng-container><p-button label="Exclusions" (click)="ExclusioStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                <ng-container><p-button label="Warranties" (click)="WarrantyStatuss()" styleClass="mr-3 mb-3 p-button-outlined"></p-button></ng-container>
                                                
                                            </div>
                                            
                                        </div>
                            </div>
                        </ng-container>
                    </div>
             
                </p-tabPanel>
            </ng-container>
            
        </p-tabView>
    </ng-container> -->
    <!---->
    <div class="grid">
            <!-- <div class="lg:col-3 md:col-3 col-12" *ngIf="(subuserType=='low' && !endorsementSection)">
                <label class="input-form-label">Do You Finalize this Quote?</label>
                <div class="flex justify-content-start gap-3 mt-2">
                    <div class="flex align-items-center">
                        <p-radioButton name="Yes" value="Y" [(ngModel)]="finalizeYN"
                            inputId="finalize_Yes"></p-radioButton>
                        <span for="finalize_Yes" class="ml-2">Yes</span>
                    </div>
                    <div class="flex align-items-center">
                        <p-radioButton name="No" value="N" [(ngModel)]="finalizeYN"
                            inputId="finalize_No"></p-radioButton>
                        <span for="finalize_No" class="ml-2">No</span>
                    </div>
                </div>  
            </div> 
            <div class="lg:col-3 md:col-3 col-12" *ngIf="isMannualReferal != 'Y' && (coverSection && (((!statusValue || checkManualReferral()) && !adminSection) || (statusValue && adminSection ))) && ((!this.endorsementSection) || (this.endorsementSection && this.endorsementCategory=='Financial'))">
                <label class="input-form-label">Do You Like to Choose EMI Option?</label>
                <div class="flex justify-content-start gap-3 mt-1">
                    <div class="flex align-items-center">
                        <p-radioButton name="emiYN" value="Y" (change)="onEmiYNChange()" [(ngModel)]="emiYN"
                            inputId="emi_Yes"></p-radioButton>
                        <span for="emi_Yes" class="ml-2">Yes</span>
                    </div>
                    <div class="flex align-items-center">
                        <p-radioButton name="emiYN" value="N" (change)="onEmiYNChange()" [(ngModel)]="emiYN"
                            inputId="emi_No"></p-radioButton>
                        <span for="emi_No" class="ml-2">No</span>
                    </div>
                </div>
            </div> -->
            <div class="lg:col-3 md:col-3 col-12" *ngIf="isMannualReferal != 'Y' && (coverSection && (((!statusValue || checkManualReferral()) && !adminSection) || (statusValue && adminSection ))) && ((!this.endorsementSection) || (this.endorsementSection && this.endorsementCategory=='Financial')) && insuranceId!='100002' && insuranceId!='100028' && insuranceId!='100019' && emiShowYN!='N'" >
                <label class="input-form-label">{{ 'Modify.DoYouLiketoChooseEMIOption?' | translate}}</label>
                <div class="flex justify-content-start gap-3 mt-1">
                    <div class="flex align-items-center">
                        <p-radioButton name="emiYN" value="Y" (click)="onEmiYNChange()" [(ngModel)]="emiYN"
                            inputId="emi_Yes"></p-radioButton>
                        <span for="emi_Yes" class="ml-2">{{ 'Modify.Yes' | translate}}</span>
                    </div>
                    <div class="flex align-items-center">
                        <p-radioButton name="emiYN" value="N" (click)="onEmiYNChange()" [(ngModel)]="emiYN"
                            inputId="emi_No"></p-radioButton>
                        <span for="emi_No" class="ml-2">{{ 'Modify.No' | translate}}</span>
                    </div>
                </div>
            </div>
            <div class="lg:col-3 md:col-3 col-12" *ngIf="((!statusValue || checkManualReferral()) && !adminSection) && ((!this.endorsementSection) || (this.endorsementSection && this.endorsementCategory=='Financial'))">
                <label class="input-form-label">{{'PREMIUM.DoYouLiketoMovethisQuotetoReferralManually' | translate}}</label>
                <div class="flex justify-content-start gap-3 mt-2">
                    <div class="flex align-items-center">
                        <p-radioButton name="referral" value="Y" [(ngModel)]="isMannualReferal"
                            inputId="referral_Yes"></p-radioButton>
                        <span for="referral_Yes" class="ml-2">{{'PREMIUM.Yes' | translate}}</span>
                    </div>
                    <div class="flex align-items-center">
                        <p-radioButton name="referral" value="N" [(ngModel)]="isMannualReferal"
                            inputId="referral_No"></p-radioButton>
                        <span for="referral_No" class="ml-2">{{'PREMIUM.No' | translate}}</span>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="isMannualReferal == 'Y'">
                <div class="lg:col-3 md:col-3 col-12" *ngIf="((!statusValue || checkManualReferral()) && !adminSection) && ((!this.endorsementSection) || (this.endorsementSection && this.endorsementCategory=='Financial'))">
                    <div class="mb-3">
                            <label class="input-form-label">{{'PREMIUM.Remarks' | translate}}</label><br>
                            <textarea pInputTextarea cols="40" class="textAreaHeight" maxlength="1000" rows="2" [(ngModel)]="remarks"
                                ></textarea>
                    </div>
                </div>
            </ng-container>
    </div>
    <div class="lg:col-12 md:col-12 col-12 ml-3" *ngIf="emiSection && Emilist1.length!=0 && emiYN=='Y' && isMannualReferal != 'Y'">
        <table class="firstclass">
            <thead>
                <tr class="firstclass tableRowWidth">
                    <th scope="col" colspan="3"></th>
                    <th scope="col" colspan="4" class="textAlignCenter" class="spancommon span_font_size">
                        {{'PREMIUM.InstallmentAmount' | translate}} ({{localCurrency}})
                    </th>
                </tr>
                <tr class="firstclass">
                    <th scope="col" class="spancommon span_font_size textAlignCenter" style="text-align:center;">{{'PREMIUM.EMIMonth' | translate}}
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter">
                        {{'PREMIUM.InstallmentType' | translate}}</th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter">{{'PREMIUM.DueDate' | translate}}
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" *ngIf="yearlySection" id="first">
                       <span> {{yearlyName}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" *ngIf="nineMonthSection" id="second"
                        >{{nineMonthName}}
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="sixth" 
                        *ngIf="eightMonthSection">{{eightMonthName}}
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="third" 
                        *ngIf="sixMonthSection"><span>{{sixMonthName}}</span>
                        
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="fifth" 
                        *ngIf="fiveMonthSection"><span>{{fiveMonthName}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="fourth" 
                        *ngIf="threeMonthSection"><span>{{threeMonthName}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="fourth" 
                        *ngIf="twoMonthSection"><span>{{twoMonthName}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="common" 
                        *ngIf="commonSection"><span>{{commonName}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="common" 
                        *ngIf="commonSection1"><span>{{commonName1}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="common" 
                        *ngIf="commonSection2"><span>{{commonName2}}</span>
                    </th>
                    <th scope="col" class="spancommon span_font_size textAlignCenter" id="common" 
                        *ngIf="commonSection3"><span>{{commonName3}}</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <ng-container>
                    <tr *ngFor="let list of Emilist1;let i=index" class="firstclass">
                        <td class="spancommon span_font_size tableDataCustomBorder">
                            <ng-container *ngIf="list.EmiMonth!=0 && list.EmiMonth!='0'"></ng-container>{{list.EmiMonth}}
                        </td>
                        <td class="spancommon span_font_size tableDataCustomBorder">
                            {{list.InstallmentDesc}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder">
                            {{list.DueDate}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="yearlySection" id="first"
                            >
                            {{list.yearlyAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="nineMonthSection" id="second"
                            >
                            {{list.nineAmount|commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="eightMonthSection"
                             id="sixth">
                            {{list.eightAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="sixMonthSection" id="third"
                            >
                         {{list.sixAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="fiveMonthSection" id="fifth">
                            {{list.fiveAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="threeMonthSection" id="fourth">
                            {{list.threeAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="twoMonthSection" id="two">
                            {{list.twoAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="commonSection" id="two">
                            {{list.commonAmount | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="commonSection1" id="two">
                            {{list.commonAmount1 | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="commonSection2" id="two">
                            {{list.commonAmount2 | commaseparator}}</td>
                        <td class="spancommon span_font_size tableDataCustomBorder" *ngIf="commonSection3" id="two">
                            {{list.commonAmount3 | commaseparator}}</td>
                    </tr>
                </ng-container>
            </tbody>

        </table>

    </div>
    <div class="col-12 col-md-6" *ngIf="isMannualReferal != 'Y' && emiYN=='Y' && Emilist1.length!=0">
        <div class="mb-3 mt-3">
                <label class="input-form-label spancommon span_font_size">{{'PREMIUM.EMIPeriod' | translate}} {{this.emiPeriod}}</label>
                <div class="flex justify-content-start gap-3 mt-1">
                    <div class="flex align-items-center">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" value="null" [(ngModel)]="emiPeriod"
                            inputId="emi_None"></p-radioButton>
                        <span for="emi_None" class="ml-2">{{'PREMIUM.None' | translate}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="yearlySection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="yearlyValue" [(ngModel)]="emiPeriod"
                            inputId="emi_twelve"></p-radioButton>
                        <span for="emi_twelve" class="ml-2">{{yearlyName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="nineMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="nineValue" [(ngModel)]="emiPeriod"
                            inputId="emi_nine"></p-radioButton>
                        <span for="emi_nine" class="ml-2">{{nineMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="eightMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="eightValue" [(ngModel)]="emiPeriod"
                            inputId="emi_eight"></p-radioButton>
                        <span for="emi_eight" class="ml-2">{{eightMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="sixMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="sixValue" [(ngModel)]="emiPeriod"
                            inputId="emi_six"></p-radioButton>
                        <span for="emi_six" class="ml-2">{{sixMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="fiveMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="fiveValue" [(ngModel)]="emiPeriod"
                            inputId="emi_five"></p-radioButton>
                        <span for="emi_five" class="ml-2">{{fiveMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="threeMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="threeValue" [(ngModel)]="emiPeriod"
                        inputId="emi_three"></p-radioButton>
                        <span for="emi_three" class="ml-2">{{threeMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="twoMonthSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="twoValue" [(ngModel)]="emiPeriod"
                        inputId="emi_two"></p-radioButton>
                        <span for="emi_two" class="ml-2">{{twoMonthName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="commonSection">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="commonValue" [(ngModel)]="emiPeriod"
                        inputId="emi_two"></p-radioButton>
                        <span for="emi_two" class="ml-2">{{commonName}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="commonSection1">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="commonValue1" [(ngModel)]="emiPeriod"
                        inputId="emi_two"></p-radioButton>
                        <span for="emi_two" class="ml-2">{{commonName1}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="commonSection2">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="commonValue2" [(ngModel)]="emiPeriod"
                        inputId="emi_two"></p-radioButton>
                        <span for="emi_two" class="ml-2">{{commonName2}}</span>
                    </div>
                    <div class="flex align-items-center" *ngIf="commonSection3">
                        <p-radioButton name="emiPeriod" (change)="onEMIChange()" [value]="commonValue3" [(ngModel)]="emiPeriod"
                        inputId="emi_two"></p-radioButton>
                        <span for="emi_two" class="ml-2">{{commonName3}}</span>
                    </div>
                </div>
        </div>
    </div>
    <!-- <button type="button" pButton pRipple (click)="show()" label="Show" class="p-button-success"></button> -->
    <div class="flex flex-wrap justify-content-center mt-2">
        <div class="mb-4">
           <p-button [label]="'MOTORDETAILS.Back' | translate" id="Back"  (click)="ongetBack()" class="p-3 mr-2 text-l mr-0" styleClass="p-button-outlined mb-4" icon="pi pi-chevron-left"></p-button>&nbsp;
            <p-button [label]="'PREMIUM.ModifyRateDetails' | translate" id="ModifyRateDetails" *ngIf="userType=='issuer' || userType=='Issuer'"   [routerLink]="['/quotation/plan/premium-info']" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
            <ng-container *ngIf="!checkCurrentSection()">
                <p-button [label]="'PREMIUM.Proceed' | translate" id="Proceed"  (click)="onViewOverAllPremium()" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                <!-- <p-button label="Buy Policy"   *ngIf="!adminSection && (userType!='Issuer'  || (userType=='Issuer' && subuserType=='low' && endorsementSection)) && (statusValue == 'RA' || (userType=='Issuer' && subuserType=='low' && endorsementSection))" 
                (click)="onFormSubmit(null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
               <p-button label="Buy Policy" *ngIf="!adminSection && (userType!='Issuer') && statusValue != 'RA'"  (click)="onFormSubmit(null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
               <p-button label="Buy Policy"   *ngIf="userType=='Issuer' && subuserType=='low'  && statusValue != 'RA' && !endorsementSection"
               (click)="updateFinalizeYN('proceed')" class="p-3 text-l mr-0" styleClass="mb-4"></p-button> -->
               <p-button [label]="'PREMIUM.Proceed' | translate" id="Proceed" *ngIf="adminSection"
               (click)="onUpdateFactor('',null)" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
            </ng-container>
            <ng-container *ngIf="selectedSectionId && checkCurrentSection()">
                <p-button [label]="'PREMIUM.Proceed' | translate" id="Proceed"  *ngIf="!adminSection && (userType!='Issuer'  || (userType=='Issuer' && subuserType=='low' && endorsementSection)) && (statusValue == 'RA' || (userType=='Issuer' && subuserType=='low' && endorsementSection))" 
                (click)="onFormSubmit(i)" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                <p-button [label]="'PREMIUM.Proceed' | translate" id="Proceed" *ngIf="!adminSection && (userType!='Issuer') && statusValue != 'RA'"  (click)="onFormSubmit(i)" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                <p-button [label]="'PREMIUM.Proceed' | translate"  id="Proceed" *ngIf="userType=='Issuer' && subuserType=='low'  && statusValue != 'RA' && !endorsementSection"
                (click)="updateFinalizeYN('proceed')" class="text-l mr-0" styleClass="mb-4"></p-button>&nbsp;
                <p-button [label]="'PREMIUM.Proceed' | translate" id="Proceed"  *ngIf="adminSection"
                (click)="onUpdateFactor('',null)" class="text-l mr-0" styleClass="mb-4"></p-button>
            </ng-container>
                
        </div>
        
    </div>
</div>

<p-sidebar [(visible)]="sidebarVisible" position="right" styleClass="sm:20rem md:w-30rem">
    <ng-template pTemplate="header">
        <ng-container *ngIf="customerDetails">
            <h3>{{customerDetails?.ClientName}}</h3>
        </ng-container>
    </ng-template>
    <ng-template pTemplate="content">
        <!-- <p-chip label="Customer ID" icon="pi pi-user"></p-chip>
        <hr>  -->
        <div class="card w-full m-0 p-0">
            <ng-container *ngFor="let menu of vehicleDetailsList">
                <ng-container *ngIf="canbeChecked3(menu)">
                    <h5 class="m-0 p-0 mt-2 mb-0">&nbsp;{{getHeaderName(menu)}}</h5>
                    <div class="grid m-0 p-0">
                        <div class="col-12 md:col-12 lg:col-12 xl:col-12 m-0 p-0">
                            <table class="table table-bordered" style="width: 100%;margin-top:15px">
                                <thead>
                                    <tr>
                                        <th scope="col" class="p-2" style="min-width: 50px;padding: 8px;">
    
                                        </th>
                                        <th scope="col" class="text-center p-2"><b>{{'PREMIUM.CoverName' | translate}}</b></th>
                                        <th scope="col" class="text-center p-2"><b>{{'PREMIUM.Premium' | translate}} ({{currencyCode}})</b></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngFor="let cover of getCoverListFilter(menu.CoverList)">
                                        <ng-container *ngIf="canbeChecked2(cover)">
                                            <tr>
                                                <td>
                                                    &nbsp;<p-button icon="pi pi-trash" *ngIf="(cover.isSelected!='D') && !checkCoverSelection(menu,cover)" (onClick)="onSelectCover(cover,false,menu.Vehicleid,menu,'coverList','change')" severity="danger" styleClass="p-button-outlined"></p-button>
                                                </td>
                                                <td style="font-weight: 500;">&nbsp;<p class="mb-2">{{getCoverNameDesc(cover)}}<ng-container *ngIf="cover.ContentDesc">&nbsp;~ {{cover?.ContentDesc}}</ng-container></p></td>
                                                <td style="text-align: end;font-size: 16px;">
                                                    <p><span class="float-right">{{cover.PremiumIncludedTax | commaseparator}}&nbsp;&nbsp;</span></p>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </ng-container>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </ng-container>
            </ng-container>
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <div class="flex flex-wrap justify-content-between">
            <div class="mr-0">
                <ng-container *ngIf="!checkCurrentSection()">
                    <p-button [label]="'PREMIUM.Proceed' | translate"  (click)="onViewOverAllPremium()" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                    <!-- <p-button label="Buy Policy"   *ngIf="!adminSection && (userType!='Issuer'  || (userType=='Issuer' && subuserType=='low' && endorsementSection)) && (statusValue == 'RA' || (userType=='Issuer' && subuserType=='low' && endorsementSection))" 
                    (click)="onFormSubmit(null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                   <p-button label="Buy Policy" *ngIf="!adminSection && (userType!='Issuer') && statusValue != 'RA'"  (click)="onFormSubmit(null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                   <p-button label="Buy Policy"   *ngIf="userType=='Issuer' && subuserType=='low'  && statusValue != 'RA' && !endorsementSection"
                   (click)="updateFinalizeYN('proceed')" class="p-3 text-l mr-0" styleClass="mb-4"></p-button> -->
                   <p-button [label]="'PREMIUM.Proceed' | translate"  *ngIf="adminSection"
                   (click)="onUpdateFactor('',null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                </ng-container>
                <ng-container *ngIf="selectedSectionId && checkCurrentSection()">
                    <p-button [label]="'PREMIUM.Proceed' | translate"   *ngIf="!adminSection && (userType!='Issuer'  || (userType=='Issuer' && subuserType=='low' && endorsementSection)) && (statusValue == 'RA' || (userType=='Issuer' && subuserType=='low' && endorsementSection))" 
                    (click)="onFormSubmit(i)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                    <p-button [label]="'PREMIUM.Proceed' | translate" *ngIf="!adminSection && (userType!='Issuer') && statusValue != 'RA'"  (click)="onFormSubmit(i)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                    <p-button [label]="'PREMIUM.Proceed' | translate"   *ngIf="userType=='Issuer' && subuserType=='low'  && statusValue != 'RA' && !endorsementSection"
                    (click)="updateFinalizeYN('proceed')" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                    <p-button [label]="'PREMIUM.Proceed' | translate"  *ngIf="adminSection"
                    (click)="onUpdateFactor('',null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
                </ng-container>
            </div>
            <div class="text-white surface-900 px-6 py-3 border-round-lg flex" (click)="showSidebar()">
                <h5 class="text-white mb-1 mr-3">{{'PREMIUM.Total' | translate}}</h5>
                <div>
                    <h6 class="text-white my-0">{{totalPremium | commaseparator}}</h6>
                </div>
            </div>
        </div>
    </ng-template>
</p-sidebar>

<p-dialog class="p-su-header" [header]="'PREMIUM.Excess&DiscountDetails' | translate" [(visible)]="excessDetailModal" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="grid">
        <div class="col-12 sm:col-12 md:col-12">
            <table class="table table-bordered customTableWidth" >
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col" class="textEnd" ><b class="customDangerColor" >{{'PREMIUM.Excess' | translate}} (%)</b></th>
                        <th scope="col" class="textEnd"><b style="color:#d81b60">{{'PREMIUM.ExcessAmount' | translate}} ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 5px !important;"><span class="ui-ex" id="ExcessAlt">{{'PREMIUM.Excess' | translate}}</span></td>
                        <td style="text-align: center;float:right !important;padding: 5px !important;">
                            <div class="input-group">
                                <input type="text" disabled class="input-form-control without-icon" id="ExcessPercent" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                padding: 4px 12px;" [(ngModel)]="excessPercent">
                            </div>
                        </td>
                        <td style="text-align: end;padding: 5px !important;">
                                <ng-container *ngIf="excessAmount==null || excessAmount=='0.0' || excessAmount=='0'">
                                    <div class="input-group">
                                        <input type="text" disabled class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                        padding: 4px 12px;" id="ExcessAmount" [(ngModel)]="excessAmount">
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="excessAmount!=null && excessAmount!='0.0' && excessAmount!='0'">
                                    <div class="input-group">
                                        <input type="text" disabled class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                        padding: 4px 12px;" id="ExcessAmount" [(ngModel)]="excessAmount">
                                    </div>
                                    
                                </ng-container>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="grid">
        <div class="col-12 sm:col-12 md:col-12">
            <table class="table table-bordered" *ngIf="!discountEndtSection" style="width: 100%;margin-top:15px">
                <thead>
                    <tr>
                        <th scope="col" style="text-align: left;padding:12px 14px"><b>{{'PREMIUM.Description' | translate}}</b></th>
                        <th scope="col" style="text-align: center;padding:12px 14px"><b>{{'PREMIUM.Rate' | translate}}</b></th>
                        <th scope="col" style="text-align: end;padding:12px 14px"><b>{{'PREMIUM.Amount' | translate}} ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngIf="productId!='42'">
                        <td style="padding:12px 14px">{{'PREMIUM.SumInsured' | translate}}</td>
                        <td></td>
                        <td style="text-align: end;padding:12px 14px"><span class="spancommon span_font_size">{{sumInsured | commaseparator}}</span></td>
                    </tr>
                    <tr>
                        <td style="max-width: 300px;padding:12px 14px">{{CoverName}}&nbsp;{{'PREMIUM.Premium' | translate}}</td>
                        <td style="text-align: end;padding:12px 14px">
                                <ng-container *ngIf="calcType=='A'">
                                    <ng-container *ngIf="((!adminSection && userType!='Issuer') || endorsementSection ) || finalizeYN=='Y'">
                                        <span class="spancommon span_font_size" [id]="'ratePercent'+getCoverNameAlt(CoverName)">{{ratePercent}}</span>
                                    </ng-container>
                                    <ng-container *ngIf="adminSection || (userType=='Issuer' && finalizeYN!='Y' && !endorsementSection)">
                                        <div class="input-group">
                                            <input type="text" class="input-form-control without-icon" style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;
                                            padding: 4px 12px;" [id]="'ratePercent'+getCoverNameAlt(CoverName)"
                                            [(ngModel)]="ratePercent">
                                              <span class="input-group-text" style="padding: 0.05rem 0.5rem;" id="basic-addon2">{{currencyCode}}</span>
                                            
                                        </div>
                                    </ng-container>
                                </ng-container>
                                <ng-container *ngIf="calcType=='P'">
                                        <div class="input-group">
                                            <input type="text" class="input-form-control without-icon" disabled  style="border-radius:5px;width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;padding: 4px 12px;"
                                            [(ngModel)]="ratePercent"  [id]="'ratePercent'+getCoverNameAlt(CoverName)">
                                              <span class="input-group-text" style="padding: 0.05rem 0.5rem;" id="basic-addon2">%</span>
                                          
                                        </div>
                                </ng-container>
                        </td>
                        <td style="text-align: end;padding:12px 14px">
                            <span class="spancommon span_font_size"  [id]="'beforeDiscount'+getCoverNameAlt(CoverName)" id="beforeDiscount">{{beforeDiscount | commaseparator}}</span>
                        </td>
                    </tr>
                    <ng-container *ngIf="discountList.length!=0">
                        <tr>
                            <th scope="col">{{'PREMIUM.Discounts' | translate}}</th>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr *ngFor="let discount of discountList">
                            <td style="padding:12px 14px">{{discount.DiscountDesc}}</td>
                            <td style="text-align: end;padding:12px 14px">
                                <ng-container *ngIf="discount.DiscountCalcType!='P'">
                                    <ng-container *ngIf="discount.DiscountRate!=null">
                                        <span class="spancommon span_font_size" id="DiscountRate">0</span>
                                    </ng-container>
                                </ng-container>
                                <ng-container *ngIf="discount.DiscountCalcType=='P'">
                                    <input type="text" [id]="'DiscountRate'+i" class="input-form-control without-icon" disabled [id]="'DiscountRate'+i"
                                        style="width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;padding: 4px 12px;"
                                        [(ngModel)]="discount['DiscountRate']" maxlength="5">
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding:12px 14px">
                                <ng-container *ngIf="discount.DiscountAmount==null || discount.DiscountAmount=='0.0'">
                                    0
                                </ng-container>
                                <ng-container *ngIf="discount.DiscountAmount!=0 && discount.DiscountAmount!=null || discount.DiscountAmount!='0.0'">
                                        <span [id]="'DiscountAmount'+i+getCoverNameAlt(CoverName)">{{discount.DiscountAmount | commaseparator}}</span>
                                </ng-container>
                            </td>
                        </tr>
                    </ng-container>

                    <ng-container *ngIf="loadingList.length!=0">
                        <tr>
                            <th scope="col" style="text-align: start;padding:12px 14px" colspan="3">{{'PREMIUM.Loadings' | translate}}</th>
                        </tr>
                        <tr *ngFor="let loading of loadingList;let i=index">
                            <td style="padding:12px 14px">{{loading.LoadingDesc}}</td>
                            <td style="text-align: end;padding:12px 14px">
                                
                                    <ng-container *ngIf="loading.LoadingCalcType!='P'">
                                        <ng-container *ngIf="loading.LoadingRate!=null">
                                            <span class="spancommon span_font_size" id="LoadingRate">0</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='P'">
                                        <input type="text" [id]="'Rate'+i" class="input-form-control without-icon" disabled [id]="'LoadingRate'+i"
                                            style="width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;padding: 4px 12px;"
                                            [(ngModel)]="loading['LoadingRate']" maxlength="5">
                                    </ng-container>
                            </td>
                            <td style="text-align: end;padding:12px 14px">
                                    <ng-container *ngIf="loading.LoadingCalcType!='A'">
                                        <ng-container
                                            *ngIf="loading.LoadingAmount==0 || loading.LoadingAmount==null">
                                            0
                                        </ng-container>
                                        <ng-container
                                            *ngIf="loading.LoadingAmount!=0 && loading.LoadingAmount!=null">
                                            <span class="spancommon span_font_size" [id]="'LoadingAmount'+i+getCoverNameAlt(CoverName)">{{loading.LoadingAmount}}</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='A'">
                                        <input type="text" [id]="'Amount'+i+getCoverNameAlt(CoverName)" disabled class="input-form-control without-icon"
                                            (keyup)="premiumComma(i,loading.LoadingAmount)"
                                            style="width: auto !important;max-width:300px;text-align:right !important"
                                            [(ngModel)]="loading['LoadingAmount']">
                                    </ng-container>
                            </td>
                        </tr>

                    </ng-container>
                   
                    
                </tbody>
                <tfoot>
                    <tr>
                        <td style="padding:12px 14px"><b>{{'PREMIUM.Total' | translate}}</b></td>
                        <td></td>
                        <td style="text-align: end;padding:12px 14px"><span class="spancommon span_font_size">
                            <b id="afterDiscount" *ngIf="afterDiscount!=0 && afterDiscount!='0'">{{afterDiscount | commaseparator}}</b>
                            <b id="afterDiscount" *ngIf="afterDiscount==0 || afterDiscount=='0'">{{afterDiscount}}</b>
                        </span></td>
                    </tr>
                </tfoot>
            </table>
            <table class="table table-bordered" *ngIf="discountEndtSection">
                <thead>
                    <tr>
                        <th scope="col"><b>{{'PREMIUM.Description' | translate}}</b></th>
                        <th scope="col" style="text-align: end;"><b>{{'PREMIUM.Rate' | translate}}</b></th>
                        <th scope="col" style="text-align: end;"><b>{{'PREMIUM.Amount' | translate}} ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{'PREMIUM.ActualSumInsured' | translate}}</td>
                        <td style="text-align: end;">
                               
                        </td>
                        <td style="text-align: end;">
                            <span class="spancommon span_font_size" id="sumInsured">{{sumInsured | commaseparator}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td>{{'PREMIUM.DifferenceSumInsured' | translate}}</td>
                        <td style="text-align: end;">
                               
                        </td>
                        <td style="text-align: end;">
                            <span class="spancommon span_font_size" id="differenceSI">{{differenceSI | commaseparator}}</span>
                        </td>
                    </tr>
                    <tr>
                        <td>{{'PREMIUM.PremiumBeforeDiscount' | translate}}</td>
                        <td style="text-align: end;">
                                <ng-container *ngIf="!adminSection">
                                    <span class="spancommon span_font_size" id="ratePercentAlt">{{ratePercent}}</span>
                                </ng-container>
                                <ng-container *ngIf="(adminSection)">
                                    <input type="text" id="ratePercentAlt"  style="width: auto !important;max-width:80px;text-align:right !important"
                                        [(ngModel)]="ratePercent">
                                </ng-container>
                        </td>
                        <td style="text-align: end;">
                            <span class="spancommon span_font_size" id="beforeDiscount">{{beforeDiscount | commaseparator}}</span>
                        </td>
                    </tr>
                    <ng-container *ngIf="discountList.length!=0">
                        <tr>
                            <th style="text-align: start;" colspan="3" scope="col">{{'PREMIUM.Discounts' | translate}}</th>
                        </tr>
                        <tr *ngFor="let discount of discountList;let i =index">
                            <td  colspan="3">{{discount.DiscountDesc}}</td>
                            <td></td>
                            <td style="text-align: end;">
                                <ng-container *ngIf="discount.DiscountAmount==null || discount.DiscountAmount=='0.0'">
                                    0
                                </ng-container>
                                <ng-container *ngIf="discount.DiscountAmount!=0 && discount.DiscountAmount!=null || discount.DiscountAmount!='0.0'">
                                        <span [id]="'beforeDiscount'+i"></span>{{discount.DiscountAmount | commaseparator}}
                                </ng-container>
                            </td>
                        </tr>
                    </ng-container>

                    <ng-container *ngIf="loadingList.length!=0">
                        <tr>
                            <th scope="col" style="text-align: start;" colspan="3">{{'PREMIUM.Loadings' | translate}}</th>
                        </tr>
                        <tr *ngFor="let loading of loadingList;let i=index">
                            <td>{{loading.LoadingDesc}}</td>
                            <td style="text-align: end;">
                                
                                    <ng-container *ngIf="loading.LoadingCalcType!='P'">
                                        <ng-container *ngIf="loading.LoadingRate!=null">
                                            <span class="spancommon span_font_size">0</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='P'">
                                        <input type="text" [id]="'Rate'+i" disabled class="input-form-control without-icon"
                                            style="width: auto !important;max-width:80px;text-align:right !important"
                                            [(ngModel)]="loading['LoadingRate']" maxlength="5">
                                    </ng-container>
                            </td>
                            <td style="text-align: end;">
                                
                                    <ng-container *ngIf="loading.LoadingCalcType!='A'">
                                        <ng-container
                                            *ngIf="loading.LoadingAmount==0 || loading.LoadingAmount==null">
                                            0
                                        </ng-container>
                                        <ng-container *ngIf="loading.LoadingAmount!=0 && loading.LoadingAmount!=null">
                                            <span class="spancommon span_font_size" [id]="'LoadingAmount'+i">{{loading.LoadingAmount}}</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='A'">
                                        <input type="text" [id]="'Amount'+i" class="input-form-control without-icon"
                                            (keyup)="premiumComma(i,loading.LoadingAmount)"
                                            style="width: auto !important;max-width:300px;text-align:right !important"
                                            [(ngModel)]="loading['LoadingAmount']">
                                    </ng-container>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
                <tfoot>
                    <tr>
                        <td><b>{{'PREMIUM.Total' | translate}}</b></td>
                        <td></td>
                        <td style="text-align: end;">
                            <b class="spancommon span_font_size" *ngIf="beforeDiscount!=0 && beforeDiscount!='0'">{{beforeDiscount | commaseparator}}</b>
                            <b class="spancommon span_font_size" *ngIf="beforeDiscount==0 || beforeDiscount=='0'">{{beforeDiscount}}</b>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="flex justify-content-end">

        <p-button class="p-3 text-l pi-button mr-0" (click)="excessDetailModal=!excessDetailModal" id="closeExcess">{{'PREMIUM.close' | translate}}</p-button>
    </div>
</p-dialog>
<p-dialog class="p-su-header" header="Discount Details" [(visible)]="discountDetailModal" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="grid">
        <div class="col-12 sm:col-12 md:col-12">
            <table class="table table-bordered" style="width: 100%;margin-top:15px">
                <thead>
                    <tr>
                        <th scope="col" style="padding: 8px;"><b>{{'PREMIUM.Description' | translate}}</b></th>
                        <th scope="col" style="text-align: center;padding: 8px;"><b>{{'PREMIUM.Rate' | translate}}</b></th>
                        <th scope="col" style="text-align: center;padding: 8px;"><b>{{'PREMIUM.Amount' | translate}} ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="text-align: start;padding: 8px;">{{'PREMIUM.PremiumAfterDiscount' | translate}} </td>
                        <td style="text-align: center;padding: 8px;">
                            {{'PREMIUM.ProRata' | translate}} ({{proRataPercent}}%)
                        </td>
                        <td style="text-align: end;padding: 8px;">
                            <ng-container
                            *ngIf="premiumAfterDiscount==null || premiumAfterDiscount==0"><b>0</b></ng-container>
                            <ng-container
                            *ngIf="premiumAfterDiscount!=null && premiumAfterDiscount!=0"><b id="premiumAfterDiscount">{{premiumAfterDiscount | commaseparator}}</b></ng-container>
                        </td>
                    </tr>
                    <tr *ngIf="MinimumPremium!=0 && MinimumPremium!='0'">
                        <td style="text-align: start;padding: 8px;">{{'PREMIUM.MinimumPremium' | translate}}</td>
                        <td></td>
                        <td style="text-align: end;padding: 8px;" id="MinimumPremium">
                            {{MinimumPremium | number: '1.0'}}
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;">{{'PREMIUM.ExcludedTax' | translate}}</td>
                        <td></td>
                        <td style="text-align: end;padding: 8px;" id="premiumExcluedTax">
                            {{premiumExcluedTax}}
                        </td>
                    </tr>
                    <ng-container *ngIf="dependantTaxList.length!=0">
                        <tr *ngFor="let tax of dependantTaxList;let i=index">
                            <td style="text-align: start;padding: 8px;">{{tax.TaxDesc}}</td>
                            <td style="text-align: center;padding: 8px;">
                                <ng-container *ngIf="tax.CalcType!='A'">
                                    <span [id]="'taxRate'+i">{{tax.TaxRate}}</span>&nbsp;%
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;">
                                <span [id]="'TaxAmount'+i">{{tax.TaxAmount}}</span>
                            </td>
                        </tr>
                    </ng-container>
                    <ng-container *ngIf="taxList.length!=0">
                        <tr *ngIf="premiumBeforeTax!=0 && premiumBeforeTax!='0'">
                            <td style="text-align: start;padding: 8px;">{{'PREMIUM.PremiumBeforeTax' | translate}}</td>
                            <td></td>
                            <td style="text-align: end;padding: 8px;">
                                <span [id]="'premiumBeforeTax'+i">{{premiumBeforeTax}}</span>
                            </td>
                        </tr>
                        <tr>
                            <th style="text-align: start;" colspan="3" scope="col">Taxes</th>
                        </tr>
                        <tr *ngFor="let tax of taxList">
                            <td style="text-align: start;padding: 8px;">{{tax.TaxDesc}}</td>
                            <td style="text-align: center;padding: 8px;">
                                <ng-container *ngIf="tax.CalcType!='A'">
                                    <span [id]="'TaxRate'+i">{{tax.TaxRate}}</span>&nbsp;%
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;">
                                <span [id]="'TaxAmount'+i">{{tax.TaxAmount}}</span>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
                <tfoot>
                    <tr>
                        <td style="padding: 8px;"><b>{{'PREMIUM.TotalPremium' | translate}}</b></td>
                        <td></td>
                        <td style="text-align: end;padding: 8px;"><span class="spancommon span_font_size" id="premiumIncluedTax">
                            <ng-container *ngIf="premiumIncluedTax!=0 && premiumIncluedTax!='0'">
                                <b>{{premiumIncluedTax | commaseparator}}</b>
                            </ng-container>
                            <ng-container *ngIf="premiumIncluedTax==0 || premiumIncluedTax=='0' || premiumIncluedTax==null">
                                    <b>0</b>
                            </ng-container>
                        </span></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="flex justify-content-end">
        <p-button class=" text-l pi-button mr-0"  (click)="discountDetailModal=!discountDetailModal" id="discountClose">{{'PREMIUM.close' | translate}}</p-button>
    </div>
</p-dialog>
<p-dialog class="p-su-header" [header]="'PREMIUM.FactorDetails' | translate" [(visible)]="factorDetailModal" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="grid">
        <div class="col-12 lg:col-12 md:col-12 xl:col-12">
            <ng-container *ngIf="factorViewList.length!=0">
                <table class="table table-bordered" style="width: 100%;margin-top:15px">
                    <thead>
                        <tr>
                            <th scope="col" style="padding: 8px;"><b>{{'PREMIUM.FactorName' | translate}}</b></th>
                            <th scope="col" style="text-align: center;padding: 8px;"><b>{{'PREMIUM.OwnDamage' | translate}}</b></th>
                            <th scope="col" style="text-align: center;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'"><b>{{'PREMIUM.WindScreen' | translate}}</b></th>
                            <th scope="col" style="text-align: center;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'"><b>{{'PREMIUM.Theft' | translate}}</b></th>
                            <th scope="col" style="text-align: center;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'"><b>{{'PREMIUM.Fire' | translate}}</b></th>
                            <th scope="col" style="text-align: center;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'"><b>{{'PREMIUM.Thirdparty' | translate}}</b></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let factor of factorViewList">
                            <td style="text-align: start;padding: 8px;">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                   <b>{{factor.FactorName}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                    {{factor.FactorName}}
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                    <b>{{factor.OwnDamage}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                   {{factor.OwnDamage}}
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                    <b>{{factor.Windscreen}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                    {{factor.Windscreen}}
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                   <b>{{factor.Theft}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                    {{factor.Theft}}
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                   <b>{{factor.Fire}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                    {{factor.Fire}}
                                </ng-container>
                            </td>
                            <td style="text-align: end;padding: 8px;" *ngIf="insuranceId!='100028' && insuranceId!='100044'">
                                <ng-container *ngIf="factor.FactorName=='Annual Peril Risk Premium Amount' || factor.FactorName=='Annual Peril Risk Premium Rate'">
                                    <b>{{factor.ThirdParty}}</b>
                                </ng-container>
                                <ng-container *ngIf="factor.FactorName!='Annual Peril Risk Premium Amount' && factor.FactorName!='Annual Peril Risk Premium Rate'">
                                    {{factor.ThirdParty}}
                                </ng-container>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </ng-container>
            <ng-container *ngIf="factorViewList.length==0">
                <div class="flex flex-wrap justify-content-center">
                    {{'PREMIUM.NoDataAvailable' | translate}}
                </div>
            </ng-container>
        </div>
    </div>
    <div class="row" *ngIf="factorPremiumDetails && insuranceId!='100028' && insuranceId!='100044'">
        <div class="flex flex-wrap justify-content-center">
            <b><u>{{'PREMIUM.ANNUALPREMIUMDETAILS' | translate}}</u></b>
        </div>
        <div class="col-12 lg:col-7 md:col-7 xl:col-7 md:col-offset-3 lg:col-offset-3 xl:col-offset-3">
            <table class="table table-bordered" style="width: 100%;margin-top:15px">
                <tbody>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.RiskPremiumAmount' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.RiskPremiumAmt | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.RiskPremiumRate' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.RiskPremiumRate}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.TargetLossRatio' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.TargetLossRatio | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.MinimumRate' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.MinRate | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.MinimumRateWithLoading' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.MinRateWithLoading | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.MinimumPremium' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.MinPremium | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.MinimumPremiumWithLoading' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.MinPremiumWithLoading | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.FinalPremiumAmount(exclVAT)' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.FinalPremiumAmtExclTax | commaseparator}}</b></td>
                    </tr>
                    <tr>
                        <td style="text-align: start;padding: 8px;"><b>{{'PREMIUM.FinalPremiumRate(exclVAT)' | translate}}</b></td>
                        <td style="text-align: end;padding: 8px;"><b>{{factorPremiumDetails.FinalPremiumRateExclTax | commaseparator}}</b></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="flex justify-content-center">
        <p-button class=" text-l pi-button mr-0"  (click)="factorDetailModal=!factorDetailModal">{{'PREMIUM.close' | translate}}</p-button>
    </div>
</p-dialog>
<p-dialog class="p-su-header" [header]="'PREMIUM.ClausesDetails' | translate" [(visible)]="onClauses" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="flex flex-wrap justify-content-between mt-2" >
        <div>
            <label for="username">{{'PREMIUM.Section' | translate}}</label>
            <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="termsSectionId" [options]="termsSectionList" (onChange)="viewCondition('change')"
                optionLabel="SectionName" optionValue="SectionId" [placeholder]="'QUOTEGRID.Selectt' | translate">
            </p-dropdown>
        </div>
        <!-- <div *ngIf="!newAddClauses && userType!='Broker'">
            <p-button [label]="'MOTORDETAILS.AddNewClause' | translate" icon="pi pi-plus" (click)="onAddClause()"></p-button>
        </div> -->
    </div>
    <div class="grid mt-2">
        <div class="col-12 md:col-12 lg:col-12 mt-2">
            <p-table #dtEmployee [value]="ClausesData" *ngIf="!newAddClauses"
            [tableStyle]="{'min-width':'50rem'}" [paginator]="true"
             [rows]="5">
             <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columns">{{column}} <p-sortIcon [field]="column"></p-sortIcon></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer>
              <tr>
                <td>{{ customer.SubId }}</td>
                <td>{{ customer.SubIdDesc }}</td>
              </tr>
            </ng-template>
            </p-table>
            <!-- <table class="table table-bordered mt-2 p-2 w-full" *ngIf="userType!='Broker' && !newAddClauses">
                <thead>
                    <tr>
                        <th class="p-2">{{'QUOTEGRID.Select' | translate}}</th>
    
                        <th class="p-2">{{'PREMIUM.Description' | translate}}</th>
                    </tr>
                </thead>
    
                <tbody
                    *ngFor="let clause of ClausesData let i=index;">
                    <tr>
                        <td class="flex flex-wrap justify-content-center" style="border-bottom: 0px solid grey !important;">
                            <div class="mt-2" >
                                <input type="checkbox" (change)="onCheckUser(i,$event,clause)" [disabled]="endorsementSection"
                                [checked]="clause.TypeId == 'D' ? true : false">
                            </div>
                           
                        </td>
    
                        <td class="p-2">
                            <textarea [(ngModel)]="clause.SubIdDesc" class="w-full" cols="60" pInputText [disabled]="endorsementSection"
                                rows="2"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table> -->
            <ng-container *ngIf="newAddClauses">
                <button class="btn btn-primary" style="float:right;margin-bottom:13px;" (click)="addItem()">{{'PREMIUM.AddNew' | translate}}</button>
                <table class="mt-5 ml-2">
                  <thead>
                      <th>{{'PREMIUM.ClausesDescription' | translate}}</th>
                      <th>{{'MOTORQUOTE.Delete' | translate}}</th>
                  </thead>
                  <tbody>
                      <tr *ngFor="let row of jsonList;let i = index">
                          <td>
                            <div class="input-control-container">
                                <div class="input-form-box">
                                    <textarea  [(ngModel)]="row.SubIdDesc" cols="60" rows="2"></textarea>
                                </div>
                            </div>
                          </td>
                          <td class="mt-2">
                              <button class="btn btn-primary" (click)="deleteClauses(row)"> <i
                                      class="fa fa-trash"></i></button>
                          </td>
                      </tr>

                  </tbody>
              </table>
              </ng-container>
        </div>
    </div>
    <div class="flex flex-wrap justify-content-center mt-2">
        <ng-container *ngIf="!newAddClauses">
            <div>
                <p-button [label]="'PREMIUM.close' | translate" class="p-button-outlined" styleClass="p-button-outlined" (click)="OnClose()"></p-button>&nbsp;
            </div>
            <!-- <div>
                <p-button [label]="'PREMIUM.Submit' | translate" *ngIf="userType!='Broker'" class="p-button-success" (click)="saveClausesData(ClausesData,'Clauses')"></p-button>
            </div> -->
        </ng-container>
        <ng-container *ngIf="newAddClauses">
            <p-button class="p-button-outlined" [label]="'PREMIUM.Cancel' | translate" styleClass="p-button-outlined" (click)="newAddClauses=!newAddClauses"></p-button>&nbsp;
            <p-button class="mr-4 mb-4" [label]="'PREMIUM.Save' | translate" (click)="saveChanges()"></p-button>
            <!-- <button type="button" class="btn btn-primary ml-3" (click)="saveChanges()">Save
                changes</button> -->
        </ng-container>
    </div>
</p-dialog>
<p-dialog class="p-su-header" [header]="'PREMIUM.ExclusionDetails' | translate" [(visible)]="onExclusion" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="flex flex-wrap justify-content-between mt-2" >
        <div>
            <label for="username">{{'PREMIUM.Section' | translate}}</label>
            <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="termsSectionId" [options]="termsSectionList" (onChange)="viewCondition('change')"
                optionLabel="SectionName" optionValue="SectionId" [placeholder]="'QUOTEGRID.Selectt' | translate">
            </p-dropdown>
        </div>
        <!-- <ng-container *ngIf="userType!='Broker' && !newAddExclusion">
            <div *ngIf="!newAddExclusion">
                <p-button [label]="'PREMIUM.AddNewExclusion' | translate" icon="pi pi-plus" (click)="onAddExclusion()"></p-button>
            </div>
        </ng-container> -->
        <!-- <div>
            <p-button label="Add New Exclusion" icon="pi pi-plus" (click)="onAddExclusion()"></p-button>
        </div> -->
    </div>
    <div class="grid mt-2">
        <div class="col-12 md:col-12 lg:col-12 mt-2">
            <p-table #dtEmployee [value]="ExclusionData" *ngIf="!newAddExclusion"
            [tableStyle]="{'min-width':'50rem'}" [paginator]="true"
             [rows]="5">
             <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columns">{{column}} <p-sortIcon [field]="column"></p-sortIcon></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer>
              <tr>
                <td>{{ customer.SubId }}</td>
                <td>{{ customer.SubIdDesc }}</td>
              </tr>
            </ng-template>
            </p-table>
            <!-- <table class="table table-bordered mt-2 p-2 w-full" *ngIf="userType!='Broker' && !newAddExclusion">
                <thead>
                    <tr>
                        <th class="p-2">{{'PREMIUM.Select' | translate}}</th>
    
                        <th class="p-2">{{'PREMIUM.Description' | translate}}</th>
                    </tr>
                </thead>
    
                <tbody
                    *ngFor="let clause of ExclusionData; let i=index;">
                    <tr>
                        <td class="flex flex-wrap justify-content-center" style="border-bottom: 0px solid grey !important;">
                            <div class="mt-2" >
                                <input type="checkbox" (change)="onCheckUser(i,$event,clause)" [disabled]="endorsementSection"
                                [checked]="clause.TypeId == 'D' ? true : false">
                            </div>
                           
                        </td>
    
                        <td class="p-2">
                            <textarea [(ngModel)]="clause.SubIdDesc" class="w-full" cols="60" pInputText [disabled]="endorsementSection"
                                rows="2"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table> -->
        </div>
        <ng-container *ngIf="newAddExclusion" class="mt-3">
            <div style="float: right !important;">
            <p-button class="mb-4" [label]="'PREMIUM.AddNew' | translate" (click)="addExclusion()"></p-button>
            </div>
            <!-- <button class="btn btn-primary" (click)="addExclusion()">Add New</button> -->
            <table class="mt-5 ml-2">
              <thead>
                  <th>{{'PREMIUM.ExclusionDescription' | translate}}</th>
                  <th>{{'MOTORQUOTE.Delete' | translate}}</th>
              </thead>
              <tbody>
                  <tr *ngFor="let row of ExclusionList;let i = index">
                    
                      <div class="input-control-container">
                        <div class="input-form-box">
                            <textarea  [(ngModel)]="row.SubIdDesc" cols="60" rows="2"></textarea>
                        </div>
                    </div>
                      
                      <td style="height:20px;">
                        <p-button class="mr-4 mb-4" (click)="deleteExclusion(row)">
                            <i class="fa fa-trash"></i>
                        </p-button>
                          <!-- <button class="btn btn-primary" (click)="deleteExclusion(row)"> <i
                                  class="fa fa-trash"></i></button> -->
                      </td>
                  </tr>

              </tbody>
          </table>
          </ng-container>
    </div>
    <div class="flex flex-wrap justify-content-center mt-2">
        <ng-container *ngIf="!newAddExclusion">
        <div>
            <p-button [label]="'PREMIUM.close' | translate" class="p-button-outlined" styleClass="p-button-outlined" (click)="OnClose()"></p-button>&nbsp;
        </div>
        <!-- <div>
            <p-button [label]="'PREMIUM.Submit' | translate" *ngIf="userType!='Broker'" class="p-button-success" (click)="saveClausesData(ExclusionData,'Exclusion')"></p-button>
        </div> -->
    </ng-container>
    <ng-container *ngIf="newAddExclusion">
        <p-button class="mr-4 mb-4" [label]="'PREMIUM.Save' | translate" (click)="saveExclusion()"></p-button>
        <!-- <button type="button" class="btn btn-primary ml-3" (click)="saveExclusion()">Save</button> -->
    </ng-container>
    </div>
</p-dialog>
<p-dialog class="p-su-header" [header]="'PREMIUM.WarrantiesDetails' | translate" [(visible)]="onWarranty" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="flex flex-wrap justify-content-between mt-2" >
        <div>
            <label for="username">{{'PREMIUM.Section' | translate}}</label>
            <p-dropdown inputId="make" class="w-full" styleClass="w-full" [(ngModel)]="termsSectionId" [options]="termsSectionList" (onChange)="viewCondition('change')"
                optionLabel="SectionName" optionValue="SectionId" [placeholder]="'QUOTEGRID.Selectt' | translate">
            </p-dropdown>
        </div>
        <!-- <div *ngIf="userType!='Broker' && !newAddWarranty">
            <p-button [label]="'PREMIUM.AddNewWarranty' | translate" icon="pi pi-plus" (click)="onAddWarranty()"></p-button>
        </div> -->
    </div>
    <div class="grid mt-2">
        <div class="col-12 md:col-12 lg:col-12 mt-2">
            <p-table #dtEmployee [value]="WarrantyData" *ngIf="!newAddWarranty"
            [tableStyle]="{'min-width':'50rem'}" [paginator]="true"
             [rows]="5">
             <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columns">{{column}} <p-sortIcon [field]="column"></p-sortIcon></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer>
              <tr>
                <td>{{ customer.SubId }}</td>
                <td>{{ customer.SubIdDesc }}</td>
              </tr>
            </ng-template>
            </p-table>
            <!-- <table class="table table-bordered mt-2 p-2 w-full" *ngIf="userType!='Broker' && !newAddWarranty">
                <thead>
                    <tr>
                        <th class="p-2">{{'PREMIUM.Select' | translate}}</th>
    
                        <th class="p-2">{{'PREMIUM.Description' | translate}}</th>
                    </tr>
                </thead>
    
                <tbody
                    *ngFor="let clause of WarrantyData; let i=index;">
                    <tr>
                        <td class="flex flex-wrap justify-content-center" style="border-bottom: 0px solid grey !important;">
                            <div class="mt-2" >
                                <input type="checkbox" (change)="onCheckUser(i,$event,clause)" [disabled]="endorsementSection"
                                [checked]="clause.TypeId == 'D' ? true : false">
                            </div>
                           
                        </td>
    
                        <td class="p-2">
                            <textarea [(ngModel)]="clause.SubIdDesc" class="w-full" cols="60" pInputText [disabled]="endorsementSection"
                                rows="2"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table> -->

            <ng-container *ngIf="newAddWarranty">
                <p-button [label]="'PREMIUM.AddNew' | translate" style="float:right" (click)="addwarranty()"></p-button>
                <!-- <button class="btn btn-primary" style="float:right" (click)="addwarranty()">Add New</button> -->
                <table class="mt-3 ml-2 maan-grid-item-body">
                    <thead>
                        <th>{{'PREMIUM.WarrrantyDescription' | translate}}</th>
                        <th>{{'MOTORQUOTE.Delete' | translate}}</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let row of json;let i = index">
                            <div class="input-control-container">
                                <div class="input-form-box">
                                    <textarea  [(ngModel)]="row.SubIdDesc" cols="60" rows="2"></textarea>
                                </div>
                            </div>
                            <td class="tbl-content">
                                <p-button (click)="delete(row)">
                                    <i class="fa fa-trash"></i>
                                </p-button>
                                <!-- <button class="btn btn-primary" (click)="delete(row)"> <i
                                        class="fa fa-trash"></i></button> -->
                            </td>
                        </tr>
    
                    </tbody>
                </table>
               </ng-container>
        </div>
        
    </div>
    <div class="flex flex-wrap justify-content-center mt-2">
        <ng-container *ngIf="!newAddWarranty">
        <div>
            <p-button [label]="'PREMIUM.close' | translate" class="p-button-outlined" styleClass="p-button-outlined" (click)="OnClose()"></p-button>&nbsp;
        </div>
        <!-- <div>
            <p-button [label]="'PREMIUM.Submit' | translate" *ngIf="userType!='Broker'" class="p-button-success" (click)="saveClausesData(WarrantyData,'Warranty')"></p-button>
        </div> -->
        </ng-container>
        <ng-container *ngIf="newAddWarranty">
            <p-button (click)="saveWarranty()">{{'PREMIUM.Save' | translate}}</p-button>
            <!-- <button type="button" class="btn btn-primary ml-3" (click)="saveWarranty()">Save</button> -->
        </ng-container>
    </div>
</p-dialog>
<p-dialog class="p-su-header" [header]="'PREMIUM.DiscountDetails' | translate" [(visible)]="fleetDiscountModal" [modal]="true" styleClass="w-10 md:w-8 lg:w-6" [draggable]="false" [resizable]="false">
    <div class="grid">
        <!-- <div class="col-md-12 col-lg-12 col-xl-12">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col"><b>CoverName</b></th>
                        <th scope="col" style="text-align: center;"><b>SumInsured ({{currencyCode}})</b></th>
                        <th scope="col" style="text-align: end;"><b>After Discount ({{currencyCode}})</b></th>
                        <th scope="col" style="text-align: end;"><b>Included Tax ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container >

                    </ng-container>
                    <tr >
                        <td>Base Premium</td>
                        <td></td>
                        <td style="text-align: end;"><span class="spancommon span_font_size">{{ basePremium | commaseparator}}</span></td>
                    </tr>
                </tbody>
            </table>
        </div> -->
        <div class="col-12 md:col-12 lg:col-12 xl:col-12">
            <table class="table table-bordered mt-5 p-5 w-full">
                <thead>
                    <tr>
                        <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.Description' | translate}}</b></th>
                        <th scope="col" ><b>{{'PREMIUM.Rate' | translate}}</b></th>
                        <th scope="col" style="text-align: end;"><b>{{'PREMIUM.Amount' | translate}} ({{currencyCode}})</b></th>
                    </tr>
                </thead>
                <tbody class="p-5">
                    <tr cl>
                        <td style="padding: 0.5rem;">{{'PREMIUM.BasePremium' | translate}}</td>
                        <td style="text-align: center;">{{ratePercent}}</td>
                        <td style="text-align: end;"><span class="spancommon span_font_size">{{ basePremium | commaseparator}}</span></td>
                    </tr>
                    <tr *ngIf="minCoverName">
                        <td style="padding: 0.5rem;">{{minCoverName}}</td>
                        <td style="text-align: center;">{{minCoverRatePercent}}</td>
                        <td style="text-align: end;"><span class="spancommon span_font_size">{{ minBasePremium | commaseparator}}</span></td>
                    </tr>
                    <ng-container *ngIf="discountList.length!=0">
                        <tr>
                            <td scope="col"><b>{{'PREMIUM.Discounts' | translate}}</b></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr *ngFor="let discount of discountList">
                            <td style="padding: 0.5rem;">{{discount.DiscountDesc}}</td>
                            <td style="text-align: end;padding: 0.5rem;">
                                
                                    <!-- <ng-container *ngIf="discount.DiscountCalcType!='P'">
                                        <ng-container *ngIf="discount.DiscountRate!=null">
                                            <span class="spancommon span_font_size" id="LoadingRate">0</span>
                                        </ng-container>
                                    </ng-container> 
                                    <ng-container *ngIf="discount.DiscountCalcType=='P'"> -->
                                        <input type="text"  class="input-form-control without-icon" [id]="'DiscountRate'+i"
                                            style="width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;padding: 4px 12px;"
                                            [(ngModel)]="discount['DiscountRate']" maxlength="5">
                                    <!-- </ng-container> -->
                            </td>
                            <td style="text-align: end;padding: 0.5rem;">
                                <ng-container *ngIf="discount.DiscountAmount==null || discount.DiscountAmount=='0.0'">
                                    0
                                </ng-container>
                                <ng-container *ngIf="discount.DiscountAmount!=0 && discount.DiscountAmount!=null || discount.DiscountAmount!='0.0'">
                                        <span [id]="'DiscountAmount'+i+getCoverNameAlt(CoverName)">{{discount.DiscountAmount | commaseparator}}</span>
                                </ng-container>
                            </td>
                        </tr>
                    </ng-container>

                    <ng-container *ngIf="loadingList.length!=0">
                        <tr>
                            <th scope="col" style="text-align: start;padding: 0.5rem;" colspan="3">{{'PREMIUM.Loadings' | translate}}</th>
                        </tr>
                        <tr *ngFor="let loading of loadingList;let i=index">
                            <td style="padding: 0.5rem;">{{loading.LoadingDesc}}</td>
                            <td style="text-align: end;padding: 0.5rem;">
                                
                                    <ng-container *ngIf="loading.LoadingCalcType!='P'">
                                        <ng-container *ngIf="loading.LoadingRate!=null">
                                            <span class="spancommon span_font_size" id="LoadingRate">0</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='P'">
                                        <input type="text" [id]="'Rate'+i" class="input-form-control without-icon" disabled [id]="'LoadingRate'+i"
                                         style="width: auto !important;max-width:80px;text-align:right !important; border: 1px solid;padding: 4px 12px;" [(ngModel)]="loading['LoadingRate']" maxlength="5">
                                    </ng-container>
                            </td>
                            <td style="text-align: end;padding: 0.5rem;">
                                    <ng-container *ngIf="loading.LoadingCalcType!='A'">
                                        <ng-container *ngIf="loading.LoadingAmount==0 || loading.LoadingAmount==null">
                                            0
                                        </ng-container>
                                        <ng-container
                                            *ngIf="loading.LoadingAmount!=0 && loading.LoadingAmount!=null">
                                            <span class="spancommon span_font_size" [id]="'LoadingAmount'+i+getCoverNameAlt(CoverName)">{{loading.LoadingAmount}}</span>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="loading.LoadingCalcType=='A'">
                                        <input type="text" [id]="'Amount'+i+getCoverNameAlt(CoverName)" disabled class="input-form-control without-icon"
                                            (keyup)="premiumComma(i,loading.LoadingAmount)"
                                            style="width: auto !important;max-width:300px;text-align:right !important"
                                            [(ngModel)]="loading['LoadingAmount']">
                                    </ng-container>
                            </td>
                        </tr>

                    </ng-container>
                    <tr>
                        <td style="padding: 0.5rem;"><b>{{'PREMIUM.PremiumBeforeTax' | translate}}</b></td>
                        <td style="text-align: center;"></td>
                        <td style="text-align: end;"><span class="spancommon span_font_size">
                            <b>{{minPremiumExcludedTax | commaseparator}}</b></span></td>
                    </tr>
                    <ng-container *ngIf="minTaxList.length!=0">
                        <tr>
                            <th scope="col" style="text-align: start;padding: 0.5rem;" colspan="3">{{'PREMIUM.Tax' | translate}}</th>
                        </tr>
                        <tr *ngFor="let loading of minTaxList;let i=index">
                            <td style="padding: 0.5rem;">{{loading.TaxDesc}}</td>
                            <td style="text-align: end;">
                              
                                    <ng-container *ngIf="loading.TaxRate==null">
                                        0
                                    </ng-container>
                                    <ng-container *ngIf="loading.TaxRate!=0 && loading.TaxRate!=null">
                                        <span class="spancommon span_font_size">{{loading.LoadingRate}}</span>
                                    </ng-container>

                                <!-- </ng-container> -->
                            </td>
                            
                            <td style="text-align: end;">

                                    <ng-container *ngIf="loading.TaxAmount==0 || loading.TaxAmount==null">
                                        0
                                    </ng-container>
                                    <ng-container *ngIf="loading.TaxAmount!=0 && loading.TaxAmount!=null">
                                        <span class="spancommon span_font_size">{{loading.TaxAmount |
                                            commaseparator}}</span>
                                    </ng-container>

                                <!-- </ng-container> -->
                            </td>
                        </tr>

                    </ng-container>
                </tbody>
                <tfoot>
                    <tr>
                        <td style="padding: 0.5rem;"><b>{{'PREMIUM.Total' | translate}}</b></td>
                        <td></td>
                        <td style="text-align: end;"><span class="spancommon span_font_size">
                            <b>{{minPremiumIncludedTax | commaseparator}}</b></span></td>
                    </tr>
                </tfoot>
            </table>
            
        </div>
        <div class="col-offset-4 col-4">
        <!-- <ng-container class="mt-5 " *ngIf="((!adminSection && userType!='Issuer') || endorsementSection) || finalizeYN=='Y'">
            <p-button [label]="'MOTORQUOTE.Back' | translate" (click)="fleetDiscountModal=!fleetDiscountModal" class="p-3 mr-2 text-l mr-0 justify-content-center" styleClass="p-button-outlined mb-4" icon="pi pi-chevron-left"></p-button>
            <p-button [label]="'PREMIUM.Proceed' | translate"  
            (click)="onFleetProceed(modal)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
        </ng-container> -->
    
        <!-- <ng-container *ngIf="adminSection || (userType=='Issuer' && finalizeYN!='Y' && !endorsementSection)"> -->
            <p-button [label]="'MOTORQUOTE.Back' | translate" (click)="fleetDiscountModal=!fleetDiscountModal" class="p-3 mr-2 text-l mr-0" styleClass="p-button-outlined mb-4" icon="pi pi-chevron-left"></p-button>
            <p-button [label]="'PREMIUM.Submit' | translate"  (click)="onUpdateFleetFactorRate(null)" class="p-3 text-l mr-0" styleClass="mb-4"></p-button>
            
        <!-- </ng-container> -->
    </div>
    </div>
   
    

</p-dialog>

<p-dialog class="p-su-header" header="Benefits of Cover" [(visible)]="BenefitPopup" [modal]="true" [position]="position"  styleClass="w-10 md:w-10 lg:w-10" [draggable]="false" [resizable]="false">
    <div class="grid">
        <div class="col-12 md:col-12 lg:col-12 xl:col-12">
            <ng-container *ngIf="CoverList.length!=0">
                <p-table #CoverD class="table table-bordered mt-5 p-5 w-full" [paginator]="true"
                [rows]="5" [value]="CoverList" globalFilterFields="['BenefitId','BenefitDescription','CalcType','SectionDesc','Value','Description']">
                <ng-template pTemplate="caption">
                    <div class="flex">
                            <input  pInputText   type="text"  (input)="CoverD.filterGlobal($event.target.value, 'contains')" 
                             placeholder="Search keyword" />
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                        <tr>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.BenefitId' | translate}}</b></th>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.BenefitDescription' | translate}}</b></th>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.CalcType' | translate}}</b></th>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.SectionDescription' | translate}}</b></th>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.Value' | translate}}</b></th>
                            <th scope="col" style="padding: 0.5rem;"><b>{{'PREMIUM.Long Description' | translate}}</b></th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-cover>
                        <tr>
                            <td>{{cover.BenefitId}}</td>
                            <td>{{cover.BenefitDescription}}</td>
                            <td>{{cover.CalcType}}</td>
                            <td>{{cover.SectionDesc}}</td>
                            <td>{{cover.Value}}</td>
                            <td>{{cover.LongDesc}}</td>
        
                        </tr>
                    </ng-template>
                    
                    <!-- <tbody class="p-5"> -->
                        <!-- <tr cl> -->
                            <!-- <td style="padding: 0.5rem;">{{'PREMIUM.BasePremium' | translate}}</td>
                            <td style="text-align: center;">{{ratePercent}}</td>
                            <td style="text-align: end;"><span class="spancommon span_font_size">{{ basePremium | commaseparator}}</span></td>
                        </tr>
                        <tr >
                            <td style="padding: 0.5rem;">{{minCoverName}}</td>
                            <td style="text-align: center;">{{minCoverRatePercent}}</td>
                            <td style="text-align: end;"><span class="spancommon span_font_size">{{ minBasePremium | commaseparator}}</span></td>
                        </tr>
                        <tr>
                            <td style="padding: 0.5rem;"><b>{{'PREMIUM.PremiumBeforeTax' | translate}}</b></td>
                            <td style="text-align: center;"></td>
                            <td style="text-align: end;"><span class="spancommon span_font_size">
                                <b>{{minPremiumExcludedTax | commaseparator}}</b></span></td>
                        </tr>
                        <ng-container *ngIf="minTaxList.length!=0">
                            <tr>
                                <th scope="col" style="text-align: start;padding: 0.5rem;" colspan="3">{{'PREMIUM.Tax' | translate}}</th>
                            </tr>
                            <tr *ngFor="let loading of minTaxList;let i=index">
                                <td style="padding: 0.5rem;">{{loading.TaxDesc}}</td>
                                <td style="text-align: end;">
                                  
                                        <ng-container *ngIf="loading.TaxRate==null">
                                            0
                                        </ng-container>
                                        <ng-container *ngIf="loading.TaxRate!=0 && loading.TaxRate!=null">
                                            <span class="spancommon span_font_size">{{loading.LoadingRate}}</span>
                                        </ng-container>
    
                                </td>
                                
                                <td style="text-align: end;">
    
                                        <ng-container *ngIf="loading.TaxAmount==0 || loading.TaxAmount==null">
                                            0
                                        </ng-container>
                                        <ng-container *ngIf="loading.TaxAmount!=0 && loading.TaxAmount!=null">
                                            <span class="spancommon span_font_size">{{loading.TaxAmount |
                                                commaseparator}}</span>
                                        </ng-container>
    
                                </td>
                            </tr>
    
                        </ng-container>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td style="padding: 0.5rem;"><b>{{'PREMIUM.Total' | translate}}</b></td>
                            <td></td>
                            <td style="text-align: end;"><span class="spancommon span_font_size">
                                <b>{{minPremiumIncludedTax | commaseparator}}</b></span></td>
                        </tr>
                    </tfoot> -->
                </p-table>
            </ng-container>
            <ng-container *ngIf="CoverList.length==0">
                <div class="text-center">
                    No Benefits Available
                </div>
            </ng-container>
            
        </div>
    </div>
   
    

</p-dialog>