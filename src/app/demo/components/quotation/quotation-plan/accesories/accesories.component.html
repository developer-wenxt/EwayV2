
      <div class="col-12 sm:col-12 md:col-12">
        <div class="flex flex-wrap justify-content-end">
                <div *ngIf="quoteNo"><b>QuoteNo- <span class="primaryTextColor">{{quoteNo}}</span></b>&nbsp;|&nbsp;</div>
                <div *ngIf="quoteRefNo">RefNo- <span class="primaryTextColor">{{quoteRefNo}}</span></div>
        </div>
        </div>
<ng-container *ngIf="productId=='5'">
    <div class="flex flex-wrap justify-content-between">
        <h2>Choose Your Accessories Plan</h2>
    </div>
    <p class="mt-1">According to your budget you can pay monthly or one time* with %10 discount.</p>
    <div class="grid" >
        <div class="lg:col-6 md:col-6 col-12">
            <form [formGroup]="form">
                <formly-form [form]="form" [fields]="Accfieldss" [model]="productItem"></formly-form>
            </form>
            <div class="flex flex-wrap justify-content-center">
                <p-button label="Save Accessories" (click)="onAccessoriesSubmit()" class="text-l pi-button"></p-button>
            </div>
            <!-- <div class="mb-3" *ngIf="ChassisList.length>2">
                <label for="username">Chassis No*</label><br>
                <p-dropdown [options]="ChassisList" optionLabel="CodeDesc" [(ngModel)]="productItem.AccessoriesChassisNo" optionValue="Code" [showClear]="true" styleClass="w-20rem"></p-dropdown>
            </div>
            <div class="mb-3">
                <label for="username">Accessories*</label><br>
                <p-dropdown [options]="AccLists" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="productItem.AccessoriesType" [showClear]="true" styleClass="w-20rem"></p-dropdown>
            </div>
            <div class="mb-3">
                <label for="username">Serial No*</label><br>
                <input type="text" [(ngModel)]="productItem.AccessoriesSerialNo" pInputText class="w-20rem"/>
            </div>
            <div class="mb-3">
                <label for="username">Sum Insured*</label><br>
                <input type="text" pInputText class="w-20rem" [(ngModel)]="productItem.AccessoriesSI"  />
            </div>
            <div class="flex flex-wrap justify-content-center">
                <p-button label="Save Accessories" (click)="onAccessoriesSubmit()" class="text-l pi-button"></p-button>
            </div> -->
        </div>
        <div class="lg:col-6 md:col-6 col-12">
                <div class="flex flex-wrap justify-content-between">
                    <h4 class="m-0 p-0">Existing Accessories</h4>
                </div>
                <hr class="m-0 p-0">
                <div class="card w-full p-0 m-0 mt-1" *ngIf="accessoriesList.length!=0 && checkAccessories()">
                            <p-table [value]="accessoriesList" [tableStyle]="{ 'min-width': '50rem' }">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Chassis No</th>
                                        <th>Name</th>
                                        <th>Serial No</th>
                                        <th>SumInsured</th>
                                        <th>Action</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-product let-i="rowIndex">
                                    <ng-container *ngIf="product.RiskId && product.ItemId">
                                        <tr>
                                            <td>{{getAssName(product.RiskId)}}</td>
                                            <td>{{getAssCont(product.ItemId)}}</td>
                                            <td>{{product.SerialNoDesc}}</td>
                                            <td>{{product.SumInsured | commaseparator }}</td>
                                            <td>
                                                <p-button icon="pi pi-pencil" severity="danger" (click)="onEditAccessories(i,product)" styleClass="p-button-outlined"></p-button>&nbsp;
                                                <p-button icon="pi pi-trash" severity="danger" (click)="Acssdelete(product)"  styleClass="p-button-outlined"></p-button>
                                            </td>
                                        </tr>
                                    </ng-container>
                                </ng-template>
                            </p-table>
                </div>
                <div class="flex flex-wrap justify-content-center mt-2" *ngIf="accessoriesList.length==0 || !checkAccessories()">
                    <b>No Accessories Available</b>
                </div>
        </div>
    </div>
    <div class="flex flex-wrap justify-content-center mt-4">
        <div class="mb-4">
            <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" *ngIf="!endorsementSection" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
            <p-button label="Back" [routerLink]="['/quotation/plan/premium-info']" *ngIf="endorsementSection" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
            <ng-container>
                <p-button label="Proceed" (click)="onSaveAccessories()" class="text-l pi-button mr-0"></p-button>
            </ng-container>
        </div>
    </div>
    <div class="flex flex-wrap justify-content-end">
        <div class="text-white surface-900 px-6 py-3 border-round-lg">
            <div class="flex flex-wrap justify-content-between" >
                <div >
                    <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                </div>
                <div >
                    <h6 class="text-white my-0">{{totalAccessoriesSI | commaseparator }}</h6>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-between" >
                <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                <div><h6 class="text-white my-0">{{actualAccessoriesSI | commaseparator }}</h6></div>
            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="productId!='5' && productId!='63' && productId!='59' && productId!='19' && productId!='14' && productId!='32' && productId!='25'">
    <!--tabIndex-->
    <p-tabView #tabView [activeIndex]="selectedTab" (onChange)="onTabClicked($event,tabView)">
        <!-- <p-tabPanel header="Location" *ngIf="buildingDetailsSection">
            <div class="grid" >
                <div class="lg:col-6 md:col-6 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldss" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveLocation('save')" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>
                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="building.length!=0 && getlength(building,building.length)">
                      
                        <p-table [value]="building" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>Address</th>
                                    <th>SumInsured</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-build let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{build.LocationName}}</td>
                                        <td>{{build.BuildingAddress}}</td>
                                        <td>{{build.BuildingSuminsured | commaseparator }}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditBuilding(i,build)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="delete(build)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container *ngIf="Buildingsections">
                        <p-button label="Proceed" (click)="onSave()" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end" *ngIf="Addtional">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div >
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div >
                            <h6 class="text-white my-0">{{totalBuildingSumInsured | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualBuildingSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
        </p-tabPanel> -->
        <!-- <p-tabPanel header="Content Risk" [disabled]="!allfields" *ngIf="first">
            <div class="grid">
                <div class="lg:col-6 md:col-6 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsContent" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveContent()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>

                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="Cotentrisk.length!=0 && getAccessorieslength(Cotentrisk,Cotentrisk.length)">
                        <p-table [value]="Cotentrisk" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>Content Name</th>
                                    <th>SumInsured</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-content let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{getLocationName(content?.RiskId)}}</td>
                                        <td>{{content.ContentRiskDesc}}</td>
                                        <td>{{content.SumInsured | commaseparator }}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditContent(i,content)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="ContentDelete(content)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
               
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onSaveContentRisk('proceed')" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div >
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div >
                            <h6 class="text-white my-0">{{totalContentSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualContentSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
        </p-tabPanel> -->
        <p-tabPanel header="Personal Accident" [disabled]="!allfields" *ngIf="second">
            <div class="grid">
                <div class="lg:col-6 md:col-6 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsPersonalAccident" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSavePersonalAccidentDetails()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>

                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="PersonalAssistantList.length!=0 && !(PersonalAssistantList.length==1 && currentPersonalAccidentIndex==0)">
                        <p-table [value]="PersonalAssistantList" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>Salary</th>
                                    <th>Person Name</th>
                                    <th>Occupation Desc</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-Accident let-i="rowIndex">
                                <ng-container>
                                    <tr *ngIf="currentPersonalAccidentIndex!=i">
                                        <td>{{getLocationName(Accident.RiskId)}}</td>
                                        <td>{{Accident.Salary}}</td>
                                        <td>{{Accident.PersonName}}</td>
                                        <td>{{Accident.OccupationDesc}}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditPersonalAccident(i,Accident)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="PersonalAccidentDelete(Accident)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
               
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onSavePersonalAccident('proceed')" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalPASI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualPersonalAccSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
        </p-tabPanel>

        <!-- <p-tabPanel header="All Risk" [disabled]="!allfields" *ngIf="third">
            <div class="grid">
                <div class="lg:col-6 md:col-6 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsRisk" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveAllRiskDEtails()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>

                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="risk.length!=0 && getRisk(risk,risk.length)">
                      
                        <p-table [value]="risk" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>SumInsured</th>
                                    <th>ContentName</th>
                                    <th>Serial No</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-risk let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{getLocationName(risk.RiskId)}}</td>
                                        <td>{{risk.SumInsured}}</td>
                                        <td>{{getContentssName(risk.ItemId)}}</td>
                                        <td>{{risk.SerialNoDesc}}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditAllRisk(i,risk)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="AllRiskDelete(risk)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
               
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onSaveAllRisk('proceed')" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalAllRiskSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualAllRiskSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
          
        </p-tabPanel> -->

        <p-tabPanel header="Personal Indemenity" [disabled]="!allfields" *ngIf="fifth">
            <!--[disabled]="allfields"-->
            <div class="grid">
                <div class="lg:col-6 md:col-6 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsPersonalInd" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveprofessiona()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>

                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="Intermedity.length!=0 && getIntermity(Intermedity,Intermedity.length)">
                        <p-table [value]="Intermedity" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>Content Name</th>
                                    <th>SumInsured</th>
                                    <th>Nationality Id</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-Int let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{getLocationName(Int.RiskId)}}</td>
                                        <td>{{Int.Salary | commaseparator}}</td>
                                        <td>{{Int.PersonName}}</td>
                                        <td>{{Int.NationalityId}}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditPersonalInd(i,Int)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="PersonalIndDelete(Int)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onSavePersonalIntermedity('proceed')" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalPersIntSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualPersonalIntSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="checkPersonalLimit()" [disabled]="!allfields" *ngIf="eleven">
            <!--header="Professional Indemenity"-->
            <div class="grid">
                <!-- <div class="lg:col-6 md:col-6 col-12">
                        <div class="lg:col-6 md:col-6 col-12">
                        <label for="username">First Name</label>
                        <input pInputText id="username" maxlength="50"  placeholder="Enter Customer Name" />
                        </div>
                    
                        <div class="lg:col-6 md:col-6 col-12">
                            <label for="username">Last Name</label>
                            <input pInputText id="username" maxlength="50"  placeholder="Enter Customer Name" />
                            </div>
                  
                        <div class="lg:col-6 md:col-6 col-12">
                            <label for="username">Relation Type</label>
                            <div class="input-control-container">
                                <ng-select class="custom" [items]="relationList" [(ngModel)]="ProductCode" placeholder="Select SumInsured" appendTo="body" [ngModelOptions]="{standalone: true}" bindValue="Code" bindLabel="CodeDesc">
                                </ng-select>
                          </div>
                        </div>
                        <div class="lg:col-6 md:col-6 col-12">
                            <label for="username">Nationality Id</label>
                            <input pInputText id="username" maxlength="50"  placeholder="Enter Customer Name" />
                        </div>
                   
             <div class="lg:col-6 md:col-6 col-12">
                <mat-form-field appearance="fill" style="width: 130px;">
                    <input matInput [matDatepicker]="picker" disabled [ngModelOptions]="{standalone: true}">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            
                       
                  
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveContent()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div> -->

                <div class="lg:col-12 md:col-12 col-12">
                    <ng-container *ngIf="selectedProductList.length!=0">
                        <p-table [value]="selectedProductList" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Relation Type</th>
                                    <th>Nationality Id</th>
                                    <th>Date Of Birth</th>
                                    
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-Health let-i="rowIndex">
                                <ng-container>
                                
                                    <tr style="width:100% !important;">
                                        <td>
                                            <!-- <label for="username">First Name</label> -->
                                            <input pInputText id="username" maxlength="50" [(ngModel)]="Health.FirstName"/>
                                        </td>
                                        <td>
                                            <!-- <label for="username">Last Name</label> -->
                                            <input pInputText id="username" maxlength="50" [(ngModel)]="Health.LastName"/>
                                        </td>
                                        <td>
                                            <ng-select class="custom" [items]="relationList" [(ngModel)]="Health.RelationType" placeholder="Select SumInsured" appendTo="body" [ngModelOptions]="{standalone: true}" bindValue="Code" bindLabel="CodeDesc">
                                            </ng-select>
                                        </td>
                                        <td>
                                            
                            <input pInputText id="username" maxlength="50" [(ngModel)]="Health.NationalityId" placeholder="Enter Nationality Id" />
                                        </td>
                                        <td>
                                            <mat-form-field appearance="fill" style="width: 130px;">
                                                <input matInput [matDatepicker]="picker" [ngModelOptions]="{standalone: true}" [(ngModel)]="Health.DateOfBirth">
                                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                <mat-datepicker #picker></mat-datepicker>
                                            </mat-form-field>
                                        </td>
                                        <!-- <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditBuilding(i)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="delete(build)"  styleClass="p-button-outlined"></p-button>
                                        </td> -->
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
                <div class="flex flex-wrap justify-content-center mt-4">
                    <div class="mb-4">
                        <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                        <ng-container>
                            <p-button label="Proceed" (click)="onSaveHealth()" class="text-l pi-button mr-0"></p-button>
                        </ng-container>
                    </div>
                </div>
            </div>
          
        </p-tabPanel>


        <p-tabPanel [header]="checkEmplyeeSection()" [disabled]="!allfields" *ngIf="seven">
            <div class="grid">
                <div class="lg:col-1 md:col-1 col-12">

                </div>
                <div class="lg:col-10 md:col-10 col-12">
                    <ng-container *ngIf="employeeList.length!=0 && getemployeeList(employeeList,employeeList.length)">
                        <p-table [value]="employeeList" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Employee Name</th>
                                    <th *ngIf="productId!='32'">Occupation</th>
                                    <th>Location Name</th>
                                    <th>SumInsured</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-employee let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{employee.EmployeeName}}</td>
                                        <td *ngIf="productId!='32'">{{employee.OccupationDesc}}</td>
                                        <td>{{employee.LocationName}}</td>
                                        <td>{{employee.Salary}}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onEditEmployee(i,employee)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="EmployeeDelete(employee,i)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
            </div>
            <div class="grid mt-2">
                <b>Employee Details</b>
                <div class="lg:col-1 md:col-1 col-12">

                </div>
                <div class="lg:col-10 md:col-10 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsEmpFields" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onemployeesavelast()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>
            </div>
          
            <div class="text-center mt-2">
                <p-button label="Back" class="mr-4 text-l mr-0" [routerLink]="['/quotation/plan/premium-details']" styleClass="p-button-outlined"></p-button>
                <!-- <p-button label="Save & Proceed" *ngIf="employeeList.length!=0 && !enableEmployeeUploadSection" class="mr-4 text-l mr-0" styleClass="p-button-outlined" (click)="onSaveEmployeeDetails('save')"></p-button> -->
                <p-button label="Proceed" *ngIf="employeeList.length!=0 && !enableEmployeeUploadSection" class="mr-4 text-l mr-0" styleClass="p-button-outlined" (click)="onSaveEmployeeDetails('proceed')" routerLinkActive="router-link-active" routerLinkActive="router-link-active"></p-button>
                <!-- <button class="custom-btn btn-6 maan-button-data mx-2" *ngIf="employeeList.length!=0 && !enableEmployeeUploadSection" matRipple (click)="onSaveEmployeeDetails('direct')" routerLinkActive="router-link-active" routerLinkActive="router-link-active">Proceed</button> -->
            </div>
            <!-- <div class="flex flex-wrap justify-content-between mt-2">
            <div style="min-width: 300px !important;text-align:right !important;">
                <div class="lg:col-6">
                    <h6 class="surface-900 text-white mt-0">{{totalPremium | commaseparator}}&nbsp;({{currencyCode}})</h6>
                </div>
            </div>
            </div> -->
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalEmpIntSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" *ngIf="productId=='14'">
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualEmployeeSI | commaseparator }}</h6></div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" *ngIf="productId=='32'">
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualFidelitySI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel header="ElectricalEquipment" [disabled]="!allfields" *ngIf="six">
            <div class="grid">
                <div class="lg:col-4 md:col-4 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fieldsElectronic" [model]="productItem"></formly-form>
                    </form>
                    <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onSaveElectronicdetails()" class="text-l pi-button mr-0"></p-button>
                    </div>
                </div>

                <div class="lg:col-6 md:col-6 col-12">
                    <ng-container *ngIf="ElectronicItem.length!=0">
                        <p-table [value]="ElectronicItem" [tableStyle]="{ 'min-width': '50rem' }">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Location Name</th>
                                    <th>SumInsured</th>
                                    <th>ContentName</th>
                                    <th>Action</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-Electronic let-i="rowIndex">
                                <ng-container>
                                    <tr>
                                        <td>{{getLocationName(Electronic.RiskId)}}</td>
                                        <td>{{Electronic.SumInsured}}</td>
                                        <td>{{getElectronicName(Electronic.ItemId)}}</td>
                                        <td>{{Electronic.PurchaseYear}}</td>
                                        <td>
                                            <p-button icon="pi pi-pencil" severity="danger" (click)="onElectroncequipment(i,Electronic)" styleClass="p-button-outlined"></p-button>&nbsp;
                                            <p-button icon="pi pi-trash" severity="danger" (click)="ElectronicDelete(Electronic)"  styleClass="p-button-outlined"></p-button>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-template>
                        </p-table>
                    </ng-container>
                </div>
               
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onSaveElectronic()" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalElectrIntSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualElectronicIntSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div>
            <!--onSaveAllRisk(-->
        </p-tabPanel>
        <p-tabPanel header="Medical Details" [disabled]="!allfields" *ngIf="newten">
            <div class="grid">
                <div class="lg:col-12 md:col-12 col-12">
                    <form [formGroup]="form">
                        <formly-form [form]="form" [fields]="fields" [model]="productItem"></formly-form>
                    </form>
                    <!-- <div class="flex flex-wrap justify-content-center mt-2">
                        <p-button label="Save" (click)="onMedicalSave()" class="text-l pi-button mr-0"></p-button>
                    </div> -->
                </div>
                
            </div>
            <div class="flex flex-wrap justify-content-center mt-4">
                <div class="mb-4">
                    <p-button label="Back" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
                    <ng-container>
                        <p-button label="Proceed" (click)="onMedicalSave()" class="text-l pi-button mr-0"></p-button>
                    </ng-container>
                </div>
            </div>
            <!-- <div class="flex flex-wrap justify-content-end">
                <div class="text-white surface-900 px-6 py-3 border-round-lg" (click)="showSidebar()">
                    <div class="flex flex-wrap justify-content-between" >
                        <div>
                            <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                        </div>
                        <div>
                            <h6 class="text-white my-0">{{totalElectrIntSI | commaseparator }}</h6>
                        </div>
                    </div>
                    <div class="flex flex-wrap justify-content-between" >
                        <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                        <div><h6 class="text-white my-0">{{actualElectronicIntSI | commaseparator }}</h6></div>
                    </div>
                </div>
            </div> -->
        </p-tabPanel>

    </p-tabView>
</ng-container>
<ng-container *ngIf="productId=='14' || productId=='32' || productId=='25'">
    <p-tabView #tabView [activeIndex]="selectedTab" (onChange)="onTabClicked($event,tabView)" disabled="true">
        <ng-container *ngFor="let location of locationlist;let j=index">
            <p-tabPanel [header]="location.LocationName" disabled="true" *ngIf="seven || six">
                <div class="grid">
                    <div class="lg:col-1 md:col-1 col-12">
    
                    </div>
                    <div class="lg:col-10 md:col-10 col-12">
                        <ng-container *ngIf="location.EmployeeList">
                            <ng-container *ngIf="location.EmployeeList.length!=0">
                                <p-table [value]="location.EmployeeList" [tableStyle]="{ 'min-width': '50rem' }">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <ng-container *ngIf="productId=='14' || productId=='32'">
                                                <th>Employee Name</th>
                                                <th *ngIf="productId!='32'">Occupation</th>
                                            </ng-container>
                                            <ng-container *ngIf="productId=='25'">
                                                <th>Equipment Name</th>
                                                <th>Make & Model</th>
                                            </ng-container>
                                            <th>SumInsured</th>
                                            <th>Action</th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-employee let-i="rowIndex">
                                        <ng-container>
                                            <tr>
                                                <ng-container *ngIf="productId=='14' || productId=='32'">
                                                    <td>{{employee.EmployeeName}}</td>
                                                    <td *ngIf="productId!='32'">{{employee.OccupationDesc}}</td>
                                                    <td>{{employee.Salary}}</td>
                                                </ng-container>
                                                <ng-container *ngIf="productId=='25'">
                                                    <td>{{employee.ItemValue}}</td>
                                                    <td>{{employee.MakeAndModel}}</td>
                                                    <td>{{employee.SumInsured}}</td>
                                                </ng-container>
                                                <td>
                                                    <p-button icon="pi pi-pencil" severity="danger" (click)="onEditEmployee(i,employee)" styleClass="p-button-outlined"></p-button>&nbsp;
                                                    <p-button icon="pi pi-trash" severity="danger" (click)="EmployeeDelete(employee,i)"  styleClass="p-button-outlined"></p-button>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </ng-template>
                                </p-table>
                            </ng-container>
                        </ng-container>
                    </div>
                </div>
                <div class="grid mt-2">
                    <ng-container *ngIf="productId=='14' || productId=='32'"><b>Employee Details</b></ng-container>
                    <ng-container *ngIf="productId=='25'"><b>Electronic Equipment Details</b></ng-container>
                    <div class="lg:col-1 md:col-1 col-12">
        
                    </div>
                    <div class="lg:col-10 md:col-10 col-12">
                        <form [formGroup]="form" *ngIf="productId=='25'">
                            <formly-form [form]="form" [fields]="fieldsElectronic" [model]="productItem"></formly-form>
                        </form>
                        <form [formGroup]="form" *ngIf="productId=='14' || productId=='32'">
                            <formly-form [form]="form" [fields]="fieldsEmpFields" [model]="productItem"></formly-form>
                        </form>
                        <div class="input-form-error" *ngIf="employeeNameError || employeeOccupationError || employeeSalaryError || sumInsuredExceedError || electonicItemError 
                        || electronicJoinError || electronicYearError || electronicMakeModelError" style="position: relative;">
                            <div class="error-text text-danger">
                                <span class="spancommon span_font_size" *ngIf="employeeNameError">Please Enter Valid Employee Name<br></span>
                                <span class="spancommon span_font_size" *ngIf="employeeOccupationError">Please Select Valid Occupation<br></span>
                                <span class="spancommon span_font_size" *ngIf="employeeSalaryError">Please Enter Valid Salary<br></span>
                                <span class="spancommon span_font_size" *ngIf="sumInsuredExceedError">Amount Entered Exceeding Actual Limit<br></span>
                                <span class="spancommon span_font_size" *ngIf="electonicItemError">Please Select Valid Electronic Item<br></span>
                                <span class="spancommon span_font_size" *ngIf="electronicJoinError">Please Select Valid purchase Month <br></span>
                                <span class="spancommon span_font_size" *ngIf="electronicYearError">Please Enter Valid Purchase Year <br></span>
                                <span class="spancommon span_font_size" *ngIf="electronicMakeModelError">Please Enter Valid Make & Model <br></span>
                                <span class="spancommon span_font_size" *ngIf="electronicSalaryError">Please Enter Valid SumInsured <br></span>
                            </div>
                        </div>
                        <div class="flex flex-wrap justify-content-center mt-2">
                            <p-button label="Save" (click)="onemployeeCommon()" class="text-l pi-button mr-0"></p-button>
                        </div>
                    </div>
                </div>
                <div class="flex flex-wrap justify-content-end">
                    <div class="text-white surface-900 px-6 py-3 border-round-lg">
                        <div class="flex flex-wrap justify-content-between" >
                            <div>
                                <h5 class="text-white mb-1 mr-3">Total SumInsured</h5>
                            </div>
                            <div>
                                <h6 class="text-white my-0">
                                    <ng-container *ngIf="getTotalSI(location)==0">0</ng-container>
                                    <ng-container *ngIf="getTotalSI(location)!=0">{{getTotalSI(location) | commaseparator }}</ng-container>
                                    
                                </h6>
                            </div>
                        </div>
                        <div class="flex flex-wrap justify-content-between" >
                            <div><h5 class="text-white mb-1 mr-3">Actual SumInsured</h5></div>
                            <div><h6 class="text-white my-0">
                                <ng-container *ngIf="getActualSI(location)==0">0</ng-container>
                                <ng-container *ngIf="getActualSI(location)!=0">{{getActualSI(location) | commaseparator }}</ng-container>
                                </h6></div>
                        </div>
                    </div>
                </div>
            </p-tabPanel>
        </ng-container>
        <div class="text-center mt-2">
            <p-button label="Back" class="mr-4 text-l mr-0" [routerLink]="['/quotation/plan/premium-details']" styleClass="p-button-outlined"></p-button>
            <p-button label="Previous" *ngIf="locationlist.length>1 &&  selectedTab!=0" (click)="onPreviousTabb()" class="mr-4 text-l mr-0" styleClass="p-button"></p-button>
            <p-button label="Next" *ngIf="locationlist.length>1 &&  (selectedTab+1)!=locationlist.length" (click)="onNextTab()" class="mr-4 text-l mr-0" styleClass="p-button"></p-button>
            <ng-container ><p-button label="Proceed" *ngIf="(selectedTab+1)==locationlist.length"  class="mr-4 text-l mr-0" styleClass="p-button-outlined" (click)="onSaveEmployeeDetails('proceed')" routerLinkActive="router-link-active" routerLinkActive="router-link-active"></p-button></ng-container> 
        </div>
    </p-tabView>
</ng-container>
<ng-container *ngIf="productId=='63' || productId=='59' || productId=='19'">
    <p-tabView *ngIf="LocationList.length!=0 && locationlist.length!=0" [(activeIndex)]="tabIndex" (onChange)='tabIndex = $event.index'>
        <ng-container *ngFor="let item of LocationList;let i=index">
            <p-tabPanel [header]="item.LocationName">
                <div class="grid mt-3">
                    <!-- <div class="col-12 lg:col-7 md:col-7" *ngIf="checkSectionVisible(i,'1')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Building Details</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'1')" />
                                </div>
                            </div>
                            <div class="grid ">
                                <div class="col-12 lg:col-6 md:col-6">
                                    <label for="BuildingType">Construction Type</label>
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Construction Type" [options]="constructionTypes"
                                       [(ngModel)]="item.BuildingType" appendTo="body" optionLabel="CodeDesc" optionValue="Code"  />
                                </div>
                                <div class="col-12 lg:col-6 md:col-6">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured" styleClass="w-full"
                                    (keydown)="onSIValueChange($event)" (keyup)="CommaFormatted(item,'Building')" [(ngModel)]="item.BuildingSI" pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'47')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Content Details</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'47')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [(ngModel)]="item.ContentSI" styleClass="w-full"  pInputText type="text" />
                                </div>
                                <!-- <div class="col-12 lg:col-6 md:col-6">
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Building Type"
                                        appendTo="body" optionLabel="LocationName" optionValue="RiskId"  />
                                </div> -->
                            </div>
                        </div>
                       
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'3')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>All Risk</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'3')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [(ngModel)]="item.AllRiskSI" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <!-- <div class="col-12 lg:col-4 md:col-4" *ngIf="checkSectionVisible(i,'3')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>All Risk</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'3')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    (keydown)="onSIValueChange($event)" (keyup)="CommaFormatted(item,'AllRisk')" [(ngModel)]="item.AllRiskSI" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'139')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Personal Liability</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'139')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [(ngModel)]="item.PersonalLiabilitySI" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'36')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Owner's Liability</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'36')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [(ngModel)]="item.PersonalLiabilitySI" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 lg:col-6 md:col-6 m" *ngIf="checkSectionVisible(i,'76') && (productId=='59' || productId=='19')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Electronic Equipment</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'76')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [value]="getTotalElecSI()" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'41') && (productId=='59' || productId=='19')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Machinery Breakdown</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'41')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [value]="getTotalMBSI()" styleClass="w-full"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'138')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Personal Accident</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'138')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <!-- <div class="col-12 lg:col-6 md:col-6">
                                    <label for="BuildingType">Relationship</label>
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Relationship" [(ngModel)]="item.RelationType" [options]="relationList"
                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code"  />
                                </div> -->
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">Death SI</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured" styleClass="w-full"
                                    disabled [(ngModel)]="item.DeathSI"  pInputText type="text" 
                                    />
                                </div>
                            
                            </div>
                        </div>
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'198')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Office Content Details</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'198')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured"
                                    disabled [(ngModel)]="item.OfficeContentSi" styleClass="w-full"  pInputText type="text" />
                                </div>
                                <!-- <div class="col-12 lg:col-6 md:col-6">
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Building Type"
                                        appendTo="body" optionLabel="LocationName" optionValue="RiskId"  />
                                </div> -->
                            </div>
                        </div>
                       
                    </div>
                    <div class="col-12 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'182')">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Group Personal Accident</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'182')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <!-- <div class="col-12 lg:col-6 md:col-6">
                                    <label for="BuildingType">Relationship</label>
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Relationship" [(ngModel)]="item.RelationType" [options]="relationList"
                                        appendTo="body" optionLabel="CodeDesc" optionValue="Code"  />
                                </div> -->
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">Death SI</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured" styleClass="w-full"
                                    disabled [(ngModel)]="item.DeathSIGPA"  pInputText type="text" 
                                    />
                                </div>
                            
                            </div>
                        </div>
                    </div>
                    <div class="col-6 lg:col-6 md:col-6" *ngIf="checkSectionVisible(i,'43') &&  this.productId=='19'">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Fidelity Details</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'43')" />
                                </div>
                            </div>
                            <div class="grid">
                                <div class="lg:col-1 md:col-1 col-12">
                
                                </div>
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">Fidelity SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured" styleClass="w-full"
                                    disabled [value]="gettotalFidelitySI()"  pInputText type="text" 
                                    />
                                </div>
                            </div>
                            <!-- <div class="lg:col-10 md:col-10 col-12">
                                <div class="input-form-error" *ngIf="employeeNameError || employeeOccupationError || employeeSalaryError || sumInsuredExceedError || electonicItemError 
                                || electronicJoinError || electronicYearError || electronicMakeModelError" style="position: relative;">
                                    <div class="error-text text-danger">
                                        <span class="spancommon span_font_size" *ngIf="employeeNameError">Please Enter Valid Employee Name<br></span>
                                        <span class="spancommon span_font_size" *ngIf="employeeOccupationError">Please Select Valid Occupation<br></span>
                                        <span class="spancommon span_font_size" *ngIf="employeeSalaryError">Please Enter Valid Salary<br></span>
                                        <span class="spancommon span_font_size" *ngIf="sumInsuredExceedError">Amount Entered Exceeding Actual Limit<br></span>
                                        <span class="spancommon span_font_size" *ngIf="electonicItemError">Please Select Valid Electronic Item<br></span>
                                        <span class="spancommon span_font_size" *ngIf="electronicJoinError">Please Select Valid purchase Month <br></span>
                                        <span class="spancommon span_font_size" *ngIf="electronicYearError">Please Enter Valid Purchase Year <br></span>
                                        <span class="spancommon span_font_size" *ngIf="electronicMakeModelError">Please Enter Valid Make & Model <br></span>
                                        <span class="spancommon span_font_size" *ngIf="electronicSalaryError">Please Enter Valid SumInsured <br></span>
                                    </div>
                                </div>
                                <div class="flex flex-wrap justify-content-center mt-2" *ngIf="productId!='19'">
                                    <p-button label="Save" (click)="onemployeeCommon()" class="text-l pi-button mr-0"></p-button>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
                <div class="grid" *ngIf="checkSectionVisible(i,'76') && productId=='63'">
                    <div class="col-12 lg:col-8 md:col-8">
                        <div class="card ">
                            <div class="grid">
                                <div class="col-12 lg:col-10 xl:col-10"> 
                                    <b>Domestic Servant</b>
                                </div>
                                <div class="col-12 lg:col-2 xl:col-2 "> 
                                    <p-button icon="pi pi-credit-card" styleClass="p-button-outlined" (click)="onShowCommonDialog(item,'76')" />
                                </div>
                            </div>
                            <div class="grid justify-content-center">
                                <!-- <div class="col-12 lg:col-4 md:col-4">
                                    <label for="Servant">Servant</label>
                                    <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Servant" [options]="servantTypeList"
                                    [(ngModel)]="item.ServantType" appendTo="body" optionLabel="CodeDesc" optionValue="Code"  />
                                </div>
                                <div class="col-12 lg:col-3 md:col-3">
                                    <label for="SumInsured">Employee Count</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter Count" [(ngModel)]="item.ServantCount" styleClass="w-full"  pInputText type="text" />
                                </div> -->
                                <div class="col-12 lg:col-8 md:col-8">
                                    <label for="SumInsured">SumInsured</label>
                                    <input class="w-full p-button-outlined" placeholder="Enter SumInsured" 
                                    disabled [(ngModel)]="item.ServantSI" styleClass="w-full"  pInputText type="text" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </p-tabPanel>
        </ng-container>
    </p-tabView>
    <div class="flex flex-wrap justify-content-center mt-4">
        <div class="mb-4">
            <p-button label="Back" *ngIf="(tabIndex==0)" [routerLink]="['/quotation/plan/premium-details']" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
            <p-button label="Previous" *ngIf="LocationList.length>1 && (tabIndex!=0)" (click)="onPreviousTab()" class="mr-4 text-l mr-0" styleClass="p-button-outlined" icon="pi pi-chevron-left"></p-button>
            <p-button label="Next" *ngIf="LocationList.length>1 && (tabIndex+1!=LocationList.length)" class="text-l pi-button mr-0 " (click)="checkValidation('Next')"></p-button>&nbsp;
            <ng-container>
                <p-button label="Proceed" class="text-l pi-button mr-0 " (click)="checkValidation('Proceed')"></p-button>
            </ng-container>
        </div>
    </div>
</ng-container>

<p-dialog header="Building Details" [modal]="true" [(visible)]="visibleBuilding" [style]="{ width: '85rem','z-index': '1000 !important'  }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
            <!-- </div> -->
             <ng-container *ngFor="let item of LocationList">
                 <div class="col-12 md:col-2 lg:col-2">Location : {{item.LocationName}}</div>
             </ng-container>
            <div class="col-12 md:col-2 lg:col-2">Actual SumInsured : </div>
            <div class="col-12 md:col-2 lg:col-2">Total : {{getTotalBuilding() | commaseparator}}</div>
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowBuilding()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowBuilding" dataKey="LocationName" editMode="row" [rows]="10" [paginator]="false" [tableStyle]="{'min-width': '40rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderBuilding">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-Building let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <p-dropdown class="w-full"  placeholder="Select Usage"  [options]="BuildingUsageList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="Building.BuildingUsageId" />
                                   
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">{{getBuildingUsageId(Building.BuildingUsageId)}}</ng-container>
                        <div class="input-form-error" *ngIf="Building.BuildingUsageIdError">
                            <div class="error-text text-danger">
                                Select Valid Usage
                            </div>
                        </div>
                    </td> -->
                    <!-- <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <input class="w-full p-button-outlined"   placeholder="Enter Build Year "  pInputText type="text" 
                                [(ngModel)]="Building.BuildingBuildYear" />
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                            {{Building.BuildingBuildYear}}
                        </ng-container>   
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Wall Type"  [options]="wallMaterialList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="Building.WallType" />
                           
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                            {{getwallTypeDescription(Building.WallType)}}
                        </ng-container> 
                        <div class="input-form-error" *ngIf="Building.WallTypeError">
                            <div class="error-text text-danger">
                                Select WallType
                            </div>
                        </div>        
                    </td>
                    <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Roof Type" 
                             [options]="roofMaterialList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="Building.RoofType" />
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                            {{getRoofTypeDescription(Building.RoofType)}}
                        </ng-container>    
                        <div class="input-form-error" *ngIf="Building.RoofTypeError">
                            <div class="error-text text-danger">
                                Select RoofType
                            </div>
                        </div>  
                    </td>
                    <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <p-dropdown class="w-full"   styleClass="w-full" [filter]="true" filterBy="CodeDesc" placeholder="Select FirstLossPayee"
                                [options]="bankList" (onChange)="onChangeFirstLoss(Building)"
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="Building.FirstLossPayee" />
                             
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                           {{getFirstLossDesc(Building)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="Building.FirstLossPayeeError">
                            <div class="error-text text-danger">
                               Select FirstLossPayee
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentBuildingRowIndex==ri">
                            <p-inputNumber  type="number" [(ngModel)]="Building.BuildingSumInsured" inputId="integeronly"/>
                            
                        </ng-container>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                            {{Building.BuildingSumInsured | commaseparator}}
                        </ng-container>  
                        <div class="input-form-error" *ngIf="Building.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Amount
                            </div>
                        </div>      
                    </td>
                    <td>
                        <ng-container *ngIf="currentBuildingRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentBuildingRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    <td>
                        <ng-container  >
                            <!-- *ngIf="currentBuildingRowIndex==ri" -->
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"  icon="pi pi-trash"  (click)="onDeleteBuilding(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="flex flex-wrap justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
                <p-button label="Save" (click)="onSaveBuildingList()" />
            </div>
        </div>
    </ng-container> 
   
</p-dialog>
<p-dialog header="Content Details" [modal]="true" [(visible)]="visibleContent" [style]="{ width: '80rem','z-index': '1000 !important'  }">
    <ng-container>
        <div class="grid justify-content-between mt-2">
            <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
            <!-- </div> -->
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.ContentSI}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getTotal() | commaseparator}}</span></b></div>
              <div ><p-button label="Add New" icon="pi pi-plus" (click)="addRow()" /></div>
        </div>
    </ng-container>
   
    <!-- <p-tabView>
    <ng-container *ngFor="let item of TableRowBuilding">
    <p-tabPanel [header]="item.LocationName"> -->
        <p-table [value]="TableRow" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem' }" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeader">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Content Type"
                                [options]="dropList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.ItemId" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{ getContentTypeDescription(product.ItemId) }}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.ContentTypeError">
                            <div class="error-text text-danger">
                               Select Content Type
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <input class="w-full p-button-outlined" placeholder="Enter Serial No" styleClass="w-full"  pInputText type="text" 
                                [(ngModel)]="product.SerialNoDesc" />
                                
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.SerialNoDesc}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SerialNoDescError">
                            <div class="error-text text-danger">
                               Enter Valid Serial No
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <input  pInputText type="text" placeholder="Enter Description" [(ngModel)]="product.ContentRiskDesc"  required />
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.ContentRiskDesc}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.ContentRiskDescError">
                            <div class="error-text text-danger">
                               Enter Valid Description
                            </div>
                        </div>      
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <p-inputNumber  type="number"  [(ngModel)]="product.SumInsured" inputId="integeronly"/>
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.SumInsured }}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                               Enter Valid SumInsured
                            </div>
                        </div>        
                    </td>
                   
                    <td>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentContentRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProduct(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
            <p-button label="Save" (click)="onSaveContentRisk('direct')" />
            <!-- <p-button label="Submit" (click)="onSaveContentRisk('Submit')" /> -->
        </div>
        </div>
</p-dialog>
<p-dialog header="Office Content Details" [modal]="true" [(visible)]="visibleContent" [style]="{ width: '80rem','z-index': '1000 !important'  }">
    <ng-container>
        <div class="grid justify-content-between mt-2">
            <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
            <!-- </div> -->
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.OfficeContentSi}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getTotal() | commaseparator}}</span></b></div>
              <div ><p-button label="Add New" icon="pi pi-plus" (click)="addRow()" /></div>
        </div>
    </ng-container>
   
    <!-- <p-tabView>
    <ng-container *ngFor="let item of TableRowBuilding">
    <p-tabPanel [header]="item.LocationName"> -->
        <p-table [value]="TableRow" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem' }" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeader">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Content Type"
                                [options]="dropList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.ItemId" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{ getContentTypeDescription(product.ItemId) }}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.ContentTypeError">
                            <div class="error-text text-danger">
                               Select Content Type
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <input class="w-full p-button-outlined" placeholder="Enter Serial No" styleClass="w-full"  pInputText type="text" 
                                [(ngModel)]="product.SerialNoDesc" />
                                
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.SerialNoDesc}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SerialNoDescError">
                            <div class="error-text text-danger">
                               Enter Valid Serial No
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <input  pInputText type="text" placeholder="Enter Description" [(ngModel)]="product.ContentRiskDesc"  required />
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.ContentRiskDesc}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.ContentRiskDescError">
                            <div class="error-text text-danger">
                               Enter Valid Description
                            </div>
                        </div>      
                    </td>
                    <td>
                        <ng-container *ngIf="currentContentRowIndex==ri">
                            <p-inputNumber  type="number"  [(ngModel)]="product.SumInsured" inputId="integeronly"/>
                            
                        </ng-container>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            {{product.SumInsured }}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                               Enter Valid SumInsured
                            </div>
                        </div>        
                    </td>
                   
                    <td>
                        <ng-container *ngIf="currentContentRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentContentRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProduct(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
            <p-button label="Save" (click)="onSaveContentRisk('direct')" />&nbsp;&nbsp;
            <p-button label="Submit" (click)="onSaveContentRisk('Submit')" />
        </div>
        </div>
</p-dialog>
<p-dialog header="All Risk Details" [modal]="true" [(visible)]="visibleAllRisk" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.AllRiskSI}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getTotalAllRisk() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total : {{getTotalAllRisk() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowAllRisk()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowAllRisk" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderAllRisk">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                            [options]="locationList" (onChange)="onChangeContentLocation(product)"
                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                             <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                   Select Location
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                    </td> -->
                    <td>
                        
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Content Type"    [options]="dropList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.ItemId" />
                                    <div class="input-form-error" *ngIf="product.ContentRiskDescError">
                                        <div class="error-text text-danger">
                                            Select Valid Content
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri"> {{ getContentTypeDescription(product.ItemId) }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <input class="w-full p-button-outlined" placeholder="Enter Serial No" styleClass="w-full"  pInputText type="text" 
                                [(ngModel)]="product.Serial" />
                                <div class="input-form-error" *ngIf="product.SerialNoError">
                                    <div class="error-text text-danger">
                                        Enter Valid Serial No
                                    </div>
                                </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                            {{product.Serial}}
                        </ng-container>   
                    </td>
                    <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <input  pInputText type="text" placeholder="Enter Description" [(ngModel)]="product.Description"  required />
                            <div class="input-form-error" *ngIf="product.SerialNoDescError">
                                <div class="error-text text-danger">
                                    Enter Valid Description
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                            {{product.Description}}
                        </ng-container>         
                    </td>
                    <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <p-inputNumber     [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Sum Insured
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>        
                    </td>
                    <td>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentAllRiskRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductAllRisk(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
            <p-button label="Save" (click)="onSaveAllRisk('direct')" />
        </div>
        </div>
    </ng-container> 
</p-dialog>
<p-dialog header="Fidelity Details" [modal]="true" [visible]="fidelityDialog" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{getSumInsured('43',item)}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{gettotalFidelitySI() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total : {{getTotalAllRisk() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowFidelity()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5" *ngIf="FidelityList">

        <p-table [value]="FidelityList" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    
                    <th [pSortableColumn]="employeeColumn" *ngFor="let column of employeeColumn">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                
                <tr>
                    <td>
                        <ng-container *ngIf="currentFidelityIndex==ri">
                            <input pInputText type="text" [(ngModel)]="product.EmployeeName"/>
                            
                        </ng-container>
                        <ng-container *ngIf="currentFidelityIndex!=ri">
                            {{product.EmployeeName}}
                        </ng-container>  
                    </td>
                    <td>
                        <ng-container *ngIf="currentFidelityIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Occupation"  [options]="fidelityDropdownList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.OccupationId" />
                           
                        </ng-container>
                        <ng-container *ngIf="currentFidelityIndex!=ri">
                            {{getOccupationNameEmp(product)}}
                        </ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentFidelityIndex==ri">
                            <p-inputNumber  type="number" [(ngModel)]="product.Salary"/>
                        </ng-container>
                        <ng-container *ngIf="currentFidelityIndex!=ri">
                            {{product.Salary | commaseparator}}
                        </ng-container>  
                        <!-- <div class="input-form-error" *ngIf="Building.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Amount
                            </div>
                        </div>       -->
                    </td>
                    <td>
                        <ng-container *ngIf="currentFidelityIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentFidelityIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    <td>
                        <ng-container  >
                            <!-- *ngIf="currentBuildingRowIndex==ri" -->
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"  icon="pi pi-trash"  (click)="onDeleteFidelity(ri,entry)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td> 
                </tr>
            </ng-template>
        </p-table>
    </ng-container> 
    <div class="grid justify-content-center gap-2 mt-5">
        <p-button label="Cancel" styleClass="p-button-outlined"  (click)="fidelityDialog=!fidelityDialog" />
        <div >
        <p-button label="Save" (click)="onSaveFidelityCorporate('Save')" />&nbsp;&nbsp;
        <p-button label="Submit" (click)="onSaveFidelityCorporate('Submit')" />
        </div>
    </div>
</p-dialog>
<p-dialog header="Electronic Equipment Details" [modal]="true" [(visible)]="visibleElectronicEquip" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.ElectricalEquipmentSI}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getTotalElecSI() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total : {{getTotalAllRisk() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowEE()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="ElectronicItem" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderEE">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                            [options]="locationList" (onChange)="onChangeContentLocation(product)"
                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                             <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                   Select Location
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                    </td> -->
                    <td>
                        
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Equipment Name"    [options]="employeeOccupationList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.ItemId" />
                                    <div class="input-form-error" *ngIf="product.ContentRiskDescError">
                                        <div class="error-text text-danger">
                                            Select Valid Equipment Name
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{ getContentTypeDescriptionAlt(product.ItemId) }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri"> 
                            <p-dropdown class="w-full"  [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Month"    [options]="monthList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.PurchaseMonth" />
                                    <div class="input-form-error" *ngIf="product.MonthError">
                                        <div class="error-text text-danger">
                                            Select Valid Purchased Month
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{ getMonthDescription(product.PurchaseMonth)  }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Year"    [options]="yearList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.PurchaseYear" />
                                    <div class="input-form-error" *ngIf="product.YearError">
                                        <div class="error-text text-danger">
                                            Select Valid PurchasedYear
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{product.PurchaseYear }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <input  pInputText type="text" placeholder="Enter Description" [(ngModel)]="product.MakeAndModel"  required />
                            <div class="input-form-error" *ngIf="product.MakeModelError">
                                <div class="error-text text-danger">
                                    Enter Valid Make & Model
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            {{product.MakeAndModel}}
                        </ng-container>         
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-inputNumber     [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Sum Insured
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>        
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentElectronicIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductEE(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <div >
            <p-button label="Save" (click)="onSaveElectronic('direct')" />&nbsp;&nbsp;
            <p-button label="Submit" (click)="onSaveElectronic('Submit')" />
        </div>
        </div>
    </ng-container> 
</p-dialog>
<p-dialog header="Machinery Breakdown Details" [modal]="true" [(visible)]="machineryDialog" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{getActualMBSI(item) | commaseparator}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getTotalMBSI() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total : {{getTotalAllRisk() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowMB()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="MachineryItem" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderMachinery">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentAllRiskRowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                            [options]="locationList" (onChange)="onChangeContentLocation(product)"
                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                             <div class="input-form-error" *ngIf="product.LocationNameError">
                                <div class="error-text text-danger">
                                   Select Location
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentAllRiskRowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                    </td> -->
                    <td>
                        
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc"  styleClass="w-full" placeholder="Select Equipment Name"    [options]="machineryDropdownList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.ItemId" />
                                    <div class="input-form-error" *ngIf="product.ContentRiskDescError">
                                        <div class="error-text text-danger">
                                            Select Valid Equipment Name
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{ getMBDescription(product.ItemId) }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri"> 
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Month"    [options]="monthList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.PurchaseMonth" />
                                    <div class="input-form-error" *ngIf="product.MonthError">
                                        <div class="error-text text-danger">
                                            Select Valid Purchased Month
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{ getMonthDescription(product.PurchaseMonth)  }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Year"    [options]="yearList" 
                                    appendTo="body" optionLabel="CodeDesc" optionValue="Code" [(ngModel)]="product.PurchaseYear" />
                                    <div class="input-form-error" *ngIf="product.YearError">
                                        <div class="error-text text-danger">
                                            Select Valid PurchasedYear
                                        </div>
                                    </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri"> {{product.PurchaseYear }}</ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <input  pInputText type="text" placeholder="Enter Description" [(ngModel)]="product.MakeAndModel"  required />
                            <div class="input-form-error" *ngIf="product.MakeModelError">
                                <div class="error-text text-danger">
                                    Enter Valid Make & Model
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            {{product.MakeAndModel}}
                        </ng-container>         
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex==ri">
                            <p-inputNumber     [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            <div class="input-form-error" *ngIf="product.SumInsuredError">
                                <div class="error-text text-danger">
                                    Enter Valid Sum Insured
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>        
                    </td>
                    <td>
                        <ng-container *ngIf="currentElectronicIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentElectronicIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductMB(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <div >
            <p-button label="Save" (click)="onSaveMachinery('direct')" />&nbsp;&nbsp;
            <p-button label="Submit" (click)="onSaveMachinery('Submit')" />
        </div>
        </div>
    </ng-container> 
</p-dialog>
<p-dialog header="Owner's Liability Details" [modal]="true" [(visible)]="personalLiabilityDialog" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.PersonalLiabilitySI}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getPLTotal() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total :{{getPLTotal() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowPL()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowPL" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalLiability">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                                [options]="locationList" (onChange)="onChangeContentLocation(product)"
                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.LocationNameError">
                            <div class="error-text text-danger">
                              Please  Select Location
                            </div>
                        </div>
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Occupation"
                            [options]="occupationList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.OccupationId" />
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                           {{getOccupationName(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.OccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <input class="w-full p-button-outlined customInput" placeholder="Enter Name" styleClass="w-full customInput"  pInputText type="text" 
                            [(ngModel)]="product.Name" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri"> {{ product.Name }}</ng-container>
                        <div class="input-form-error" *ngIf="product.NameError">
                            <div class="error-text text-danger">
                                Please Enter Name
                            </div>
                        </div>
                    </td>
                   
                    <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <p-calendar class="w-full customZIndex customInput" styleClass="w-full customZIndex customInput" appendTo="body" 
                            [maxDate]="minDate"  [(ngModel)]="product.Dob"  [defaultDate]="minDate"
                            dateFormat="dd/mm/yy" placeholder="Select Date Of Birth" ></p-calendar>
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                            {{getProductDob(product)}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.DobError">
                            <div class="error-text text-danger">
                                Please Select Date of Birth
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <p-inputNumber class="customInput" styleClass="customInput"  [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Salary
                            </div>
                        </div> 
                    </td>
                    <td>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentPLRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductPL(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
            <p-button label="Save" (click)="onSavePL('direct','PL')" />
        </div>
        </div>
    </ng-container> 
</p-dialog>
<p-dialog header="Group Accident Details" [modal]="true" [(visible)]="personalAccidentDialog" [style]="{ width: '80rem' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{getSumInsuredGPA('182',item)}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getPATotal() | commaseparator}}</span></b></div>
            <!-- <div class="col-12 md:col-2 lg:col-2" >Total :{{getPATotal() | commaseparator}}</div> -->
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowPA()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowPA" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalAccident">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                                [options]="TableRowBuilding" (onChange)="onChangeContentLocation(product)"
                                    appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.LocationNameError">
                            <div class="error-text text-danger">
                              Please  Select Location
                            </div>
                        </div>
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Occupation"
                            [options]="occupationList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.OccupationId" />
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{getOccupationName(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.OccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <input class="w-full p-button-outlined customInput" placeholder="Enter Name" styleClass="w-full customInput"  pInputText type="text" 
                            [(ngModel)]="product.Name" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri"> {{ product.Name }}</ng-container>
                        <div class="input-form-error" *ngIf="product.NameError">
                            <div class="error-text text-danger">
                                Please Enter Name
                            </div>
                        </div>
                    </td>
                    <!-- <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-dropdown class="w-full customInput"  styleClass="w-full customInput" placeholder="Select Nationality"
                            [options]="countryList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.Nationality" />
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{getNationalityDesc(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.NationalityError">
                            <div class="error-text text-danger">
                                Please Select Nationality
                            </div>
                        </div>
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-calendar class="w-full customZIndex customInput" styleClass="w-full customZIndex customInput" appendTo="body" 
                            [maxDate]="minDate"  [(ngModel)]="product.Dob"  [defaultDate]="minDate"
                            dateFormat="dd/mm/yy" placeholder="Select Date Of Birth" ></p-calendar>
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{getProductDob(product)}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.DobError">
                            <div class="error-text text-danger">
                                Please Select Date of Birth
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-inputNumber styleClass="customInput" class="customInput" [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Salary
                            </div>
                        </div> 
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentPARowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductPA(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr> 
            </ng-template>
        </p-table>
        <div class="grid justify-content-center gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="personalAccidentDialog = false" />
            <div >
            <p-button label="Save" (click)=" onSavePA('direct','GPA')" />&nbsp;&nbsp;
            <p-button label="Submit" (click)=" onSavePA('Submit','GPA')" />
            </div>
        </div>
    </ng-container>
</p-dialog>

<!-- <p-dialog header="Accident Details" [modal]="true" visible="false" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-between">
            <ng-container *ngFor="let item of LocationList">
                <ng-container *ngIf="item.LocationId==locationId">
                    <div class="col-12 md:col-2 lg:col-2"><b>Location : <span class="primaryTextColor">{{item.LocationName}}</span></b></div>
                    <div class="col-12 md:col-3 lg:col-3"><b>Actual SumInsured : <span class="primaryTextColor">{{item.DeathSI}} </span></b></div>
                </ng-container>
            </ng-container>
            <div  class="col-12 md:col-3 lg:col-3"><b>Total : <span class="primaryTextColor">{{getPATotal() | commaseparator}}</span></b></div>
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowPA()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowPA" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalAccident">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Occupation"
                            [options]="occupationList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.OccupationId" />
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{getOccupationName(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.OccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <input class="w-full p-button-outlined customInput" placeholder="Enter Name" styleClass="w-full customInput"  pInputText type="text" 
                            [(ngModel)]="product.Name" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri"> {{ product.Name }}</ng-container>
                        <div class="input-form-error" *ngIf="product.NameError">
                            <div class="error-text text-danger">
                                Please Enter Name
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-calendar class="w-full customZIndex customInput" styleClass="w-full customZIndex customInput" appendTo="body" 
                            [maxDate]="minDate"  [(ngModel)]="product.Dob"  [defaultDate]="minDate"
                            dateFormat="dd/mm/yy" placeholder="Select Date Of Birth" ></p-calendar>
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{getProductDob(product)}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.DobError">
                            <div class="error-text text-danger">
                                Please Select Date of Birth
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex==ri">
                            <p-inputNumber styleClass="customInput" class="customInput" [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            
                        </ng-container>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Salary
                            </div>
                        </div> 
                    </td>
                    <td>
                        <ng-container *ngIf="currentPARowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentPARowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductPA(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr> 
            </ng-template>
        </p-table>
        <div class="grid justify-content-center gap-2 mt-5">
            <div >
            <p-button label="Save" (click)=" onSavePA('direct')" />
            </div>
        </div>
    </ng-container>
</p-dialog> -->
<p-dialog header="Domestic Servant Details" [modal]="true" [(visible)]="domesticServantDialog" [style]="{ width: '80rem','z-index': '1000 !important' }">
    <ng-container  class="mt-5">
        <div class="grid justify-content-end">
            <!-- <div class="col-12 md:col-6 lg:col-6"> -->
                <!--  -->
                <!-- <p-button label="Add" (click)="Addnew(TableRow)" /> -->
            <!-- </div> -->
            <!-- <div class="col-12 md:col-4 lg:col-4">
                <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Occupation"
                [options]="occupationList"
                    appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="plOccupationId" />
                    <div class="input-form-error" *ngIf="plOccupationError">
                        <div class="error-text text-danger">
                            Please Select Occupation
                        </div>
                    </div>
            </div> -->
            <div class="col-12 md:col-8 lg:col-8"></div>
            <div class="col-12 md:col-2 lg:col-2" >Total :{{getDSTotal() | commaseparator}}</div>
            <div class="col-12 md:col-2 lg:col-2"><p-button label="Add New" icon="pi pi-plus" (click)="addRowDS()" /></div>
        </div>
    </ng-container>
    <ng-container  class="mt-5">
        <p-table [value]="TableRowDS" dataKey="id" editMode="row" [rows]="5" [paginator]="false" [tableStyle]="{'min-width': '50rem'}" >
            <ng-template pTemplate="header">
                <tr>
                    <th [pSortableColumn]="column" *ngFor="let column of columnHeaderPersonalLiability">
                        {{column}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-ri="rowIndex">
                <tr>
                    <!-- <td>
                        <ng-container *ngIf="currentDSRowIndex==ri">
                            <p-dropdown class="w-full"  styleClass="w-full" placeholder="Select Location"
                                [options]="TableRowBuilding" (onChange)="onChangeContentLocation(product)"
                                appendTo="body" optionLabel="LocationName" optionValue="RiskId"  [(ngModel)]="product.RiskId" />
                        </ng-container>
                        <ng-container *ngIf="currentDSRowIndex!=ri">
                           {{product.LocationName}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.LocationNameError">
                            <div class="error-text text-danger">
                              Please  Select Location
                            </div>
                        </div>
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentDSRowIndex==ri">
                            <p-dropdown class="w-full" [filter]="true" filterBy="CodeDesc" styleClass="w-full" placeholder="Select Occupation"
                            [options]="occupationList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.OccupationId" />
                        </ng-container>
                        <ng-container *ngIf="currentDSRowIndex!=ri">
                           {{getOccupationName(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.OccupationError">
                            <div class="error-text text-danger">
                                Please Select Occupation
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentDSRowIndex==ri">
                            <input class="w-full p-button-outlined customInput" placeholder="Enter Name" styleClass="w-full customInput"  pInputText type="text" 
                            [(ngModel)]="product.Name" />
                            
                        </ng-container>
                        <ng-container *ngIf="currentDSRowIndex!=ri"> {{ product.Name }}</ng-container>
                        <div class="input-form-error" *ngIf="product.NameError">
                            <div class="error-text text-danger">
                                Please Enter Name
                            </div>
                        </div>
                    </td>
                    <!-- <td>
                        <ng-container *ngIf="currentPLRowIndex==ri">
                            <p-dropdown class="w-full customInput"  styleClass="w-full customInput" placeholder="Select Nationality"
                            [options]="countryList"
                                appendTo="body" optionLabel="CodeDesc" optionValue="Code"  [(ngModel)]="product.Nationality" />
                        </ng-container>
                        <ng-container *ngIf="currentPLRowIndex!=ri">
                            {{getNationalityDesc(product)}}
                        </ng-container>
                        <div class="input-form-error" *ngIf="product.NationalityError">
                            <div class="error-text text-danger">
                                Please Select Nationality
                            </div>
                        </div>
                    </td> -->
                    <td>
                        <ng-container *ngIf="currentDSRowIndex==ri">
                            <p-calendar class="w-full customZIndex customInput" styleClass="w-full customZIndex customInput" appendTo="body" 
                            [maxDate]="minDate"  [(ngModel)]="product.Dob"  [defaultDate]="minDate"
                            dateFormat="dd/mm/yy" placeholder="Select Date Of Birth" ></p-calendar>
                        </ng-container>
                        <ng-container *ngIf="currentDSRowIndex!=ri">
                            {{getProductDob(product)}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.DobError">
                            <div class="error-text text-danger">
                                Please Select Date of Birth
                            </div>
                        </div>
                    </td>
                    <td>
                        <ng-container *ngIf="currentDSRowIndex==ri">
                            <p-inputNumber class="customInput" styleClass="customInput"  [(ngModel)]="product.SumInsured" inputId="integeronly"  />
                            
                        </ng-container>
                        <ng-container *ngIf="currentDSRowIndex!=ri">
                            {{product.SumInsured | commaseparator}}
                        </ng-container>   
                        <div class="input-form-error" *ngIf="product.SumInsuredError">
                            <div class="error-text text-danger">
                                Enter Valid Salary
                            </div>
                        </div> 
                    </td>
                    <td>
                        <ng-container *ngIf="currentDSRowIndex!=ri">
                            <div class="flex align-items-center justify-content-center gap-2">
                                <button  pButton type="button"  icon="pi pi-pencil"   
                                    (click)="currentDSRowIndex=ri" styleClass="p-button-outlined">
                                </button>
                            </div>
                        </ng-container>
                    </td>
                    
                    <td>
                        <ng-container >
                            <div class="flex align-items-center justify-content-center gap-2" >
                                <button  pButton type="button"    icon="pi pi-trash"  (click)="deleteProductDS(ri)" 
                                    styleClass="p-button-outlined" >
                                </button>
                            </div>
                        </ng-container>
                    </td>
                </tr>
               
            </ng-template>
           
        </p-table>
        <!-- <div class="flex justify-content-end gap-2 mt-5">
            <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" />
            <p-button label="Save" (click)="saveProduct()" />
        </div> -->
        <div class="grid justify-content-center gap-2 mt-5">
            <!-- <p-button label="Cancel" styleClass="p-button-outlined"  (click)="visible = false" /> -->
            <div >
            <p-button label="Save" (click)="onSavePL('direct','DS')" />
        </div>
        </div>
    </ng-container> 
</p-dialog>
<p-sidebar [(visible)]="sidebarVisible" position="right" styleClass="sm:20rem md:w-30rem">
    <ng-template pTemplate="header">
        <h3>Jared Black</h3>
    </ng-template>
    <ng-template pTemplate="content">
        <div class="flex flex-wrap justify-content-between">
            <p-chip label="Customer ID" icon="pi pi-user"></p-chip>
            <div class="button-group">
                <p-button styleClass="p-button-outlined" icon="pi pi-phone"></p-button>
                <p-button styleClass="p-button-outlined" icon="pi pi-whatsapp"></p-button>
                <p-button styleClass="p-button-outlined" icon="pi pi-envelope"></p-button>
            </div>
        </div>
        <hr>
        <div class="card w-full">
            <h4>Accessories 1</h4>
            <div class="grid">
                <div class="col-9">
                    <p>JRED</p>
                    <div class="flex flex-wrap mb-3">
                        <p-dropdown [options]="years" optionLabel="label" [showClear]="true"></p-dropdown>
                    </div>
                </div>
                <div class="col-3 text-right">
                    <h4 class="text-orange-500 mb-0">$100</h4>
                    <p><s>$140</s></p>
                    <p class="text-orange-500">40% Off</p>
                </div>
            </div>
            <div class="grid justify-content-between px-3">
                <p>40% discount is applied for Accessories</p>
                <p-button icon="pi pi-trash" severity="danger" styleClass="p-button-outlined"></p-button>
            </div>
        </div>
    </ng-template>
    
    
    <ng-template pTemplate="footer">
        <div class="flex flex-wrap justify-content-between">
            <div class="mr-0">
                <p-button class="p-3 text-l pi-button">Proceed</p-button>
            </div>
            <div class="text-white surface-900 px-6 py-3 border-round-lg flex" (click)="showSidebar()">
                <h5 class="text-white mb-1 mr-3">Total</h5>
                <div>
                    <p class="mb-0"><s>$455</s></p>
                    <h6 class="text-white my-0">$400/ yearly</h6>
                </div>
            </div>
        </div>
    </ng-template>
</p-sidebar>
